"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40259],{93156:function(a,b,c){var d=c(62958),e=c(56890);function f(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var g,h=function(a){if(Array.isArray(a))return f(a)}(g=(0,d.Bx)({serializableCheck:{ignoredActions:["widgets/updateContentState"]}}))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(g)||function a(b,c){if(b){if("string"==typeof b)return f(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return f(b,c)}}(g)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=(0,d.xC)({reducer:e.ZP,middleware:h,devTools:!1});c.g.store=i,b.Z=i},94296:function(a,b,c){c.d(b,{B7:function(){return p},OK:function(){return o},wW:function(){return n}});var d,e=c(62958),f=c(92874),g=c(3183),h=c(131),i=c(88969);function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var k={},l=(0,e.oM)({name:"editorPageSummary",initialState:k,reducers:{editorPageSummaryChange:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){j(a,b,c[b])})}return a}({},a,b.payload)},saveAPIKey:function(a,b){var c,d=b.payload.apiKey,f=d.id,g=void 0===f?"":f,h=d.key,i=void 0===h?"":h,j=d.value,k=d.useAsDefault,l=d.urlText,m=d.helpText,n=d.isUrl,o=null!==(c=null==a?void 0:a.api_keys)&& void 0!==c?c:[],p={id:g||(0,e.x0)(),key:i,name:i,value:void 0===j?"":j,urlText:void 0===l?"":l,helpText:void 0===m?"":m,useAsDefault:void 0!==k&&k,isUrl:void 0!==n&&n},q=o.findIndex(function(a){return a.id===g});-1!==q?a.api_keys[q]=p:a.api_keys.push(p)},removeAPIKey:function(a,b){var c=b.payload,d=(null==a?void 0:a.api_keys).findIndex(function(a){return a.id===c.id});if(-1===d)return a;a.api_keys.splice(d,1)}},extraReducers:(j(d={},g.y.fulfilled.type,function(a,b){var c=b.payload;return{marketing_page_title:c.marketing_page_title||"",tags:c.tags||"",marketing_page_url:c.marketing_page_url||"",canonical_url:c.canonical_url||"",marketing_page_summary:c.marketing_page_summary||"",author_name:c.author_name||"",author_email:c.author_email||"",author_email_full_name:c.author_email_full_name||"",profile_image_serving_url:c.profile_image_serving_url||"",author_id:c.author_id||"",published_date:c.published_date||"",api_keys:JSON.parse(c.api_keys||"[]"),redirect_url:c.redirect_url||"",marketing_page_cta:c.marketing_page_cta||"",marketing_page_version:c&&(!c.marketing_page_version&&1!==Object.keys(c).length||"v1"===c.marketing_page_version)?"v1":"v2",marketing_page_cta_type:c.marketing_page_cta_type||"",marketing_page_cta_hubspot_modal:c.marketing_page_cta_hubspot_modal||{},marketing_page_cover_shadow:c.marketing_page_cover_shadow||!1,marketing_page_cta_redirect_url:c.marketing_page_cta_redirect_url||"",marketing_page_summary_background:c.marketing_page_summary_background||"",marketing_page_cover_image_alignment:c.marketing_page_cover_image_alignment||h.b0L,marketing_page_cta_button_height:c.marketing_page_cta_button_height||"h-11",marketing_page_cta_button_color:c.marketing_page_cta_button_color||"#5553FF",marketing_page_cta_button_alignment:c.marketing_page_cta_button_alignment||i.Hu.LEFT,marketing_page_selected_media_type:c.marketing_page_selected_media_type||i.Wp.IMAGE,marketing_page_video_url:c.marketing_page_video_url||"",marketing_page_video_autoplay:c.marketing_page_video_autoplay||!1,marketing_page_mdHtml_title:c.marketing_page_mdHtml_title||"",marketing_page_mdHtml_summary:c.marketing_page_mdHtml_summary||""}}),j(d,f.oh.clear.type,function(a){return k}),d)});b.ZP=l.reducer;var m=l.actions,n=m.editorPageSummaryChange,o=m.saveAPIKey,p=m.removeAPIKey},9151:function(a,b,c){c.d(b,{I:function(){return n}});var d,e=c(62958),f=c(92874),g=c(15288),h=c(689),i=c(26765),j=c(97725);function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l={},m=(0,e.oM)({name:"pageSummary",initialState:l,reducers:{change:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},a,b.payload)}},extraReducers:(k(d={},g.w.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,h.x.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,i.D.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,j.m.fulfilled.type,function(a,b){return b.payload.summary||{}}),k(d,f.oh.clear.type,function(a){return l}),d)});b.Z=m.reducer;var n=m.actions},18133:function(a,b,c){c.d(b,{k:function(){return k}});var d,e=c(62958),f=c(92874),g=c(41590);function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var i={},j=(0,e.oM)({name:"shotSummary",initialState:i,reducers:{change:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}({},a,b.payload)}},extraReducers:(h(d={},g.T.fulfilled.type,function(a,b){return b.payload}),h(d,f.oh.clear.type,function(a){return i}),h(d,g.T.updateShotTags.type,function(a,b){var c=b.payload;a.tags=c}),d)});b.Z=j.reducer;var k=j.actions},88669:function(a,b,c){c.d(b,{i:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(63697),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,j.oM)({name:"affiliate/catalog-data",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b,c){var d,f;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(s.pending()),d.abrupt("return",(0,g.Z)({url:"/api/affiliate/".concat(c,"/catalog-data"),type:"POST",data:{start_date:a,end_date:b}}).then(function(a){f(s.fulfilled({sales:(0,i.Z)(JSON.parse(a))}))}).catch(function(a){f(s.rejected((0,h.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){k(f,c,e,g,h,"next",a)}function h(a){k(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},50058:function(a,b,c){c.d(b,{N:function(){return f}});var d,e=(0,c(62958).oM)({name:"ajaxMode",initialState:{enabled:!0},reducers:{set:function(a,b){var c=b.payload;a.enabled=c}}});b.Z=e.reducer;var f=e.actions},1680:function(a,b,c){c.d(b,{H:function(){return r}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n=(0,f.Z)(),o=n.initialState,p=n.reducers,q=(0,i.oM)({name:"allCollaborators",initialState:o,reducers:p});b.Z=q.reducer;var r=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},q.actions),m=(m={load:function(a,b,c){var d,f;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(r.pending()),d.abrupt("return",(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/collaborators?considerSelf=").concat(c),type:"GET"}).then(function(a){f(r.fulfilled(JSON.parse(a)))}).catch(function(a){f(r.rejected((0,h.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){j(f,c,e,g,h,"next",a)}function h(a){j(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},8519:function(a,b,c){c.d(b,{Tk:function(){return M},ZH:function(){return K},"_F":function(){return L},hh:function(){return I},yB:function(){return N},zD:function(){return H}});var d=c(41344),e=c.n(d),f=c(36601),g=c(12814),h=c(131),i=c(9661),j=c(73756),k=c(66226),l=c(62958),m=c(69146);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function r(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function s(a,b){if(null==a)return{};var c,d,e=t(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function t(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var u=(0,f.Z)(),v=u.initialState,w=u.reducers,x=(0,l.oM)({name:"articleRevisions",initialState:v,reducers:r(q({},w),{selectedSnapshotChanged:function(a,b){var c=b.payload;c&&a.loaded&&a.data&&(a.data.selectedSnapshot=c)},selectedRevisionChanged:function(a,b){var c=b.payload;c&&a.loaded&&a.data&&(a.data.selectedRevision=c)},updateSnapShotTitle:function(a,b){var c=b.payload,d=c.snapshots,e=c.revisionId;d&&a.loaded&&a.data.revisions[e]&&(a.data.revisions[e].snapshots=d)}})});function y(a,b,c,d){return null!==d?"author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/revision/").concat(d,"/snapshots"):"author/".concat(a,"/collection/").concat(b,"/page/").concat(c,"/revisions")}b.ZP=x.reducer;var z=function(a){return a().author.articleRevisions.data||null};function A(a,b){var c=z(b);if(!c)return"";if(null!==a){var d=c.revisions[a];return d.nextCursor?d.nextCursor:""}return c.nextCursor}var B=function(a){var b=a.created,c=s(a,["created"]);return q({created:new Date(b)},c)},C=function(a,b,c){var d=z(c),e=b.has_more,f=b.next_cursor,g=b.snapshots,h=s(b,["has_more","next_cursor","snapshots"]),i=g.map(B);if(!d)return{hasMore:!0,nextCursor:"",revisions:p({},a,q({revisionId:a,lastModified:new Date,nextCursor:f,hasMore:e,snapshots:i},h))};var j=d.revisions[a],k=q({},d.revisions);d.revisions;var l=s(d,["revisions"]),m=j.snapshots,n=s(j,["snapshots"]);return k[a]=q(r(q({},n),{hasMore:e,nextCursor:f,snapshots:m?m.concat(i):i}),h),r(q({},l),{revisions:k})},D=function(a){var b=a.last_modified,c=a.revision_id,d=a.is_draft,e=s(a,["last_modified","revision_id","is_draft"]);return q({lastModified:new Date(b),revisionId:parseInt(c,10),isDraft:d},e)},E=function(a){return a?a.reduce(function(a,b){return r(q({},a),p({},b.revision_id,D(b)))},{}):{}},F=function(a,b){var c=z(b),d=a.has_more,e=a.next_cursor,f=a.revisions,g=s(a,["has_more","next_cursor","revisions"]);if(!c)return q({hasMore:d,nextCursor:e,revisions:E(f)},g);var h=c.revisions,i=s(c,["revisions"]);return q(r(q({},i),{hasMore:d,nextCursor:e,revisions:q({},h,E(f))}),g)},G=function(a,b,c){var d=JSON.parse(c);return null===a?F(d,b):C(a,d,b)},H=function(a,b,c,d){var f,j=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,k=arguments.length>5&& void 0!==arguments[5]?arguments[5]:[];return f=o(e().mark(function f(l,n){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(x.actions.pending()),e.abrupt("return",(0,i.Z)({url:"/api/".concat(y(a,b,c,j)).concat((0,m.N)({page_size:h.Uso,start_cursor:A(j,n),id_whitelist:JSON.stringify(k),document_type:d})),type:"GET"}).then(function(a){l(x.actions.fulfilled(G(j,n,a)))}).catch(function(a){l(x.actions.rejected((0,g.nU)(a)))}));case 2:case"end":return e.stop()}},f)})),function(a,b){return f.apply(this,arguments)}},I=function(a,b){var c,d=!(arguments.length>2)|| void 0===arguments[2]||arguments[2];return c=o(e().mark(function c(f){var g;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d&&f(j.n.show(k.ad,{status:"WAIT",text:"Saving Title"})),g=(0,i.Z)({url:"/api/collection/snapshot_name/".concat(a),type:"PUT",data:{title:b}}).then(function(){return d&&f(j.n.update({status:"SUCCESS",text:"Title saved successfully"})),!0}).catch(function(a){var b=a.responseText,c="Unable to Save Changes";try{var d,e=null===(d=JSON.parse(b).errors)|| void 0===d?void 0:d.title,g="Field cannot be longer than 20 characters.";e===g&&(c=g)}finally{return f(j.n.update({status:"ERROR",text:c})),!1}}),c.abrupt("return",g);case 3:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}},J=x.actions,K=J.clear,L=J.updateSnapShotTitle,M=J.selectedRevisionChanged,N=J.selectedSnapshotChanged},41735:function(a,b,c){c.d(b,{ZH:function(){return p},zD:function(){return o}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}var k=(0,f.Z)(),l=k.initialState,m=k.reducers,n=(0,i.oM)({name:"author/articleSnapshot/properties",initialState:l,reducers:m});b.ZP=n.reducer;var o=function(a,b,c){var d,f;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(n.actions.pending()),d.abrupt("return",(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/snapshot/props?key=").concat(c),type:"GET"}).then(function(a){f(n.actions.fulfilled(JSON.parse(a)))}).catch(function(a){f(n.actions.rejected((0,h.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){j(f,c,e,g,h,"next",a)}function h(a){j(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}},p=n.actions.clear},53604:function(a,b,c){c.d(b,{ES:function(){return U},IM:function(){return aa},Kd:function(){return $},Lo:function(){return Z},Ol:function(){return Q},Us:function(){return _},ds:function(){return H},ms:function(){return R}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(3607),i=c(31222),j=c(131),k=c(92401),l=c(73756),m=c(66226),n=c(12814),o=c(58564),p=c(8654),q=c(36343),r=c(830),s=c(47829),t=c(2961),u=c(9661),v=c(51840),w=c(92879),x=c(33822),y=c(83443);function z(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function A(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function B(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){A(f,d,e,g,h,"next",a)}function h(a){A(f,d,e,g,h,"throw",a)}g(void 0)})}}function C(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function D(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){C(a,b,c[b])})}return a}function E(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var F={categories:[JSON.parse(JSON.stringify(new h.Z(!0,!1,!1,j.j1J.ASSESSMENT_CATEGORY))),]},G=function(a,b){return a.findIndex(function(a){return a.id===b})},H={text:"",mdHtml:""},I=function(a,b){var c;return E(D({},a),{content:E(D({},a.content),{questionStatement:(null===(c=a.content)|| void 0===c?void 0:c.questionStatement)||H}),skills:((null==a?void 0:a.skills)||[]).filter(function(a){return(null==b?void 0:b.indexOf(a))>=0})})},J=function(a,b,c,d,e,f){var g=a.toc.categories;if(g.forEach(function(a){return a.editMode=!1}),void 0!==e){var i=g[e].pages,k=i.splice(d+1);i=i.slice(0,d+1);var l=i,m=new h.Z(!1,b,!1,j.j1J.ASSESSMENT_CATEGORY,void 0,void 0,void 0,f);(m=JSON.parse(JSON.stringify(m))).pages=k,g[e].pages=l,g.splice(e+1,0,m)}else{var n=new h.Z(!1,b,c,j.j1J.ASSESSMENT_CATEGORY,void 0,void 0,void 0,f);n=JSON.parse(JSON.stringify(n)),g.push(n)}},K=function(a,b,c,d){var e=b.question_id;if(null==d){var f,g,h,k,l,m,n,o,p=new i.Z(parseInt(e),j.qen.ASSESSMENT_QUESTION);null==a||null===(l=a.data)|| void 0===l||null===(m=l.toc)|| void 0===m||null===(n=m.categories)|| void 0===n||null===(o=n[c])|| void 0===o||o.pages.push(JSON.parse(JSON.stringify(p)))}else null==a||null===(f=a.data)|| void 0===f||null===(g=f.toc)|| void 0===g||null===(h=g.categories)|| void 0===h||null===(k=h[c])|| void 0===k||k.pages.splice(d+1,0,JSON.parse(JSON.stringify(new i.Z(parseInt(e),j.qen.ASSESSMENT_QUESTION))))},L=(0,f.Z)(),M=L.initialState,N=L.reducers,O=(0,g.oM)({name:"assessment",initialState:E(D({},M),{question:null}),reducers:E(D({},N),{updateAssessmentTitle:function(a,b){var c=b.payload;a.data.title=c,a.data.dirty=!0},updatePublishStatus:function(a,b){var c=b.payload;a.data.is_published=c},setDirty:function(a,b){var c=b.payload;a.data.dirty=c},updateAssessmentTimeLimit:function(a,b){var c=b.payload;a.data.time_limit=c,a.data.dirty=!0},updateAssessmentMaxAttempts:function(a,b){var c=b.payload;a.data.max_attempts=c,a.data.dirty=!0},updateAssessmentPassPercentage:function(a,b){var c=b.payload;a.data.pass_percentage=c,a.data.dirty=!0},updateEnterpriseAssessmentCriteria:function(a,b){var c=b.payload;a.data.pass_percentage=c,a.data.pass_percentage&&"0"!==a.data.pass_percentage?a.data.grading_criteria=j.$88.BINARY:a.data.grading_criteria=j.$88.UNGRADED,a.data.dirty=!0},updateAssessmentGradingCriteria:function(a,b){var c=b.payload;a.data.grading_criteria=c,a.data.dirty=!0},updateAssessmentSummary:function(a,b){var c=b.payload;a.data.summary=c,a.data.dirty=!0},updatePreparationWorks:function(a,b){var c=b.payload;a.data.preparation_works=c,a.data.dirty=!0},updateAssessmentContent:function(a,b){var c=b.payload;a.data.assessment_content=c,a.data.dirty=!0},addUserDataResourceFile:function(a,b){var c=b.payload;a.data.udata_files.push(c),a.data.dirty=!0},updateUserDataResourceFile:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.data.udata_files[e]=D({},a.data.udata_files[e],d),a.data.dirty=!0},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.data.udata_files.splice(c,1),a.data.dirty=!0},addCategory:function(a,b){var c,d,e,f=b.payload,g=f.index,h=f.parentIndex,i=f.title,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,k=(null==(e=j)?void 0:e[0].title)==="__default",l=a.data.is_skill_assessment;k?(a.data.toc.categories[0].title=i||"Untitled ".concat(l?"set":"category"),a.data.toc.categories[0].editMode=!i):J(a.data,!i,!1,g,h,i),a.data.dirty=!0},addQuestion:function(a,b){var c,d,e=b.payload,f=e.category_id,g=e.question,h=e.index,i=G(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,f);K(a,g,i,h),a.data.dirty=!0},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=G(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,g);a.data.toc.categories[h].title="__default"!==f?f:"",a.data.toc.categories[h].editMode=!1,a.data.dirty=!0},toggleQuestionSet:function(a,b){var c=b.payload.id,d=G(a.data.toc.categories,c);a.data.toc.categories[d].excludeSet=!a.data.toc.categories[d].excludeSet,a.data.toc.categories[d].editMode=!1,a.data.dirty=!0},updateQuestionTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.questionId,f=c.title;if(a.data){if(d){var g=G(a.data.toc.categories,d),h=G(a.data.toc.categories[g].pages,e);a.data.toc.categories[g].pages[h].title=f,a.data.toc.categories[g].pages[h].editMode=!1}a.data.dirty=!0}},moveCategory:function(a,b){var c,d,e,f=b.payload,g=f.from,h=f.to,i=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:e[g.itemIndex];a.data.toc.categories.splice(g.itemIndex,1),a.data.toc.categories.splice(h.itemIndex,0,i),a.data.dirty=!0},moveQuestionWithinOrigin:function(a,b){var c,d,e,f,g=b.payload,h=g.from,i=g.to,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:null===(f=e[h.parentIndex])|| void 0===f?void 0:f.pages;j.splice(i.itemIndex,0,j.splice(h.itemIndex,1)[0]),a.data.dirty=!0},moveQuestionToNotEmptyCategory:function(a,b){var c,d=b.payload,e=d.from,f=d.to,g=null===(c=null==a?void 0:a.data.toc)|| void 0===c?void 0:c.categories;g[f.parentIndex].pages.splice(f.itemIndex,0,g[e.parentIndex].pages.splice(e.itemIndex,1)[0]),a.data.dirty=!0},removeQuestion:function(a,b){var c,d,e,f,g,h,i=b.payload,j=i.category_id,k=i.article_id,l=G(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,j),m=G(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:null===(h=g[l])|| void 0===h?void 0:h.pages,k);a.data.toc.categories[l].pages.splice(m,1),a.data.dirty=!0},removeCategory:function(a,b){var c,d,e,f,g,h=b.payload.id,i=G(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,h);a.data.toc.categories.splice(i,1),(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.length)||(a.data.toc=F),a.data.dirty=!0},setQuestion:function(a,b){var c,d=b.payload;a.question=I(d.data,null===(c=a.data)|| void 0===c?void 0:c.skills),a.question[k.Zq]=d[k.Zq]},setRestoredQuestion:function(a,b){var c=b.payload;a.question&&(a.question.content=c.data.content,a.question.protected_content=c.data.protected_content,a.question.question_type=c.data.question_type,a.question.difficulty=c.data.difficulty,a.question.relevant_lessons=c.data.relevant_lessons,a.question.skills=c.data.skills,a.question.snapshot_loaded=!0)},clearRestoredQuestion:function(a){a.question&&(a.question.content=null,a.question.protected_content=null,a.question.question_type=null,a.question.difficulty=null,a.question.snapshot_loaded=!1)},setQuestionGoingToPreview:function(a,b){var c=b.payload;a.question&&(a.question.goingToPreview=c)},updateQuestionData:function(a,b){var c=b.payload;a.question.content=c.content,a.question.protected_content=c.protected_content,a.question.question_type=c.question_type,a.question.difficulty=c.difficulty,a.question.skills=c.skills,a.question.relevant_lessons=c.relevant_lessons,a.question.dirty=!0,a.question.topics=c.topics},updateQuestionType:function(a,b){var c=b.payload;a.question.question_type=c},moveChoices:function(a,b){var c=b.payload,d=c.from,e=c.to;if(c.assessmentType===j.Q5R.QUESTIONNAIRE){var f,g,h,i=null==a?void 0:null===(f=a.question)|| void 0===f?void 0:null===(g=f.content)|| void 0===g?void 0:null===(h=g.choices)|| void 0===h?void 0:h[d];a.question.content.choices.splice(d,1),a.question.content.choices.splice(e,0,i)}else{var k,l,m=a.question.content.widgetContent.content.statements[0][d];a.question.content.widgetContent.content.statements[0][d]=a.question.content.widgetContent.content.statements[0][e],a.question.content.widgetContent.content.statements[0][e]=m,(null===(k=a.question)|| void 0===k?void 0:k.protected_content.answers[0])===d?a.question.protected_content.answers[0]=e:(null===(l=a.question)|| void 0===l?void 0:l.protected_content.answers[0])===e&&(a.question.protected_content.answers[0]=d)}a.question.dirty=!0},updateChoiceData:function(a,b){var c=b.payload,d=c.choice,e=c.id;a.question.content.choices[e]=d},updatePlanDetails:function(a,b){var c=b.payload,d=c.plan_details,e=c.id;a.question.content.choices[e].plan_details=d,a.question.dirty=!0},addChoice:function(a,b){var c,d=b.payload.choice;a.question.content.choices=null!==(c=a.question.content.choices)&& void 0!==c?c:[],a.question.content.choices.push(d),a.question.dirty=!0},removeChoice:function(a,b){var c=b.payload.index;a.question.content.choices.splice(c,1),a.data.dirty=!0},duplicateChoice:function(a,b){var c=b.payload.index;a.question.content.choices.splice(c+1,0,a.question.content.choices[c]),a.data.dirty=!0},updateChoiceName:function(a,b){var c=b.payload,d=c.index,e=c.name;a.question.content.choices[d].name=e,a.data.dirty=!0},updateChoiceNextQuestion:function(a,b){var c=b.payload,d=c.index,e=c.value;a.question.content.choices[d].next_question_id="end"!==e?e:null,a.question.content.choices[d].is_terminating_choice="end"===e,a.data.dirty=!0},addChoiceModule:function(a,b){var c=b.payload,d=c.index,e=c.module_key;a.question.content.choices[d].linked_modules.push(e),a.data.dirty=!0},removeChoiceModule:function(a,b){var c=b.payload,d=c.index,e=c.module_key;a.question.content.choices[d].linked_modules=a.question.content.choices[d].linked_modules.filter(function(a){return a!==e}),a.data.dirty=!0},moveChoiceModule:function(a,b){var c=b.payload,d=c.from,e=c.to,f=c.choiceIndex,g=a.question.content.choices[f].linked_modules[d];a.question.content.choices[f].linked_modules.splice(d,1),a.question.content.choices[f].linked_modules.splice(e,0,g),a.question.dirty=!0},updateQuestionETag:function(a,b){var c,d=b.payload;a.question=null!==(c=a.question)&& void 0!==c?c:null,a.question[k.Zq]=d[k.Zq],d.saved&&(a.question.dirty=!1,a.question.modified=new Date().toISOString())},updateQuestionUsageMap:function(a,b){var c=b.payload;a.data.question_usage_map=c},postAssessmentSave:function(a,b){var c=b.payload;a.data[k.Zq]=c,a.data.dirty=!1},clearQuestion:function(a){a.question=null},clearIfNotDirty:function(a){var b,c;if(!(null===(b=a.question)|| void 0===b?void 0:b.goingToPreview)&&!(null==a?void 0:null===(c=a.question)|| void 0===c?void 0:c.dirty))return M},clearQuestionIfNotDirty:function(a){var b,c;(null==a?void 0:null===(b=a.question)|| void 0===b?void 0:b.goingToPreview)||(null==a?void 0:null===(c=a.question)|| void 0===c?void 0:c.dirty)||(a.question=null)},updateProgress:function(a,b){var c=b.payload;a.question&&(a.question.progress=c)}})});b.ZP=O.reducer;var P,Q=E(D({},O.actions),{load:function(a){var b,c=a.author_id,d=a.collection_id,f=a.assessment_id,g=a.planId,h=void 0===g?null:g,i=a.planAuthorId,l=void 0===i?null:i,m=a.menteeId,p=void 0===m?null:m,q=a.course_url_slug,r=void 0===q?"":q,s=a.page_url_slug,t=void 0===s?"":s,v=a.mode,w=a.assessment_type,x=void 0===w?j.Q5R.REGULAR:w,z=r&&t?"".concat(x===j.Q5R.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(r,"/").concat(t,"?assessment_type=").concat(x):"".concat(x===j.Q5R.SKILL_ASSESSMENT?"skill-assessment":"assessment","/").concat(c,"/").concat(d,"/").concat(f,"?assessment_type=").concat(x).concat(x===j.Q5R.SKILL_ASSESSMENT&&h&&l&&p?"&plan_id=".concat(h,"&plan_author_id=").concat(l,"&user_id=").concat(p):""),A="author/".concat(c,"/collection/").concat(d,"/assessment/").concat(f).concat(x===j.Q5R.QUESTIONNAIRE?"?assessment_type=questionnaire":""),C="view"===v||"compare"===v?z:A;return b=B(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(Q.pending()),a.abrupt("return",(0,u.Z)({url:"/api/".concat(C),type:"GET"},!0).then(function(a){return b(Q.fulfilled(S(a))),a&&(b(Q.updateETag(a.xhr.headers.get(k.Zq))),x===j.Q5R.SKILL_ASSESSMENT&&b(Q.loadSkillAssessmentQuestions(a))),a}).catch(function(a){a.status===o.Wy.unauthorizedException?(0,n.xc)():a.status===o.Wy.notFoundException&&b(y.i6.set({notFoundPageStatus:!0})),b(Q.rejected((0,n.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},save:function(a){var b=a.assessment;return function(a){return(0,p.jx)(T(b)).then(function(b){if(b&&(a(Q.postAssessmentSave(b.xhr.headers.get(k.Zq))),b.data)){var c=JSON.parse(b.data).question_usage_map;c&&a(Q.updateQuestionUsageMap(c))}})}},prepareDockerOnSetAssessment:function(a){var b;return b=B(e().mark(function b(c){var d,f,g,h,i,j;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=(null==a?void 0:a.docker)?E(D({},a.docker),{envs:null!==(d=a.docker.envs)&& void 0!==d?d:[]}):q.s4,b.next=4,(0,r.wi)();case 4:g=b.sent,h=E(D({},f),{container:E(D({},f.container),{liveInstance:g})}),c(s.r.setObject(h)),j=(null==a?void 0:a.testing_docker)?E(D({},a.testing_docker),{envs:null!==(i=a.testing_docker.envs)&& void 0!==i?i:[]}):q.s4,c(t.h.setObject(j));case 10:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}},saveQuestion:function(a){var b=a.question,c=a.assessment_type;return function(a){return(0,p.Us)(W(b),c).then(function(b){if(b){var c;if(a(Q.updateQuestionETag((C(c={},k.Zq,b.xhr.headers.get(k.Zq)),C(c,"saved",!0),c))),b.data){var d=JSON.parse(b.data).question_usage_map;d&&a(Q.updateQuestionUsageMap(d))}}})}},loadSkillAssessmentQuestions:function(a){return function(b){if(a){var c,d=null===(c=JSON.parse(a.data))|| void 0===c?void 0:c.question_content;if(d)return b(Q.setQuestion(C({data:d},k.Zq,a.xhr.headers.get(k.Zq)))),d}}},loadQuestion:function(a){return function(b){return(0,p.TV)(a).then(function(a){if(null==a?void 0:a.data){var c=JSON.parse(a.data);return b(Q.setQuestion(C({data:c},k.Zq,a.xhr.headers.get(k.Zq)))),c}})}},loadQuestionSnapshot:function(a,b,c,d){return function(c){return(0,p.vb)(a,b,d,j.qen.ASSESSMENT_QUESTION).then(function(a){if(null==a?void 0:a.data){var b=JSON.parse(a.data);return c(Q.setRestoredQuestion({data:b})),b}})}}}),R=function(a,b){var c=!(arguments.length>2)|| void 0===arguments[2]||arguments[2];return function(a,d){b&&a(b);var e=d().assessment.data.assessment_type===j.Q5R.QUESTIONNAIRE;return a(l.n.show(m.ad,{status:"WAIT",text:"Saving ".concat(e?"Questionnaire":"Assessment")})),a(Q.save({assessment:E(D({},d().assessment.data),{docker:JSON.stringify((0,q.qZ)(d().dockerDetails)),testing_docker:JSON.stringify((0,q.qZ)(d().testingDockerDetails))})})).then(function(){c&&a(l.n.show(m.ad,{status:"SUCCESS",text:"Saved"}))}).catch(function(c){(0,n.rU)(c,a);var d,f=null==c?void 0:null===(d=c.responseJSON)|| void 0===d?void 0:d.errorText;c.status===o.Wy.AlreadyExistsException&&f===o.pX.versionOutDatedMessage?a(ab(function(){a(Q.updateETag(j.FhE)),a(R(void 0,b))})):a(l.n.show(m.ad,{status:"ERROR",text:(0,n.nU)(c)||"Failed to save ".concat(e?"questionnaire":"assessment")}))})}},S=function(a){var b=JSON.parse(a.data);return Object.keys(b.toc).length||(b=E(D({},b),{toc:F,dirty:!1})),b},T=function(a){var b=a.udata_files.map(function(a){return a.file_id});b=JSON.stringify(b);var c=JSON.stringify(a.toc),d=a.pass_percentage?parseFloat(a.pass_percentage):0;return E(D({},a),{udata_files:b,toc:c,pass_percentage:d,dirty:!1,concept_list:(0,w.e9)([a.summary])})},U=function(a){var b;return b=B(e().mark(function b(c,d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(){var b=B(e().mark(function b(f,g){var h,i,k,l,m,n,o,p,q;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:b.prev=0,k=i=a.content.widgetContent,l=0;case 5:if(!(l<(null===(h=i.content)|| void 0===h?void 0:h.options.length))){b.next=18;break}if(!((p=null===(m=i.content)|| void 0===m?void 0:m.options[l]).blockType===j.$Wo.IMAGE&&!(null===(n=p.content)|| void 0===n?void 0:null===(o=n.data)|| void 0===o?void 0:o.image_id))){b.next=15;break}return b.next=11,(0,v.i1)({author_id:d().assessment.data.author_id,collection_id:d().assessment.data.collection_id,page_id:a.question_id});case 11:return q=b.sent,b.next=14,V(k,q,l);case 14:k=b.sent;case 15:l++,b.next=5;break;case 18:c(Q.updateQuestionData(E(D({},a),{content:E(D({},a.content),{widgetContent:k})}))),f(),b.next=25;break;case 22:b.prev=22,b.t0=b.catch(0),g(b.t0);case 25:case"end":return b.stop()}},b,null,[[0,22]])}));return function(a,c){return b.apply(this,arguments)}}()));case 1:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},V=(P=B(e().mark(function a(b,c,d){var f,g,h,i;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=JSON.parse(c),b=E(D({},b),{content:E(D({},b.content),{options:b.content.options.map(function(a,b){return a.blockType===j.$Wo.IMAGE&&b===d?E(D({},a),{content:E(D({},a.content),{data:E(D({},a.content.data),{image_id:f.image_id})})}):a})})}),g=f.upload_url,a.next=5,fetch(b.content.options[d].content.data.file).then(function(a){return a.blob()});case 5:return h=a.sent,URL.revokeObjectURL(b.content.options[d].content.data.file),a.next=9,(0,v.iL)({upload_url:g,file:h});case 9:return delete b.content.options[d].content.data.file,i=b.content.options.map(function(a,b){return a.blockType===j.$Wo.IMAGE&&b===d?E(D({},a),{content:E(D({},a.content),{data:E(D({},a.content.data),{image_id:f.image_id,file:null})})}):a}),a.abrupt("return",E(D({},b),{content:E(D({},b.content),{options:i})}));case 12:case"end":return a.stop()}},a)})),function(a,b,c){return P.apply(this,arguments)}),W=function(a){var b,c,d,e,f=[];return f="AssessmentFreeText"===a.question_type?(0,w.e9)(((function(a){if(Array.isArray(a))return z(a)})(b=null==a?void 0:null===(c=a.protected_content)|| void 0===c?void 0:c.answers)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(b)||function a(b,c){if(b){if("string"==typeof b)return z(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return z(b,c)}}(b)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([null==a?void 0:null===(d=a.content)|| void 0===d?void 0:d.questionStatement,])):(0,w.e9)([null==a?void 0:null===(e=a.content)|| void 0===e?void 0:e.questionStatement]),E(D({},a),{concept_list:f})},X=function(a,b,c){var d;return d=B(e().mark(function d(f,g){var h,i,k,l;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h=g().assessment.question.content.choices[c],i=(b=JSON.parse(b)).image_id,k=b.upload_url,l=(a=E(D({},a),{image_id:i})).cover_image,d.next=7,(0,v.iL)({upload_url:"".concat(k,"?course_type=").concat(j.dLO.QUESTIONNAIRE),file:l});case 7:delete a.cover_image,f(Q.updateChoiceData({choice:E(D({},h),{plan_details:E(D({},h.plan_details),{image:a})}),id:c}));case 9:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},Y=function(a,b){var c;return c=B(e().mark(function c(d,f){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",new Promise(function(){var c=B(e().mark(function c(g,h){var i,k,l;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,i=f().assessment.data.author_id,k=f().assessment.data.collection_id,c.next=5,(0,p.p9)(i,k,j.dLO.QUESTIONNAIRE);case 5:return l=c.sent,c.next=8,d(X(a,l,b));case 8:g(),c.next=14;break;case 11:c.prev=11,c.t0=c.catch(0),h(c.t0);case 14:case"end":return c.stop()}},c,null,[[0,11]])}));return function(a,b){return c.apply(this,arguments)}}()));case 1:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}},Z=function(){var a;return a=B(e().mark(function a(b,c){var d;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d=c().assessment.question.content.choices,a.next=3,Promise.all(d.map(function(a,c){var d,e=null==a?void 0:null===(d=a.plan_details)|| void 0===d?void 0:d.image;return(null==e?void 0:e.cover_image)?b(Y(e,c)):Promise.resolve()}));case 3:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)}},$=function(a){var b,c=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];return b=B(e().mark(function b(d,f){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return a&&d(a),c&&d(l.n.show(m.ad,{status:"WAIT",text:"Saving"})),b.abrupt("return",d(Q.saveQuestion({question:f().assessment.question,assessment_type:f().assessment.data.assessment_type})).then(function(){c&&d(l.n.show(m.ad,{status:"SUCCESS",text:"Saved"}))}).catch(function(b){var e,f=null==b?void 0:null===(e=b.responseJSON)|| void 0===e?void 0:e.errorText;b.status===o.Wy.AlreadyExistsException&&f===o.pX.versionOutDatedMessage?d(ab(function(){d(Q.updateQuestionETag(C({},k.Zq,j.FhE))),d($(a))})):c&&d(l.n.show(m.ad,{status:"ERROR",text:"Failed to save question"}))}));case 3:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},_=function(a,b,c,d,e){return function(f){var g=d.file.name.split(" ").join("-"),h="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(g,"/get_upload_url?assessment_id=").concat(c,"&docker_type=").concat(e.toLowerCase());return(0,u.Z)({url:h,type:"GET"}).then(JSON.parse).then(function(a){var b=a.gcs_object_name,c=a.container_id,h=a.blob_upload_url,i=a.upload_success_url,j=a.build_status_url,k=a.tarball_download_url,l=a.build_log_url,m=a.rebuild_image_url,n=e===x.a5.TESTING?t.h:s.r;return f(n.setFile(E(D({},d),{id:void 0===c?-1:c,buildStatusUrl:j,tarballDownloadUrl:k,buildLogUrl:l,rebuildImageUrl:m,file:{name:g,size:d.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,u.Z)({url:i,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,u.Z)({url:h,type:"POST",data:d.file,processData:!1,contentType:d.file.type})}}}).catch(function(a){console.log(a)})}},aa=function(a){var b=a.upload,c=a.onUploadSuccess,d=a.dockerType;return function(a){var f,g=d===x.a5.TESTING?t.h:s.r;return a(g.updateBuildStatus("UPLOADING")),b().then(function(){return c()}).then(function(a){return JSON.parse(a.data)}).then((f=B(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=void 0===(d=c.image_name)?"default_name":d,a(R(void 0,g.afterFileUpload(f))),a(l.n.show(m.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return b.stop()}},b)})),function(a){return f.apply(this,arguments)})).catch(function(e){if(500===e.status){a(aa({upload:b,onUploadSuccess:c,dockerType:d}));return}console.log("error while uploading docker file",e),a(g.updateBuildStatus("FAILURE")),a(l.n.show(m.ad,{status:"ERROR",text:"Uploading Docker File failed"}))})}},ab=function(a){return function(b){b(l.n.close()),b(l.n.show(m.zN,{onConfirm:a,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}}},72073:function(a,b,c){c.d(b,{y:function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(9661),i=c(12814),j=c(58564),k=c(83443);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,g.oM)({name:"author/course-catalog",initialState:q,reducers:r});b.Z=s.reducer;var t=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},s.actions),o=(o={load:function(a,b,c){var d,f;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(t.pending()),d.abrupt("return",(0,h.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/catalog-data"),type:"POST",data:c}).then(function(a){f(t.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===j.Wy.unauthorizedException?(0,i.xc)():a.status===j.Wy.notFoundException&&f(k.i6.set({notFoundPageStatus:!0})),f(t.rejected((0,i.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){l(f,c,e,g,h,"next",a)}function h(a){l(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},21402:function(a,b,c){c.d(b,{"$X":function(){return _},B4:function(){return S},EM:function(){return R},FM:function(){return $},H:function(){return N},He:function(){return Q},JL:function(){return U},Lq:function(){return D},Pc:function(){return ab},Q9:function(){return J},WR:function(){return O},"_k":function(){return L},bP:function(){return Y},d1:function(){return Z},hJ:function(){return ac},i5:function(){return V},j6:function(){return X},l1:function(){return W},ms:function(){return aa},qu:function(){return T},tY:function(){return P}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(92401),i=c(73756),j=c(66226),k=c(92874),l=c(12814),m=c(58564),n=c(36343),o=c(47829),p=c(830),q=c(131),r=c(92879),s=c(9661),t=c(51587),u=c(6229),v=c(51840),w=c(69146),x=c(83443);function y(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function z(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){y(f,d,e,g,h,"next",a)}function h(a){y(f,d,e,g,h,"throw",a)}g(void 0)})}}function A(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function B(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){A(a,b,c[b])})}return a}function C(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var D={DRAFT:1e3,IN_ADMIN_REVIEW:1001,APPROVED:1002},E=(0,f.Z)(),F=E.initialState,G=E.reducers,H=(0,g.oM)({name:"cloudLab",initialState:C(B({},F),{dirty:!1}),reducers:C(B({},G),{clear:function(){return C(B({},F),{dirty:!1})},onSaveSuccess:function(a,b){var c=b.payload;a.data["X-ETag"]=c,a.dirty=!1},updateLabPrice:function(a,b){var c=b.payload;a.data.credit_cost=c},updateTitle:function(a,b){var c=b.payload;a.data.title=c,a.dirty=!0},updateTimeLimit:function(a,b){var c=b.payload;a.data.time_limit=c,a.dirty=!0},addUserDataResourceFile:function(a,b){var c=b.payload;a.data.udata_files.push(c),a.dirty=!0},updateUserDataResourceFile:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.data.udata_files[e]=B({},a.data.udata_files[e],d),a.dirty=!0},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.data.udata_files.splice(c,1),a.dirty=!0},updateCloudProvider:function(a,b){var c=b.payload;a.data.cloud_provider=c,a.dirty=!0},updateSummary:function(a,b){var c=b.payload;a.data.summary=c,a.dirty=!0},updateLandingPageContent:function(a,b){var c=b.payload;a.data.landing_page_content=c,a.dirty=!0},updateContent:function(a,b){var c=b.payload;a.data.content=c.content,a.dirty=c.dirty},updatePolicy:function(a,b){var c=b.payload;a.data.policy=c.policy,a.dirty=!0,a.data.is_policy_valid=!1},updateSetupScript:function(a,b){var c=b.payload;a.data.setup_script=c.setup_script,a.dirty=!0},updateCLIEnabled:function(a,b){var c=b.payload;a.data.is_cli_enabled=c.is_cli_enabled,a.dirty=!0},updateStatus:function(a,b){var c=b.payload;a.data.lab_status=c},updateIsPolicyValid:function(a,b){var c=b.payload;a.data.is_policy_valid=c.is_policy_valid}})});b.ZP=H.reducer;var I=function(a,b){var c;return c=z(e().mark(function c(d){var f,g,h,i;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return g=(f=JSON.parse(b)).upload_url,h=f.image_id,a=C(B({},a),{content:C(B({},a.content),{image_id:h})}),c.next=5,fetch(a.content.file).then(function(a){return a.blob()});case 5:return i=c.sent,URL.revokeObjectURL(a.content.file),c.next=9,(0,v.iL)({upload_url:g,file:i});case 9:delete a.content.file,d(k.oh.updateContentState(a.hash,{image_id:a.content.image_id,file:null}));case 11:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}},J=function(a,b,c,d){var f;return f=z(e().mark(function f(g){return e().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",new Promise(function(){var f=z(e().mark(function f(h,i){var j;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.p9)({authorId:a,collectionId:b,cloudLabId:c});case 3:return j=e.sent,e.next=6,g(I(d,j));case 6:h(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),i(e.t0);case 12:case"end":return e.stop()}},f,null,[[0,9]])}));return function(a,b){return f.apply(this,arguments)}}()));case 1:case"end":return f.stop()}},f)})),function(a){return f.apply(this,arguments)}},K=function(a){var b=JSON.parse(a);return C(B({},b),{is_policy_valid:!!b.policy})},L=C(B({},H.actions),{load:function(a){var b,c=a.authorId,d=a.collectionId,f=a.cloudLabId,g=a.course_url_slug,i=void 0===g?"":g,j=a.page_url_slug,k=void 0===j?"":j,n=a.mode,o=a.published,p=void 0!==o&&o,q=i&&k?"cloud-lab/".concat(i,"/").concat(k):"cloud-lab/".concat(c,"/").concat(d,"/").concat(f),r="view"===n,t=r?q:"author/".concat(c,"/collection/").concat(d,"/cloud-lab/").concat(f),u=p?{published:p}:{};return b=z(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(L.clear()),b(L.pending()),a.abrupt("return",(0,s.Z)({url:"/api/".concat(t).concat((0,w.N)(u)),type:"GET"},!0).then(function(a){var c=a.data,d=a.xhr;b(L.fulfilled(K(c))),c&&!r&&b(L.onSaveSuccess(d.headers.get(h.Zq)))}).catch(function(a){a.status===m.Wy.unauthorizedException?(0,l.xc)():a.status===m.Wy.notFoundException&&b(x.i6.set({notFoundPageStatus:!0})),b(L.rejected((0,l.nU)(a)))}));case 3:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},save:function(){var a,b=arguments.length>0&& void 0!==arguments[0]&&arguments[0],c=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return a=z(e().mark(function a(d,f){var g,o,p,u,v;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d(i.n.show(j.ad,{status:"WAIT",text:"".concat(b?"Submitting":"Saving"," Cloud Lab")})),o=(c?f().widgets:f().cloudLab.data.content)||{ids:[],entities:{}},p=JSON.stringify((0,r.Dn)(o.ids.map(function(a){return o.entities[a]}))),v=C(B({},f().cloudLab.data),{docker:JSON.stringify((0,n.qZ)(f().dockerDetails)),udata_files:JSON.stringify(null!==(u=null===(g=f().cloudLab.data.udata_files)|| void 0===g?void 0:g.map(function(a){return a.file_id}))&& void 0!==u?u:[]),content:o,concept_list:p}),a.abrupt("return",(0,s.Z)({url:"/api/author/".concat(v.author_id,"/collection/").concat(v.collection_id,"/cloud-lab/").concat(v.cloud_lab_id,"?submit=").concat(b),contentType:"application/json",processData:!1,type:"PUT",data:JSON.stringify(v),headers:A({},h.Zq,v[h.Zq])},!0).then(function(a){a&&d(L.onSaveSuccess(a.xhr.headers.get(h.Zq))),v.is_admin||b||d(L.updateStatus(D.DRAFT)),b&&d(L.updateStatus(D.IN_ADMIN_REVIEW)),d(i.n.show(j.ad,{status:"SUCCESS",text:"Cloud Lab ".concat(b?"Submitted":"Saved")})),c&&(d(L.updateContent({content:o,dirty:!1})),d(k.oh.resetDirtyBit()),d(k.oh.resetMarkdownDirtyBit()))}).catch(function(a){(0,l.rU)(a,d);var b,c=null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText;a.status===m.Wy.AlreadyExistsException&&c===m.pX.versionOutDatedMessage?d(M(function(){d(L.updateETag(q.FhE)),d(L.save())})):d(i.n.show(j.ad,{status:"ERROR",text:(0,t.ie)(a)||c||"Failed to save Cloud Lab"}))}));case 7:case"end":return a.stop()}},a)})),function(b,c){return a.apply(this,arguments)}},updateLabStatus:function(a){return function(b,c){b(i.n.show(j.ad,{status:"WAIT",text:"Updating Lab status"}));var d=c().cloudLab.data,e=C(B({},d),{new_lab_status:a,page_status:q.zaQ.DRAFT_INSTANCE});return(0,s.Z)({url:"/api/editorial/cloud-lab/approval",contentType:"application/json",processData:!1,data:JSON.stringify(e),type:"PUT"}).then(function(){b(L.updateStatus(a)),b(i.n.show(j.ad,{status:"SUCCESS",text:"Lab status updated"}))}).catch(function(a){var c;(0,l.rU)(a,b),b(i.n.show(j.ad,{status:"ERROR",text:(null==a?void 0:null===(c=a.responseJSON)|| void 0===c?void 0:c.errorText)||"Failed to update Lab"}))})}},prepareDockerOnSetCloudLab:function(a){var b;return b=z(e().mark(function b(c){var d,f,g,h;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f=(null==a?void 0:a.docker)?C(B({},a.docker),{envs:null!==(d=a.docker.envs)&& void 0!==d?d:[]}):n.s4,b.next=4,(0,p.wi)();case 4:g=b.sent,h=C(B({},f),{container:C(B({},f.container),{liveInstance:g})}),c(o.r.setObject(h));case 7:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}},updateWidgetsContent:function(){return function(a,b){var c=b().widgets;(c.dirty||c.markdownDirty)&&a(L.updateContent({content:c,dirty:!0}))}}}),M=function(a){return function(b){b(i.n.close()),b(i.n.show(j.zN,{onConfirm:a,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}},N="general-info",O="lab-config",P="lab-content",Q="review-lab",R=[{id:N,title:"General Information",isCompleted:function(a){return a.title&&"Untitled Lab"!==a.title&&a.summary&&!!a.time_limit&&!!a.cloud_provider}},{id:O,title:"Lab Configuration",isCompleted:function(a){return a.is_policy_valid}},{id:P,title:"Lab Content",isCompleted:function(a){var b,c;return(null===(b=a.content)|| void 0===b?void 0:null===(c=b.ids)|| void 0===c?void 0:c.length)>0}},{id:Q,title:"Review Lab",isCompleted:function(a){return a.lab_status===D.APPROVED}},],S=function(a,b){return(0,s.Z)({url:"/api/editorial/".concat(a.author_id,"/").concat(a.collection_id,"/").concat(a.cloud_lab_id,"/price"),type:"PUT",contentType:"application/json",processData:!1,data:JSON.stringify({credit_cost:b})})},T=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null,f=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null;return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/test-lab?published=").concat(d).concat(e&&f?"&active_group_id="+e+"&active_page_id="+f:""),type:"GET"})},U=function(a,b,c){return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/test-lab"),type:"POST"})},V=function(a,b,c,d){return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/test-lab"),type:"PUT",data:{policy:d}})},W=function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return(0,s.Z)({url:"/api/editorial/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/console?published=").concat(d),type:"GET"})},X=function(a,b){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/validate-policy"),type:"POST",data:{policy:b}})},Y=function(a){var b=a.author_id,c=a.collection_id,d=a.cloud_lab_id;return(0,s.Z)({url:"/api/cloud-lab/".concat(b,"/").concat(c,"/").concat(d,"/lab-setup"),type:"POST"})},Z=function(a,b,c,d){return(0,u.XC)({apiPromise:function(){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/lab-setup"),type:"GET"})},cb:function(a){if(a.status!==q.Psf.IN_PROGRESS)return d(a.status),!0},intervalTimeMS:15e3,maxRetries:40})},$=function(a,b,c,d){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/user-feedback"),type:"POST",data:d})},_=function(a,b,c){return(0,s.Z)({url:"/api/cloud-lab/".concat(a,"/").concat(b,"/").concat(c,"/user-feedback"),type:"GET"})},aa=function(a,b){return function(a,c){return b&&a(b),a(i.n.show(j.ad,{status:"WAIT",text:"Saving Cloud Lab"})),a(L.save()).then(function(){a(i.n.show(j.ad,{status:"SUCCESS",text:"Cloud Lab saved"}))}).catch(function(c){(0,l.rU)(c,a);var d,e=null==c?void 0:null===(d=c.responseJSON)|| void 0===d?void 0:d.errorText;c.status===m.Wy.AlreadyExistsException&&e===m.pX.versionOutDatedMessage?a(M(function(){a(L.updateETag(q.FhE)),a(aa(void 0,b))})):a(i.n.show(j.ad,{status:"ERROR",text:"Failed to save cloud lab"}))})}},ab=function(a,b,c,d){return function(e){var f=d.file.name.split(" ").join("-"),g="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(f,"/get_upload_url?cloudlab_id=").concat(c);return(0,s.Z)({url:g,type:"GET"}).then(JSON.parse).then(function(a){var b=a.gcs_object_name,c=a.container_id,g=a.blob_upload_url,h=a.upload_success_url,i=a.build_status_url,j=a.tarball_download_url,k=a.build_log_url,l=a.rebuild_image_url;return e(o.r.setFile(C(B({},d),{id:void 0===c?-1:c,buildStatusUrl:i,tarballDownloadUrl:j,buildLogUrl:k,rebuildImageUrl:l,file:{name:f,size:d.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,s.Z)({url:h,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,s.Z)({url:g,type:"POST",data:d.file,processData:!1,contentType:d.file.type})}}}).catch(function(a){console.log(a)})}},ac=function(a){var b=a.upload,c=a.onUploadSuccess;return function(a){var d;return a(o.r.updateBuildStatus("UPLOADING")),b().then(function(){return c()}).then(function(a){return JSON.parse(a.data)}).then((d=z(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=void 0===(d=c.image_name)?"default_name":d,a(o.r.afterFileUpload(f)),a(L.save()),a(i.n.show(j.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 4:case"end":return b.stop()}},b)})),function(a){return d.apply(this,arguments)})).catch(function(d){if(500===d.status){a(ac({upload:b,onUploadSuccess:c}));return}a(o.r.updateBuildStatus("FAILURE")),a(i.n.show(j.ad,{status:"ERROR",text:"Uploading Docker File failed"}))})}}},27175:function(a,b,c){c.d(b,{F4:function(){return s},QY:function(){return A},X5:function(){return J},tu:function(){return w}});var d=c(62958),e=c(3607),f=c(31222),g=c(131),h=c(92401),i=c(99959),j=c(84341),k=c(32733),l=c(35483);function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a){return function(a){if(Array.isArray(a))return m(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||q(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(a,b){if(a){if("string"==typeof a)return m(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return m(a,b)}}var r=[g.j1J.ASSESSMENT,g.j1J.PROJECT,g.j1J.EXTERNAL_ASSESSMENT,g.j1J.EXTERNAL_PROJECT,g.j1J.CLOUD_LAB,],s=[{title:"beginner",value:"beginner"},{title:"intermediate",value:"intermediate"},{title:"advanced",value:"advanced"},],t=(0,d.oM)({name:"author/collection",initialState:{},reducers:{reset:function(){return{}},set:function(a,b){var c=b.payload;return(0,j.ZP)(c,function(b){b.instance.details.toc||(b.instance.details.toc={categories:[]}),b.instance.details.udata_files||(b.instance.details.udata_files=[]),b.instance.details.skills||(b.instance.details.skills=[]),b.instance.details.target_audience||(b.instance.details.target_audience=s[0].value),b.instance.details.CodeThemes=b.instance.details.default_themes?b.instance.details.default_themes.code_themes:{Code:"default",Markdown:"default",RunJS:"default",SPA:"default"},b.instance.details.CodeThemes.isForced=null!==(r=b.instance.details.CodeThemes.isForced)&& void 0!==r?r:i.Z,b.instance.details.docker.container.track=null!==(t=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.docker)|| void 0===e?void 0:null===(f=e.container)|| void 0===f?void 0:f.track)&& void 0!==t&&t,b.instance.details.toc.categories.length||B(b),g.xLO&&(null==b?void 0:null===(h=b.instance)|| void 0===h?void 0:null===(j=h.details)|| void 0===j?void 0:j.work_type)===g.dLO.PATH&&(null==b?void 0:null===(k=b.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:l.is_private)&&!(null==b?void 0:null===(m=b.instance)|| void 0===m?void 0:m.details.is_plan)&&(null===(n=null==b?void 0:b.instance.details)|| void 0===n?void 0:null===(o=n.toc)|| void 0===o?void 0:o.categories[0].type)!==g.j1J.COLLECTION_CATEGORY&&C(b),null===(p=b.instance.details.toc)|| void 0===p||null===(q=p.categories)|| void 0===q||q.forEach(function(a){var b;a.title=a.title||"",null==a||null===(b=a.pages)|| void 0===b||b.forEach(function(a){a.title=a.title||""})});var c,d,e,f,h,j,k,l,m,n,o,p,q,r,t,u=b.instance.details.page_titles;b.instance.details.toc.categories.forEach(function(a){return a.pages.forEach(function(a){var b;[g.RIu.LESSON,g.RIu.SHOT].includes(a.type)||(a.title=null!==(b=null==u?void 0:u[null==a?void 0:a.id])&& void 0!==b?b:g.Va9)})})})},updateOwnership:function(a){a.instance&&(a.instance.owned_by_reader=!0)},certificateBought:function(a){a.has_purchased_certificate=!0},markLessonAsProofread:function(a,b){var c=b.payload,d=a.instance.details;d.pending_proofreading_lessons.includes(String(c))&&(d.pending_proofreading_lessons=d.pending_proofreading_lessons.filter(function(a){return a!==c}))},updateDetails:function(a,b){var c,d=b.payload,e=(d.docker,d.deleted_page_details,function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(b.payload,["docker","deleted_page_details"]));(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details=o({},a.instance.details,e)),(0,l.VF)(a.instance.details.collection_type)&&(a.instance.details.toc.categories[0].title=a.instance.details.title)},updateWeeklyGoal:function(a,b){var c=b.payload;a.instance.details.weekly_goal_target.weekly_goal_target=c},setPagesRecovered:function(a,b){var c=b.payload;a.instance.details.toc.categories.forEach(function(a){return a.pages.forEach(function(a){return a.is_recovered=c})})},addCategory:function(a,b){var c,d,e,f,h,i,j,k,l,m,n,q,s=b.payload,t=s.index,v=s.parentIndex,w=s.type,x=void 0===w?g.j1J.COLLECTION_CATEGORY:w,y=s.id,A=void 0===y?void 0:y,B=s.data,C=void 0===B?{}:B;x===g.j1J.CLOUD_LAB&&((null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:l.unapproved_cloud_labs)?a.instance.details.unapproved_cloud_labs=p(null==a?void 0:null===(m=a.instance)|| void 0===m?void 0:null===(n=m.details)|| void 0===n?void 0:n.unapproved_cloud_labs).concat([A,]):a.instance.details.unapproved_cloud_labs=[A]);var D=(null==a?void 0:null===(e=a.instance)|| void 0===e?void 0:null===(f=e.details)|| void 0===f?void 0:f.work_type)===g.dLO.PATH,G=null==a?void 0:null===(h=a.instance)|| void 0===h?void 0:null===(i=h.details)|| void 0===i?void 0:null===(j=i.toc)|| void 0===j?void 0:j.categories,H=C.type===g.RIu.PATH_EXTERNAL_ASSESSMENT||C.type===g.RIu.PATH_EXTERNAL_PROJECT,I=z(G);if(I&&!(D&&H)){var J=a.instance.details.toc.categories[0].author_id,K=a.instance.details.toc.categories[0].collection_id,L=a.instance.details.toc.categories[0].id;a.instance.details.toc.categories[0].title=void 0===C.title||H?"Untitled category":C.title,a.instance.details.toc.categories[0].author_id=C.author_id||J,a.instance.details.toc.categories[0].collection_id=C.collection_id||K,(C.type===g.RIu.PATH_EXTERNAL_ASSESSMENT||C.type===g.RIu.PATH_EXTERNAL_PROJECT)&&(a.instance.details.toc.categories[0].page_id=C.page_id||void 0),a.instance.details.toc.categories[0].id=H?L:C.id||L,a.instance.details.toc.categories[0].editMode="editMode"in C?C.editMode:!(r.includes(x)||D),C.type&&!H&&(a.instance.details.toc.categories[0].type=C.type),void 0!==C.can_edit&&(a.instance.details.toc.categories[0].can_edit=C.can_edit),void 0!==C.work_type&&(a.instance.details.toc.categories[0].work_type=C.work_type),void 0!==C.is_standalone_module&&(a.instance.details.toc.categories[0].is_standalone_module=C.is_standalone_module),C.is_cloned&&(a.instance.details.toc.categories[0].is_cloned=!0,a.instance.details.toc.categories[0].source_author_id=C.source_author_id,a.instance.details.toc.categories[0].source_collection_id=C.source_collection_id,a.instance.details.toc.categories[0].source_page_id=C.source_page_id)}(r.includes(x)||!I)&&(u(a,!1,"editMode"in C?C.editMode:!(r.includes(x)||D||x===g.j1J.COLLECTION_CATEGORY),!1,void 0===t?null:t,void 0===v?null:v,x,H?C.id:A,(c=o({},C),d=(d={title:D?(null==a?void 0:null===(q=a.instance)|| void 0===q?void 0:q.details.is_plan)?C.title:C.title||"Untitled Category":C.title},d),Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c)),F(a),E(a),I&&D&&H&&a.instance.details.toc.categories.shift())},updateCategoryTitle:function(a,b){var c,d,e,f=b.payload,g=f.title,h=f.id,i=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,h);a.instance.details.toc.categories[i].title="__default"!==g?g:"",a.instance.details.toc.categories[i].editMode=!1},removeWeekFromCategoryTitle:function(a){var b,c,d;if(null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories){var e=/^Week (\d+):*/;a.instance.details.toc.categories=a.instance.details.toc.categories.map(function(a){if(e.test(a.title)){var b=a.title.split(e);a.title=b[2].trim()}return a})}},updateArticleTags:function(a,b){var c,d,e=b.payload,f=e.pageId,h=e.tags;[g.dLO.MODULE,g.dLO.PATH].includes(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.work_type)||(a.instance.details.page_tags[f]=h)},updateArticleTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.pageId,f=c.title;if(a.instance){if(d){var g,h,i,j,k,l,m,n,o=A(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:i.categories,d),p=A(null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.toc)|| void 0===l?void 0:null===(m=l.categories)|| void 0===m?void 0:null===(n=m[o])|| void 0===n?void 0:n.pages,e);a.instance.details.toc.categories[o].pages[p].title=f,a.instance.details.toc.categories[o].pages[p].editMode=!1}a.instance.details.page_titles[e]=f}},updateSummaryInTOC:function(a,b){var c=b.payload,d=c.categoryId,e=c.pageId,f=c.briefSummary;if(a.instance&&d){var g,h,i,j,k,l,m,n,o=A(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:i.categories,d),p=A(null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.toc)|| void 0===l?void 0:null===(m=l.categories)|| void 0===m?void 0:null===(n=m[o])|| void 0===n?void 0:n.pages,e);a.instance.details.toc.categories[o].pages[p].brief_summary=f}},removeCategory:function(a,b){var c=b.payload.id,d=A(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:null===(m=l.toc)|| void 0===m?void 0:m.categories,c);a.instance.details.toc.categories.splice(d,1),(null==a?void 0:null===(n=a.instance)|| void 0===n?void 0:null===(o=n.details)|| void 0===o?void 0:null===(p=o.toc)|| void 0===p?void 0:null===(q=p.categories)|| void 0===q?void 0:q.length)||B(a);var e=null==a?void 0:null===(r=a.instance)|| void 0===r?void 0:null===(s=r.details)|| void 0===s?void 0:s.connects,f=null==e?void 0:e.find(function(a){return a.week_id===c});if(f){f.dirty=!0;var h=!0,i=!1,j=void 0;try{for(var k,l,m,n,o,p,q,r,s,t,u=f.connect_info[Symbol.iterator]();!(h=(t=u.next()).done);h=!0)t.value.status=g.BMk.DELETED}catch(v){i=!0,j=v}finally{try{h||null==u.return||u.return()}finally{if(i)throw j}}}},updateCodeExecResourceFile:function(a,b){var c,d=b.payload;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.code_exec_resource_metadata=d)},updateDockerForExternalLesson:function(a,b){var c,d=b.payload;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.docker=d.docker)},addUserDataResourceFile:function(a,b){var c,d=b.payload;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&a.instance.details.udata_files.push(d)},updateUserDataResourceFile:function(a,b){var c,d=b.payload,e=d.payload,f=d.index;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.udata_files[f]=o({},a.instance.details.udata_files[f],e))},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.instance.details.udata_files.splice(c,1)},removeCoverImage:function(a){a.instance.details.cover_image_id=null},saveAPIKey:function(a,b){var c,e,f,g=b.payload.apiKey,h=g.id,i=void 0===h?"":h,j=g.key,k=void 0===j?"":j,l=g.value,m=g.useAsDefault,n=g.urlText,o=null!==(f=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(e=c.details)|| void 0===e?void 0:e.api_keys)&& void 0!==f?f:[],p={id:i||(0,d.x0)(),key:k,name:k,value:void 0===l?"":l,urlText:void 0===n?"":n,useAsDefault:void 0===m||m},q=o.findIndex(function(a){return a.id===i});-1!==q?a.instance.details.api_keys[q]=p:a.instance.details.api_keys.push(p)},removeAPIKey:function(a,b){var c,d,e=b.payload,f=(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.api_keys).findIndex(function(a){return a.id===e.id});if(-1===f)return a;a.instance.details.api_keys.splice(f,1)},updateTestimonialImage:function(a,b){var c,d=b.payload,e=d.payload,f=d.index;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.testimonials[f].pic=e)},addTestimonial:function(a,b){var c,d=b.payload.testimonial;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&!a.instance.details.testimonials&&(a.instance.details.testimonials=[]),a.instance.details.testimonials.push(d)},removeTestimonial:function(a,b){var c=b.payload.index;a.instance.details.testimonials.splice(c,1)},updateTestimonial:function(a,b){var c,d=b.payload,e=d.index,f=d.testimonial;(null===(c=a.instance)|| void 0===c?void 0:c.details)&&(a.instance.details.testimonials[e]=f)},changeTestimonialOrder:function(a,b){var c=b.payload.testimonials;a.instance.details.testimonials=c},addConnect:function(a,b){var c=b.payload,d=c.id,e=c.category_id,f=c.data;v(a,d,e,void 0===f?{}:f)},removeConnect:function(a,b){var c,d,e=b.payload,f=e.weekId,h=e.infoId,i=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,j=i.findIndex(function(a){return a.week_id===f}),k=i[j].connect_info.findIndex(function(a){return a.id===h});i[j].connect_info[k].status=g.BMk.DELETED,i[j].dirty=!0},updateConnectInfo:function(a,b){var c,d,e=b.payload,f=e.weekId,g=e.infoId,h=e.title,i=e.contact_id,j=e.contact_email,k=e.contact_name,l=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,m=l.findIndex(function(a){return a.week_id===f});if(m>=0){var n=l[m].connect_info.find(function(a){return a.id===g});n&&(n.title=h,n.user_id=i,n.email=j,n.full_name=k,n.dirty=!0)}},setConnectInfoDirtyFlag:function(a,b){var c,d,e=b.payload,f=e.weekId,g=e.id,h=e.flag,i=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,j=i.findIndex(function(a){return a.week_id===f}),k=i[j].connect_info.find(function(a){return a.id===g});k.dirty=h},setConnectDirtyFlag:function(a,b){var c,d,e=b.payload,f=e.weekId,g=e.flag,h=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.connects,i=h.findIndex(function(a){return a.week_id===f});h[i].dirty=g},addArticle:function(a,b){var c,d,e,f,h,i=b.payload,j=i.category_id,k=i.article,l=i.index,m=i.data,n=(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:d.work_type)===g.dLO.PATH,o=A(null==a?void 0:null===(e=a.instance)|| void 0===e?void 0:null===(f=e.details)|| void 0===f?void 0:null===(h=f.toc)|| void 0===h?void 0:h.categories,j);x(a,k,o,l,void 0===m?{}:m,n)},updateETAG:function(a,b){var c=b.payload;a[h.Zq]=c},cloneArticle:function(a,b){var c,d,e,f=b.payload,g=f.category_id,h=f.article,i=f.source_details,j=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,g);y(a,h,j,i)},cloneMultipleArticlesInCategory:function(a,b){var c,d,e,g=b.payload,h=g.category_id,i=g.articles,j=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,h);a.instance.details.toc.categories[j].pages=p(a.instance.details.toc.categories[j].pages).concat(p(i.map(function(a){var b=a.page_id,c=a.title,d=a.source_author_id,e=a.source_collection_id,g=a.source_page_id;return JSON.parse(JSON.stringify(new f.Z(b,void 0,c,void 0,void 0,void 0,!0,void 0,void 0,void 0,void 0,void 0,!0,d,e,g)))})))},removeArticle:function(a,b){var c,d,e,f,g,h,i,j,k=b.payload,l=k.category_id,m=k.article_id,n=k.keep_deleted_pages,o=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,l),p=A(null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:null===(i=h.categories)|| void 0===i?void 0:null===(j=i[o])|| void 0===j?void 0:j.pages,m);a.instance.details.toc.categories[o].pages.splice(p,1),void 0!==n&&n||(a.instance.details.deleted_page_details={})},recoverArticle:function(a,b){var c,d,e,f,g,h,i,j,l,m,n,o,p,q,r,s,t=b.payload.article_id,u=A(null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:e.categories,k.s);-1===u&&D(a),u=A(null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:h.categories,k.s),x(a,{author_id:null==a?void 0:null===(i=a.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:j.author_id,collection_id:null==a?void 0:null===(l=a.instance)|| void 0===l?void 0:null===(m=l.details)|| void 0===m?void 0:m.collection_id,page_id:t},u,null);var v=null==a?void 0:null===(n=a.instance)|| void 0===n?void 0:null===(o=n.details)|| void 0===o?void 0:null===(p=o.deleted_page_details)|| void 0===p?void 0:p[t.toString()],w=v?v.title:"Untitled Masterpiece";null==a||null===(q=a.instance)|| void 0===q||null===(r=q.details)|| void 0===r||null===(s=r.deleted_page_details)|| void 0===s||delete s[t.toString()],a.instance.details.page_titles[t]=w},updateDeletedArticles:function(a,b){var c=b.payload;a.instance.details.deleted_page_details=o({},a.instance.details.deleted_page_details,c)},toggleArticleVisibility:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=I(a,d,e);f.is_preview=!f.is_preview},toggleIsLesson:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=I(a,d,e);f.is_lesson=!(void 0===f.is_lesson|| !0===f.is_lesson)},toggleIsOptional:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=I(a,d,e);a.instance.dirty=!0,f.is_optional=!f.is_optional},setIsOptional:function(a,b){var c=b.payload,d=c.category_id,e=c.article_id,f=c.set_value,g=I(a,d,e);g.is_optional!==f&&(a.instance.dirty=!0,g.is_optional=f)},discardChanges:function(a,b){return b.payload.originalCollection},publish:function(a){a.is_published=!0,a.instance.type="published"},unpublish:function(a){a.is_published=!1,a.is_draft_active=!0,a.instance.type="draft"},moveCategory:function(a,b){var c,d,e,f,g,h,i,j,l=b.payload,m=l.from,n=l.to,o=null==a?void 0:null===(c=a.instance)|| void 0===c?void 0:null===(d=c.details)|| void 0===d?void 0:null===(e=d.toc)|| void 0===e?void 0:null===(f=e.categories)|| void 0===f?void 0:f[m.itemIndex];if(o.id===k.s||(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:null===(j=i.categories)|| void 0===j?void 0:j[n.itemIndex]).id===k.s)return a;a.instance.details.toc.categories.splice(m.itemIndex,1),a.instance.details.toc.categories.splice(n.itemIndex,0,o)},setExternalOffer:function(a,b){var c=b.payload.externalOffer;return a.external_offer=c,a},hideExternalOffer:function(a){a.external_offer.hidden=!0},setExternalOfferViewed:function(a){a.external_offer.viewed=!0},moveArticleWithinOrigin:function(a,b){var c=b.payload,d=c.from,e=c.to;if(d.isConnect||e.isConnect){if(d.isConnect&&e.isConnect){var f,g,h,i,j,k,l,m=null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:null===(i=h.categories)|| void 0===i?void 0:i[d.parentIndex],n=null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.connects)|| void 0===l?void 0:l.find(function(a){return a.week_id===m.id});n.dirty=!0;var o=n.connect_info,p=d.itemIndex,q=e.itemIndex;o.splice(q,0,o.splice(p,1)[0])}}else{var r,s,t,u,v,w,x,y,z,A=null==a?void 0:null===(r=a.instance)|| void 0===r?void 0:null===(s=r.details)|| void 0===s?void 0:null===(t=s.toc)|| void 0===t?void 0:null===(u=t.categories)|| void 0===u?void 0:u[d.parentIndex],B=null==A?void 0:A.pages,C=null!==(z=null===(y=null==a?void 0:null===(v=a.instance)|| void 0===v?void 0:null===(w=v.details)|| void 0===w?void 0:null===(x=w.connects)|| void 0===x?void 0:x.find(function(a){return a.week_id===(null==A?void 0:A.id)}))|| void 0===y?void 0:y.connect_info.length)&& void 0!==z?z:0;B.splice(e.itemIndex-C,0,B.splice(d.itemIndex-C,1)[0])}},moveArticleToNotEmptyCategory:function(a,b){var c=b.payload,d=c.from,e=c.to;if(!d.isConnect&&!e.isConnect){var f,g,h,i,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=null==a?void 0:null===(f=a.instance)|| void 0===f?void 0:null===(g=f.details)|| void 0===g?void 0:null===(h=g.toc)|| void 0===h?void 0:null===(i=h.categories)|| void 0===i?void 0:i[e.parentIndex],C=null==B?void 0:B.id,D=null!==(z=null===(n=null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(l=j.details)|| void 0===l?void 0:null===(m=l.connects)|| void 0===m?void 0:m.find(function(a){return a.week_id===(null==B?void 0:B.id)}))|| void 0===n?void 0:n.connect_info.length)&& void 0!==z?z:0;if(C===k.s)return a;var E=null==a?void 0:null===(o=a.instance)|| void 0===o?void 0:null===(p=o.details)|| void 0===p?void 0:null===(q=p.toc)|| void 0===q?void 0:null===(r=q.categories)|| void 0===r?void 0:r[d.parentIndex],F=null==E?void 0:E.id,G=null!==(A=null===(v=null==a?void 0:null===(s=a.instance)|| void 0===s?void 0:null===(t=s.details)|| void 0===t?void 0:null===(u=t.connects)|| void 0===u?void 0:u.find(function(a){return a.week_id===(null==E?void 0:E.id)}))|| void 0===v?void 0:v.connect_info.length)&& void 0!==A?A:0;F===k.s&&(a.instance.details.toc.categories[d.parentIndex].pages[d.itemIndex-G].is_recovered=!0);var H=null==a?void 0:null===(w=a.instance)|| void 0===w?void 0:null===(x=w.details)|| void 0===x?void 0:null===(y=x.toc)|| void 0===y?void 0:y.categories,I=H[d.parentIndex].pages.splice(d.itemIndex-G,1)[0];e.last?H[e.parentIndex].pages.push(I):H[e.parentIndex].pages.splice(e.itemIndex-D,0,I)}},setDirty:function(a,b){var c=b.payload;a.instance&&(a.instance.dirty=c)},setNotification:function(a,b){var c=b.payload;a.notification_status=c},setCollaborativeEditor:function(a,b){var c=b.payload;a.use_collaborative_editor=c},addExternalApiKeys:function(a,b){var c=b.payload,d=a.instance.details.api_keys||[];a.instance.details.api_keys=Array.from(new Map(p(d).concat(p(c||[])).map(function(a){return[a.id,a,]})).values())},updateArticleEstimatedTime:function(a,b){var c=b.payload,d=c.categoryId,e=c.pageId,f=c.estimatedTime;if(a.instance&&d){var g,h,i,j,k,l,m,n,o=A(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:i.categories,d),p=A(null==a?void 0:null===(j=a.instance)|| void 0===j?void 0:null===(k=j.details)|| void 0===k?void 0:null===(l=k.toc)|| void 0===l?void 0:null===(m=l.categories)|| void 0===m?void 0:null===(n=m[o])|| void 0===n?void 0:n.pages,e);a.instance.details.toc.categories[o].pages[p].estimatedTime=f,a.instance.details.toc.categories[o].pages[p].editMode=!1}}}}),u=function(a,b,c,d,f,h){var i=arguments.length>6&& void 0!==arguments[6]?arguments[6]:g.j1J.COLLECTION_CATEGORY,j=arguments.length>7&& void 0!==arguments[7]?arguments[7]:void 0,k=arguments.length>8&& void 0!==arguments[8]?arguments[8]:{},l=a.instance.details.toc.categories;if(l.forEach(function(a){return a.editMode=!1}),null!=h){var m=l[h].pages,n=m.splice(f+1);m=m.slice(0,f+1);var o=m,p=new e.Z(b,c);if(!c&&k.title&&(p.title=k.title),(p=JSON.parse(JSON.stringify(p))).pages=n,l[h].pages=o,l.splice(h+1,0,p),void 0!==k.can_edit&&(p.can_edit=k.can_edit),void 0!==k.work_type&&(p.work_type=k.work_type),void 0!==k.is_standalone_module&&(p.is_standalone_module=k.is_standalone_module),r.includes(i)){var q=new e.Z(!1,c,d,i,j,void 0,void 0,void 0,void 0,void 0,void 0,void 0,k.is_cloned,k.source_author_id,k.source_collection_id,k.source_page_id);q=JSON.parse(JSON.stringify(q)),l.push(q)}}else{var s=new e.Z(b,c,d,k.type||i,k.id||j,k.author_id,k.collection_id,k.title,k.page_id||void 0,k.can_edit,k.work_type,k.is_standalone_module,k.is_cloned,k.source_author_id,k.source_collection_id,k.source_page_id);s=JSON.parse(JSON.stringify(s)),l.push(s)}},v=function(a,b,c){var d,e,f=arguments.length>3&& void 0!==arguments[3]?arguments[3]:{},g=null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:e.connects,h=g.findIndex(function(a){return a.week_id===c});if(h<0){var i=[{id:b,title:f.title,status:2e3},],j={week_id:c,week_title:"",connect_info:i};g.push(j)}else{var k={id:b,title:f.title,status:2e3};g[h].connect_info.push(k)}},w=function(a,b,c,d){var e=null==a?void 0:a.page_id,h=null==a?void 0:a.author_id,i=null==a?void 0:a.collection_id;return null==c?new f.Z(parseInt(e||b.id),b.type,b.title,parseInt(h||b.author_id),parseInt(i||b.collection_id),parseInt(e||b.page_id),"editMode"in b?b.editMode:!d&&![g.RIu.LESSON,g.RIu.SHOT].includes(null==b?void 0:b.type),b.course_url_slug,b.url,b.work_type,b.can_edit,b.is_standalone_module,void 0,void 0,void 0,void 0,b.brief_summary):new f.Z(parseInt(e||b.id),b.type,b.title,parseInt(h||b.author_id),parseInt(i||b.collection_id),parseInt(e||b.page_id),"editMode"in b?b.editMode:!d&&![g.RIu.LESSON,g.RIu.SHOT].includes(null==b?void 0:b.type),b.url,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b.brief_summary)},x=function(a,b,c,d){var e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:{},f=arguments.length>5&& void 0!==arguments[5]&&arguments[5],g=w(b,e,d,f);if(null==d){var h=(null==g?void 0:g.page_id)in(H(a)||{});if(e.estimatedTime&&(g.estimatedTime=e.estimatedTime),void 0!==e.is_optional&&null!==e.is_optional&&(g.is_optional=e.is_optional),h){var i,j,k,l,m,n,o,p,q,r,s,t,u=null==a?void 0:null===(s=a.instance)|| void 0===s?void 0:null===(t=s.details)|| void 0===t?void 0:t.deleted_page_details[g.page_id.toString()].title;g.title=u,g.editMode=!1,g.is_recovered=!0}null==a||null===(n=a.instance)|| void 0===n||null===(o=n.details)|| void 0===o||null===(p=o.toc)|| void 0===p||null===(q=p.categories)|| void 0===q||null===(r=q[c])|| void 0===r||r.pages.push(JSON.parse(JSON.stringify(g)))}else null==a||null===(i=a.instance)|| void 0===i||null===(j=i.details)|| void 0===j||null===(k=j.toc)|| void 0===k||null===(l=k.categories)|| void 0===l||null===(m=l[c])|| void 0===m||m.pages.splice(d+1,0,JSON.parse(JSON.stringify(g)))},y=function(a,b,c,d){var e,g,h,i,j,k,l,m,n,o=b.page_id,p=b.title;null==a||null===(e=a.instance)|| void 0===e||null===(g=e.details)|| void 0===g||null===(h=g.toc)|| void 0===h||null===(i=h.categories)|| void 0===i||null===(j=i[c])|| void 0===j||j.pages.push(JSON.parse(JSON.stringify(new f.Z(parseInt(o),void 0,p,parseInt(null==a?void 0:null===(k=a.instance)|| void 0===k?void 0:null===(l=k.details)|| void 0===l?void 0:l.author_id),parseInt(null==a?void 0:null===(m=a.instance)|| void 0===m?void 0:null===(n=m.details)|| void 0===n?void 0:n.collection_id),parseInt(o),void 0,void 0,void 0,void 0,void 0,void 0,d.is_cloned,d.source_author_id,d.source_collection_id,d.source_page_id))))},z=function(a){return(null==a?void 0:a[0].title)==="__default"},A=function(a,b){return a.findIndex(function(a){return a.id===b})},B=function(a){return u(a,!0,!1)},C=function(a){var b,c,d,f=new e.Z(!0,!1);JSON.parse(JSON.stringify(null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories)).forEach(function(a,b){f.pages.push(JSON.parse(JSON.stringify(a)))}),a.instance.details.toc.categories=[],a.instance.details.toc.categories.push(f)};function D(a){u(a,!1,!1,!0)}function E(a){var b,c,d,e=A(null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,k.s);G(a,e)}function F(a){var b,c,d,e=null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories;G(a,null==e?void 0:e.findIndex(function(a){return a.title===k.I}))}function G(a,b){var c=b;if(-1!==c){var d=a.instance.details.toc.categories[c];a.instance.details.toc.categories.push(d),a.instance.details.toc.categories.splice(c,1)}}function H(a){var b,c;return null==a?void 0:null===(b=a.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.deleted_page_details}var I=function(a,b,c){var d,e,f,g,h,i,j,k,l=A(null==a?void 0:null===(d=a.instance)|| void 0===d?void 0:null===(e=d.details)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:f.categories,b),m=A(null==a?void 0:null===(g=a.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:null===(i=h.toc)|| void 0===i?void 0:null===(j=i.categories)|| void 0===j?void 0:null===(k=j[l])|| void 0===k?void 0:k.pages,c);return a.instance.details.toc.categories[l].pages[m]};b.ZP=t.reducer;var J=t.actions},689:function(a,b,c){c.d(b,{x:function(){return B}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(69146),j=c(58564),k=c(92401),l=c(55132),m=c(62958),n=c(92874),o=c(72518),p=c(131),q=c(83443),r=c(41154);function s(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function t(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){s(f,d,e,g,h,"next",a)}function h(a){s(f,d,e,g,h,"throw",a)}g(void 0)})}}function u(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function v(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){u(a,b,c[b])})}return a}function w(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var x=(0,f.Z)(),y=x.initialState,z=x.reducers,A=(0,m.oM)({name:"author/collectionArticle",initialState:y,reducers:w(v({},z),{updateReadTime:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.readTime=c)},setArticle:function(a,b){var c=b.payload,d=c.components,e=c.summary;a.data.components=d,a.data.summary.description=e},setComponent:function(a,b){var c=b.payload,d=c.component,e=c.index;a.data.components[e]=d},updateSummary:function(a,b){var c=b.payload;a.data.summary.description=c}})});b.Z=A.reducer;var B=w(v({},A.actions),{load:function(a,b,c){var d,f=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,m=arguments.length>4&& void 0!==arguments[4]?arguments[4]:p.qen.COLLECTION_LESSON;return d=t(e().mark(function d(p,s){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return p(B.pending()),d.abrupt("return",(0,g.Z)({url:"/api/author/".concat(a,"/collection/").concat(b,"/page/").concat(f?"snapshot":c).concat((0,i.N)(f?{key:f,document_type:m}:null)),type:"GET"},!0).then(function(){var a=t(e().mark(function a(b){var c,d,f,g,h,i,j,m,q,t;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.xhr&&p(B.updateETag(b.xhr.headers.get(k.Zq))),i=(0,l.u)(b),j=(0,r.U)(i,p,s),p(B.fulfilled(w(v({},i),{components:null!=j?j:i.components}))),m=s().author,q=null==m?void 0:null===(c=m.collection)|| void 0===c?void 0:null===(d=c.instance)|| void 0===d?void 0:null===(f=d.details)|| void 0===f?void 0:f.is_private,t=(null==m?void 0:null===(g=m.collectionArticle)|| void 0===g?void 0:null===(h=g.data)|| void 0===h?void 0:h.components)||[],q){a.next=12;break}return a.next=11,(0,o.nA)(t,!1);case 11:t=a.sent;case 12:return a.abrupt("return",p(n.oh.load(t,!0)));case 13:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===j.Wy.unauthorizedException?(0,h.xc)():a.status===j.Wy.notFoundException&&p(q.i6.set({notFoundPageStatus:!0})),p(B.rejected((0,h.nU)(a)))}));case 2:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}}})},4379:function(a,b,c){c.d(b,{"_":function(){return H}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(83443),k=c(62958);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}function q(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function r(a,b){if(null==a)return{};var c,d,e=s(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function s(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function t(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||w(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(a){var b=function(a,b){if("object"!==v(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!==v(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"===v(b)?b:String(b)}var v=function(a){return a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};function w(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var x=(0,f.Z)(),y=x.initialState,z=x.reducers,A=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{loaded:!1},b=(arguments.length>1?arguments[1]:void 0).payload,c=a.data||{},d=b||{},e=d.id,f=d.name,g=d.comps,h=d.usageCount,i=Object.entries(c).find(function(a){var b=t(a,2);return(b[0],b[1]).id===e}),j=i&&i[0],k=i&&i[1].comps,l=i&&i[1].usageCount,m=f||j;if(m){var n=null!=g?g:k,q=null!=h?h:l,s=o({},m,p({id:e},q&&{usageCount:q},n&&{comps:n}));c[j];var v=r(c,[j].map(u));a.data=p({},v,s)}},B=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{loaded:!1},b=(arguments.length>1?arguments[1]:void 0).payload,c=a.data||{},d=(b||{}).id,e=Object.entries(c).find(function(a){var b=t(a,2);return(b[0],b[1]).id===d}),f=e&&e[0];c[f];var g=r(c,[f].map(u));a.data=g},C=function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:{loaded:!1},c=(arguments.length>1?arguments[1]:void 0).error;c&&(b.error=(null===(a=c.responseJSON)|| void 0===a?void 0:a.errorText)||"Failed to retrieve")},D=function(a,b,c,d){return"author/".concat(a,"/collection/").concat(b,"/concept/").concat(c||"all")+(d?"/published":"")},E=function(a){var b=JSON.parse(a),c=function(a,b){var c=b.id,d=b.name,e=b.usage_count;return q(p({},a),o({},d,{id:c,usageCount:e}))};return b.reduce(c,{})},F=function(a,b,c){var d,e,f=b(),g=null==f?void 0:null===(d=f.author)|| void 0===d?void 0:null===(e=d.concepts)|| void 0===e?void 0:e.data;if(!g)return f;var h=Object.entries(g).find(function(b){var c=t(b,2);return(c[0],c[1]).id===a});if(!h)return f;var i,j=h&&h[0],l=h?h[1]:{},m=JSON.parse(c),n=(i=m).map(function(a){var b;return(null===(b=a.content)|| void 0===b?void 0:b.comp_id)?a:q(p({},a),{content:q(p({},a.content),{comp_id:(0,k.x0)()})})});return o({},j,q(p({},l),{comps:n}))},G=(0,k.oM)({name:"concepts",initialState:y,reducers:q(p({},z),{update:A,remove:B,loadFail:C})});b.Z=G.reducer;var H=q(p({},G.actions),{loadMetadata:function(a){var b,c=a.authorId,d=a.collectionId,f=a.published;return b=n(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(H.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(D(c,d,null,f)),type:"GET"}).then(function(a){b(H.fulfilled(E(a)))}).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&b(j.i6.set({notFoundPageStatus:!0})),b(H.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},load:function(a){var b,c=a.authorId,d=a.collectionId,f=a.conceptId,k=a.published;return b=n(e().mark(function a(b,l){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(H.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(D(c,d,f,k)),type:"GET"}).then(function(a){b(H.fulfilled(F(f,l,a)))}).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&b(j.i6.set({notFoundPageStatus:!0})),b(H.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}}})},15288:function(a,b,c){c.d(b,{w:function(){return x}});var d=c(41344),e=c.n(d),f=c(36601),g=c(55132),h=c(62958),i=c(92874),j=c(9661),k=c(12814),l=c(58564),m=c(83443),n=c(40775);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var q,r,s="author/page",t=(0,f.Z)(),u=t.initialState,v=t.reducers,w=(0,h.oM)({name:s,initialState:u,reducers:v});b.Z=w.reducer;var x=(q=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}({},w.actions),r=(r={load:function(a){var b,c;return c=(b=e().mark(function b(c,d){var f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(x.pending()),f=a&&d().ajaxMode.enabled?j.Z:n.Z,b.abrupt("return",f({url:"/api/".concat(s,"/").concat(a),type:"GET"},!0).then(function(a){var b,e,f;c(x.fulfilled((0,g.u)(a))),c(i.oh.load(null===(b=d().author)|| void 0===b?void 0:null===(e=b.page)|| void 0===e?void 0:null===(f=e.data)|| void 0===f?void 0:f.components,!0))}).catch(function(a){a.status===l.Wy.unauthorizedException?(0,k.xc)():a.status===l.Wy.notFoundException&&c(m.i6.set({notFoundPageStatus:!0})),c(x.rejected((0,k.nU)(a)))}));case 3:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){o(f,d,e,g,h,"next",a)}function h(a){o(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return c.apply(this,arguments)}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(r)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(r)).forEach(function(a){Object.defineProperty(q,a,Object.getOwnPropertyDescriptor(r,a))}),q)},26517:function(a,b,c){c.d(b,{n:function(){return u}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(83443),k=c(62958);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p="author/profile",q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,k.oM)({name:p,initialState:r,reducers:s});b.Z=t.reducer;var u=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},t.actions),o=(o={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(a?"".concat(p,"/").concat(a):p),type:"GET"}).then(function(a){c(u.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===i.Wy.notFoundException&&c(j.i6.set({notFoundPageStatus:!0})),c(u.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},17061:function(a,b,c){c.d(b,{i:function(){return u}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(83443),k=c(90950),l=c(62958);function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var o,p,q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,l.oM)({name:"author/profileWorks",initialState:r,reducers:s});b.Z=t.reducer;var u=(o=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}({},t.actions),p=(p={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat((0,k.a8)()?"".concat("author/profile","/").concat(a,"/works"):"reader/featured_items?author_id=".concat(a,"&only_courses=true")),type:"GET"}).then(function(a){c(u.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===i.Wy.notFoundException&&c(j.i6.set({notFoundPageStatus:!0})),c(u.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},p),Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(p)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(p)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(p,a))}),o)},94267:function(a,b,c){c.d(b,{Dr:function(){return P},GR:function(){return T},K7:function(){return U},Q_:function(){return Z},SQ:function(){return V},Ym:function(){return Y},cy:function(){return W},ms:function(){return Q},yn:function(){return S}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(92401),i=c(66226),j=c(62958),k=c(73756),l=c(12814),m=c(58564),n=c(131),o=c(36343),p=c(830),q=c(47829),r=c(2961),s=c(92874),t=c(34732),u=c(72405),v=c(75198),w=c(63426),x=c(81660),y=c(8654),z=c(60958),A=c.n(z),B=c(76472),C=c(33822),D=c(60671),E=c(90950),F=c(83443);function G(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function H(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){G(f,d,e,g,h,"next",a)}function h(a){G(f,d,e,g,h,"throw",a)}g(void 0)})}}function I(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function J(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){I(a,b,c[b])})}return a}function K(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var L=(0,g.Z)(),M=L.initialState,N=L.reducers,O=(0,j.oM)({name:"project",initialState:K(J({},M),{dirty:!1,component:null}),reducers:K(J({},N),{updateProjectTitle:function(a,b){var c=b.payload;a.data.title=c,a.dirty=!0},addUserDataResourceFile:function(a,b){var c=b.payload;a.data.udata_files.push(c),a.dirty=!0},updateUserDataResourceFile:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.data.udata_files[e]=J({},a.data.udata_files[e],d),a.dirty=!0},removeUserDataResourceFile:function(a,b){var c=b.payload.index;a.data.udata_files.splice(c,1),a.dirty=!0},addComponent:function(a,b){var c,d,e=b.payload,f=e.category_id,g=e.component,h=e.index,i=(0,D.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,f);(0,D.kH)(a,g,i,h),a.dirty=!0},addCategory:function(a,b){var c,d,e=b.payload,f=e.index,g=e.parentIndex,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,i=(0,D.oW)(h);i?(a.data.toc.categories[0].title="Untitled category",a.data.toc.categories[0].editMode=!0):(0,D.SK)(a.data,!0,!1,f,g),a.dirty=!0},toggleTaskVisibility:function(a,b){var c=b.payload,d=c.categoryId,e=c.projectComponentId;if(a.data){if(d){var f=(0,D.QY)(a.data.toc.categories,d),g=(0,D.QY)(a.data.toc.categories[f].pages,e);a.data.toc.categories[f].pages[g].is_preview=!a.data.toc.categories[f].pages[g].is_preview}a.dirty=!0}},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=(0,D.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,g);a.data.toc.categories[h].title="__default"!==f?f:"",a.data.toc.categories[h].editMode=!1,a.dirty=!0},updateComponentTitle:function(a,b){var c=b.payload,d=c.categoryId,e=c.projectComponentId,f=c.title;if(a.data){if(d){var g=(0,D.QY)(a.data.toc.categories,d),h=(0,D.QY)(a.data.toc.categories[g].pages,e);a.data.toc.categories[g].pages[h].title=f,a.data.toc.categories[g].pages[h].editMode=!1}a.dirty=!0}},moveComponentWithinOrigin:function(a,b){var c,d,e,f,g=b.payload,h=g.from,i=g.to,j=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:null===(f=e[h.parentIndex])|| void 0===f?void 0:f.pages;j.splice(i.itemIndex,0,j.splice(h.itemIndex,1)[0]),a.dirty=!0},moveCategory:function(a,b){var c,d,e,f=b.payload,g=f.from,h=f.to,i=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:null===(e=d.categories)|| void 0===e?void 0:e[g.itemIndex];a.data.toc.categories.splice(g.itemIndex,1),a.data.toc.categories.splice(h.itemIndex,0,i),a.dirty=!0},moveComponentToNotEmptyCategory:function(a,b){var c,d=b.payload,e=d.from,f=d.to,g=null===(c=null==a?void 0:a.data.toc)|| void 0===c?void 0:c.categories;g[f.parentIndex].pages.splice(f.itemIndex,0,g[e.parentIndex].pages.splice(e.itemIndex,1)[0]),a.dirty=!0},removeComponent:function(a,b){var c,d,e,f,g,h,i=b.payload,j=i.category_id,k=i.article_id,l=(0,D.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,j),m=(0,D.QY)(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:null===(h=g[l])|| void 0===h?void 0:h.pages,k);a.data.toc.categories[l].pages.splice(m,1),a.dirty=!0},removeCategory:function(a,b){var c,d,e,f,g,h=b.payload.id,i=(0,D.QY)(null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.toc)|| void 0===d?void 0:d.categories,h);-1!==i&&(a.data.toc.categories.splice(i,1),(null==a?void 0:null===(e=a.data)|| void 0===e?void 0:null===(f=e.toc)|| void 0===f?void 0:null===(g=f.categories)|| void 0===g?void 0:g.length)||(a.data.toc=C.LT),a.dirty=!0)},updateProjectDetails:function(a,b){var c=b.payload;a.data.content=c},updateComponentETag:function(a,b){var c,d=b.payload;a.component=null!==(c=a.component)&& void 0!==c?c:null,a.component[h.Zq]=d[h.Zq],d.saved&&(a.dirty=!1)},setComponent:function(a,b){var c=b.payload;a.component=(0,D.v5)(c.data),a.component[h.Zq]=c[h.Zq]},setRestoredComponent:function(a,b){var c=b.payload;a.component&&(a.component=(0,D.v5)({content:c.data}),a.component.snapshot_loaded=!0)},clearRestoredComponent:function(a){a.component=(0,D.v5)({}),a.component.snapshot_loaded=!1},clearSnapshotLoaded:function(a){a.component&&(a.component.snapshot_loaded=!1)},postProjectSave:function(a,b){var c=b.payload;a.data[h.Zq]=c,a.dirty=!1},clearComponent:function(a){a.component=null},updateComponentCode:function(a,b){var c,d=b.payload;if(a.component){if(a.dirty=!0,"function"==typeof d){d(a.component.content.codeContent);return}a.component.content.codeContent=K(J({},a.component.content.codeContent,d),{comp_id:(null===(c=a.component.content.codeContent)|| void 0===c?void 0:c.comp_id)||(0,j.x0)()})}},updateProtectedContent:function(a,b){var c=b.payload;a.dirty=!0,a.component&&(a.component.content.protected_content=c)},updateComponentURL:function(a,b){var c=b.payload;a.dirty=!0,a.component&&(a.component.content.url=c)},updateCodeContentInViewMode:function(a,b){var c=b.payload,d=a.component.content.codeContent;a.component.content.codeContent=J({},d,c)},updateCodingEnv:function(a,b){var c,d=b.payload;switch(a.component.content.type=d,d){case t.hf.SPA:a.component.content.codeContent=K(J({},u.Z),{isProject:!0}),a.component.content.url=null;break;case t.hf.CODE:a.component.content.codeContent=K(J({},w.Z),{isProject:!0}),a.component.content.url=null;break;case t.hf.WORKSPACE:a.component.content.codeContent={},a.component.content.url=null;break;case t.hf.TERMINAL:a.component.content.codeContent=(0,D.Nm)((null===(c=a.data.docker)|| void 0===c?void 0:c.envs)||[]),a.component.content.url=null;break;case t.hf.RUNJS:a.component.content.codeContent=K(J({},x.Z),{isProject:!0}),a.component.content.url=null;break;case t.hf.CODE_EVALUATION:a.component.content.codeContent=K(J({},v.Z.content),{isProject:!0}),a.component.content.protected_content=v.Z.protectedContent,a.component.content.url=null;break;default:a.component.content.codeContent={},a.component.content.url=""}a.component.content.codeContent.comp_id=(0,j.x0)()},updateProjectDifficulty:function(a,b){var c=b.payload;a.component.difficulty=c,a.dirty=!0},updateRelevantCourses:function(a,b){var c=b.payload;a.data.relevant_courses=c,a.dirty=!0},updatePreReqProjects:function(a,b){var c=b.payload;a.data.pre_requisite_projects=c,a.dirty=!0},updatePreReqs:function(a,b){var c=b.payload;a.data.pre_reqs=c,a.dirty=!0}})});b.ZP=O.reducer;var P=K(J({},O.actions),{load:function(a){var b,c=a.authorId,d=a.collectionId,g=a.projectId,i=a.courseUrlSlug,j=void 0===i?"":i,k=a.pageUrlSlug,n=void 0===k?"":k,o=a.mode,p=j&&n?"project/".concat(j,"/").concat(n):"project/".concat(c,"/").concat(d,"/").concat(g),q="view"===o?p:"author/".concat(c,"/collection/").concat(d,"/project/").concat(g);return b=H(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(P.pending()),a.abrupt("return",(0,f.Z)({url:"/api/".concat(q),type:"GET"},!0).then(function(a){var c=a.data,d=a.xhr;b(P.fulfilled((0,D.O4)({data:c}))),c&&b(P.updateETag(d.headers.get(h.Zq)))}).catch(function(a){a.status===m.Wy.unauthorizedException?(0,l.xc)():a.status===m.Wy.notFoundException&&b(F.i6.set({notFoundPageStatus:!0})),b(P.rejected((0,l.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a){return b.apply(this,arguments)}},save:function(a){var b=a.project;return function(a){return(0,y.zp)((0,D.f4)(b)).then(function(b){b&&a(P.postProjectSave(b.xhr.headers.get(h.Zq)))})}},prepareDockerOnSetProject:function(a,b,c){var d;return d=H(e().mark(function d(f){var g,h,i,j,k,l;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h=(null==a?void 0:a.docker)?K(J({},a.docker),{envs:null!==(g=a.docker.envs)&& void 0!==g?g:[]}):o.s4,d.next=4,(0,p.wi)(c,b);case 4:i=d.sent,j=K(J({},h),{container:K(J({},h.container),{liveInstance:i})}),f(q.r.setObject(j)),l=(null==a?void 0:a.testing_docker)?K(J({},a.testing_docker),{envs:null!==(k=a.testing_docker.envs)&& void 0!==k?k:[]}):o.s4,f(r.h.setObject(l));case 10:case"end":return d.stop()}},d)})),function(a){return d.apply(this,arguments)}},saveComponent:function(a){var b=a.component;return function(a){return(0,y.fq)(b).then(function(b){var c;b&&a(P.updateComponentETag((I(c={},h.Zq,b.xhr.headers.get(h.Zq)),I(c,"saved",!0),c)))})}},loadComponent:function(a){return function(b){return(0,y.xU)(a).then(function(a){if(null==a?void 0:a.data){var c=(0,D.v5)(JSON.parse(a.data));return b(P.setComponent(I({data:c},h.Zq,a.xhr.headers.get(h.Zq)))),c}})}},loadComponentSnapshot:function(a,b,c){return function(d){return(0,y.vb)(a,b,c,n.qen.PROJECT_COMPONENT).then(function(a){if(null==a?void 0:a.data){var b=JSON.parse(a.data);return d(P.setRestoredComponent({data:b})),b}})}},loadUserProgress:function(a){return function(b){return(0,y.nf)(a).then(function(a){return(null==a?void 0:a.data)?JSON.parse(a.data):null}).catch(function(a){return console.log("Error loading user code",a)})}},saveUserProgress:function(a){return function(b){return(0,y.oP)(a).catch(function(a){b(k.n.show(i.ad,{status:"ERROR",text:"Failed to Save User Project"}))})}}}),Q=function(a,b){return function(c,d){b&&c(b),c(k.n.show(i.ad,{status:"WAIT",text:"Saving"}));var e=null==a?void 0:a.copyWidgets,f=d().project.data.content;return e&&(f=(null==a?void 0:a.slateComps)?R(null==a?void 0:a.slateComps):d().widgets),c(P.save({project:K(J({},d().project.data),{content:f,docker:JSON.stringify((0,o.qZ)(d().dockerDetails)),testing_docker:JSON.stringify((0,o.qZ)(d().testingDockerDetails))})})).then(function(){c(k.n.show(i.ad,{status:"SUCCESS",text:"Saved"})),e&&c(P.updateProjectDetails(f)),c(s.oh.resetDirtyBit())}).catch(function(a){(0,l.rU)(a,c);var d,e=null==a?void 0:null===(d=a.responseJSON)|| void 0===d?void 0:d.errorText;a.status===m.Wy.AlreadyExistsException&&e===m.pX.versionOutDatedMessage?c(X(function(){c(P.updateETag(n.FhE)),c(Q(void 0,b))})):c(k.n.show(i.ad,{status:"ERROR",text:e||"Failed to save project"}))})}},R=function(a){var b={selectedHash:-1,entities:{},ids:[]};return a.forEach(function(a,c){b.entities[c]=a,b.ids.push(c)}),b},S=function(a,b){return function(c,d){a&&c(a);var e=b||d().widgets;return c(k.n.show(i.ad,{status:"WAIT",text:"Saving"})),c(P.saveComponent({component:K(J({},d().project.component),{content:K(J({},d().project.component.content),{descriptionWidgets:e})})})).then(function(){c(k.n.show(i.ad,{status:"SUCCESS",text:"Saved"})),c(s.oh.resetDirtyBit())}).catch(function(d){var e,f=null==d?void 0:null===(e=d.responseJSON)|| void 0===e?void 0:e.errorText;d.status===m.Wy.AlreadyExistsException&&f===m.pX.versionOutDatedMessage?c(X(function(){c(P.updateComponentETag(I({},h.Zq,n.FhE))),c(S(a,b))})):c(k.n.show(i.ad,{status:"ERROR",text:"Failed to save task"}))})}},T=function(a){var b=a.entities,c=a.ids;return function(a){var d=c.map(function(a){return b[a]});a(s.oh.load(Object.values(d)))}},U=function(){var a=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return function(b){b(s.oh.load(a))}},V=function(a,b,c,d,e){return function(g){var h=d.file.name.split(" ").join("-"),i="/api/author/".concat(a,"/collection/").concat(b,"/containers/").concat(h,"/get_upload_url?project_id=").concat(c,"&docker_type=").concat(e.toLowerCase());return(0,f.Z)({url:i,type:"GET"}).then(JSON.parse).then(function(a){var b=a.gcs_object_name,c=a.container_id,i=a.blob_upload_url,j=a.upload_success_url,k=a.build_status_url,l=a.tarball_download_url,m=a.build_log_url,n=a.rebuild_image_url,o=e===C.a5.TESTING?r.h:q.r;return g(o.setFile(K(J({},d),{id:void 0===c?-1:c,buildStatusUrl:k,tarballDownloadUrl:l,buildLogUrl:m,rebuildImageUrl:n,file:{name:h,size:d.file.size,awaitingUpload:!0}}))),{onUploadSuccess:function(){return(0,f.Z)({url:j,type:"POST",data:{gcs_object_name:b}},!0)},upload:function(){return(0,f.Z)({url:i,type:"POST",data:d.file,processData:!1,contentType:d.file.type})}}}).catch(function(a){console.log(a)})}},W=function(a){var b=a.upload,c=a.onUploadSuccess,d=a.dockerType;return function(a){var f,g=d===C.a5.TESTING?r.h:q.r;return a(g.updateBuildStatus("UPLOADING")),b().then(function(){return c()}).then(function(a){return JSON.parse(a.data)}).then((f=H(e().mark(function b(c){var d,f;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:f=void 0===(d=c.image_name)?"default_name":d,a(Q(void 0,g.afterFileUpload(f))),a(k.n.show(i.ad,{status:"SUCCESS",text:"Docker Image build has been queued!!"}));case 3:case"end":return b.stop()}},b)})),function(a){return f.apply(this,arguments)})).catch(function(e){if(500===e.status){a(W({upload:b,onUploadSuccess:c,dockerType:d}));return}console.log("error while uploading docker file",e),a(g.updateBuildStatus("FAILURE")),a(k.n.show(i.ad,{status:"ERROR",text:"Uploading Docker File failed"}))})}},X=function(a){return function(b){b(k.n.close()),b(k.n.show(i.zN,{onConfirm:a,cancelText:"Cancel",confirmText:"Save",title:"Conflicts",description:"The content you are editing has changed. The previous changes will be overwritten. Are you sure you want to save?"}))}},Y=function(a,b,c,d){return function(e){e(k.n.show(i.xq,{title:a,url:"".concat((0,E.zw)()).concat((0,D.Qk)(b,c,d,void 0,void 0)),authorId:b,collectionId:c}))}},Z=function(a){var b=a.firstProjectComponentId,c=a.projectId,d=a.authorId,e=a.collectionId,f=a.pathAuthorId,g=a.pathId,h=a.isReview,i=a.restartProject,j=void 0!==i&&i,k=a.courseUrlSlug,l=void 0===k?null:k,m=a.isStandaloneProject,n=void 0!==m&&m;return function(a){(0,y.$3)(d,e,c).then(function(){j||a(P.clear());var i=(0,B.Z)(d,e,void 0,b,c,!1,l,!1,void 0,f,g,h,null,!1,!1,!1,null,!1,!1,n).projectComponentViewUrl.href;A().push(i)})}}},59436:function(a,b,c){c.d(b,{BO:function(){return P},"F$":function(){return N},lO:function(){return O},rk:function(){return H},zg:function(){return Q}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(92401),i=c(689),j=c(92874),k=c(9661),l=c(2293),m=c(98157),n=c(27175),o=c(73756),p=c(66226),q=c(92879),r=c(55815),s=c(131),t=c(30031),u=c(77138),v=c(6229),w=c(12814),x=c(58564),y=c(83443);function z(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function A(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function B(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){A(f,d,e,g,h,"next",a)}function h(a){A(f,d,e,g,h,"throw",a)}g(void 0)})}}function C(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function D(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){C(a,b,c[b])})}return a}function E(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function F(a){return function(a){if(Array.isArray(a))return z(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||G(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(a,b){if(a){if("string"==typeof a)return z(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return z(a,b)}}var H="homepage",I=(0,f.Z)(),J=I.initialState,K=I.reducers,L=(0,g.oM)({name:"author/proofread",initialState:J,reducers:E(D({},K),{updateTitle:function(a,b){var c=b.payload;a.data.title=c,a.data.dirty=!0},updateSummary:function(a,b){var c=b.payload;a.data.summary=c,a.data.dirty=!0},updateBriefSummary:function(a,b){var c=b.payload;a.data.brief_summary=c,a.data.dirty=!0},updateCategoryTitle:function(a,b){var c,d,e=b.payload,f=e.title,g=e.id,h=(c=a.data.toc.categories,d=g,c.findIndex(function(a){return a.id===d}));a.data.toc.categories[h].title="__default"!==f?f:"",a.data.dirty=!0},updateCLO:function(a,b){var c=b.payload,d=c.text,e=c.index;a.data.clos[e]=d,a.data.dirty=!0},updateETAG:function(a,b){var c=b.payload;a.data[h.Zq]=c},resetBits:function(a){a.data.dirty=!1,a.data.rejectedAny=!1},setDirty:function(a,b){var c=b.payload;a.data.dirty=c},setCollection:function(a,b){var c=b.payload,d=c.title,e=c.summary,f=c.brief_summary,g=c.toc,h=c.clos;a.data.title=d,a.data.summary=e,a.data.brief_summary=f,a.data.toc=g,a.data.clos=h,a.data.dirty=!1},setPage:function(a,b){var c,d=b.payload,e=d.title,f=d.summary,g=d.content;a.data=E(D({},null!==(c=a.data)&& void 0!==c?c:{}),{page:{title:e,summary:f,components:g.components}})},updatePageTitle:function(a,b){var c=b.payload;a.data.page.title=c,a.data.dirty=!0},updatePageSummary:function(a,b){var c=b.payload;a.data.page.summary=c,a.data.dirty=!0},updatePageETAG:function(a,b){var c=b.payload;a.data.page[h.Zq]=c},rejectPageProofread:function(a,b){var c=b.payload,d=c.components,e=c.title,f=c.summary;a.data.page.components=d,a.data.page.title=e,a.data.page.summary=null==f?void 0:f.description},setPageComponent:function(a,b){var c=b.payload,d=c.index,e=c.component;a.data.page.components[d]=e},changePendingPageStatus:function(a,b){var c=b.payload,d=c.pageId,e=c.pending,f=void 0!==e&&e;if(d===H){a.data.is_homepage_pending=f;return}if(f){a.data.pending_pages=F(a.data.pending_pages).concat([d]);return}a.data.pending_pages=a.data.pending_pages.filter(function(a){return a!==d})},markPageAsCompleted:function(a,b){var c=b.payload.pageId;a.data.page_completions=E(D({},a.data.page_completions),C({},c,!0))},setProofreadRejected:function(a){a.data.rejectedAny=!0,a.data.dirty=!0}})});b.ZP=L.reducer;var M=function(a,b,c,d){var e=JSON.parse(a),f=e.proofread,g=e.collection,h=e.work_mode,i=e.pending_pages,j=e.is_homepage_pending,k=e.page_completions,l=f;return l||(l={title:g.instance.details.title||"",summary:g.instance.details.summary||"",brief_summary:g.instance.details.brief_summary||"",toc:g.instance.details.toc,clos:g.instance.details.clos||[]}),b(n.X5.set({instance:{details:E(D({},g.instance.details),{docker:{container:{}},author_id:c,collection_id:d})}})),b(u.X8.load(F(Object.values(g.instance.details.page_keys||{})).concat([g.instance.details.collection_key,]))),E(D({},l),{work_mode:h,pending_pages:i,is_homepage_pending:j,page_completions:void 0===k?{}:k})},N=E(D({},L.actions),{load:function(a,b){var c,d=arguments.length>2&& void 0!==arguments[2]&&arguments[2],f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]&&arguments[4],i=arguments.length>5&& void 0!==arguments[5]?arguments[5]:null,j=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null;return c=B(e().mark(function c(l){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return l(N.clear()),l(N.pending()),c.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"?incorporate=").concat(d,"&preview=").concat(f,"&reviewIncorporations=").concat(g).concat(i?"&selectedPass=".concat(i).concat(j?"&basePass=".concat(j):""):""),type:"GET"},!0).then(function(c){var d=c.data,e=c.xhr;l(N.fulfilled(M(d,l,a,b))),d&&l(N.updateETAG(e.headers.get(h.ZF))),d&&l(n.X5.updateETAG(e.headers.get(h.Zq))),d&&l(N.resetBits())}).catch(function(a){a.status===x.Wy.unauthorizedException?(0,w.xc)():a.status===x.Wy.notFoundException&&l(y.i6.set({notFoundPageStatus:!0})),l(N.rejected((0,w.nU)(a)))}));case 3:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}},saveProofread:function(a,b){var c,d=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return c=B(e().mark(function c(f,g){var i,j,m,n;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return j={title:(i=g().author.proofread.data).title,summary:i.summary,brief_summary:i.brief_summary,toc:i.toc,clos:i.clos},m=i[h.Zq],n=!1===i.rejectedAny,c.abrupt("return",(0,v.p1)(function(c){var e;return f(o.n.show(p.ad,{status:"WAIT",text:"Saving"})),(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"?incorporate=").concat(d,"&accepted_all=").concat(n),contentType:"application/json",processData:!1,type:"PUT",data:(0,l.deflate)(JSON.stringify({proofread_content:j}),{level:9}),headers:(C(e={},h.Zq,null!=c?c:""),C(e,"Content-Encoding","deflate"),e)},!0).then(function(a){var b=a.xhr;f(o.n.show(p.ad,{status:"SUCCESS",text:"Saved"})),f(N.resetBits()),f(N.changePendingPageStatus({pageId:H,pending:!d})),d||f(N.updateETAG(b.headers.get(h.Zq)))})},m,f).catch(function(a){return!a.stopModal&&f(o.n.show(p.ad,{status:"ERROR",text:"Failed to Save. ".concat((0,w.nU)(a))}))}));case 5:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}},submitProofread:function(a,b,c){var d,f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]&&arguments[4];return d=B(e().mark(function d(h,i){var j,l,m,n,q,r,u;return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(l=(j=i().author.proofread.data).pending_pages.length,m=j.is_homepage_pending,n=function(){var d=B(e().mark(function d(){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return h(o.n.show(p.ad,{status:"WAIT",text:"Submitting"})),d.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/submit?incorporate=").concat(f,"&reviewIncorporations=").concat(g),type:"POST"}).then(function(){h(o.n.show(p.ad,{status:"SUCCESS",text:"Submitted"}));var d=(0,t.Z)(a,b,null,!0,s.dLO.COLLECTION);c.push("/collection/[authorId]/[collectionId]/draft",d)}).catch(function(a){var b;h(o.n.show(p.ad,{status:"ERROR",text:(null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText)||"Unable to Submit"}))}));case 2:case"end":return d.stop()}},d)}));return function(){return d.apply(this,arguments)}}(),q=l>0||m,!f){d.next=8;break}return r=q?'There are still <span style="color: #8887FF">'.concat(l,"</span> lesson(s) ").concat(m?"and Course Homepage":""," with pending and/or unsaved suggestions from the proofreader that need to be incorporated before this course can be submitted. Please incorporate and press save"):"Do you want to submit your changes? You won't be able to incorporate proofread for the whole course after submitting.",d.abrupt("return",h(o.n.show(p.zN,{onConfirm:B(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(o.n.close());case 2:return a.next=4,n();case 4:case"end":return a.stop()}},a)})),cancelText:q?"Close":"Cancel",confirmText:q?"Close":"Submit Changes",title:q?"Unable to submit":"Alert",description:r,hideConfirmButton:q,styleType:"leftAligned"})));case 8:if(!g){d.next=11;break}return u=l>0||m?'There are still <span style="color: #8887FF">'.concat(l,"</span> lesson(s) ").concat(m?"and Course Homepage":""," with pending approval before proofread can be finished. Please approve before finishing proofread."):"Do you want to approval all changes?",d.abrupt("return",h(o.n.show(p.zN,{onConfirm:B(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(o.n.close());case 2:return a.next=4,n();case 4:case"end":return a.stop()}},a)})),cancelText:q?"Close":"Cancel",confirmText:q?"Close":"Submit",title:q?"Unable to submit":"Alert",description:u,hideConfirmButton:q,styleType:"leftAligned"})));case 11:return d.abrupt("return",h(o.n.show(p.zN,{onConfirm:B(e().mark(function a(){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,h(o.n.close());case 2:return a.next=4,n();case 4:case"end":return a.stop()}},a)})),cancelText:"Cancel",confirmText:"Submit",title:"Alert",description:"Do you want to submit your changes? You won't be able to make changes after submitting."})));case 12:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},loadPage:function(a,b,c){var d,f=arguments.length>3&& void 0!==arguments[3]&&arguments[3],g=arguments.length>4&& void 0!==arguments[4]&&arguments[4],l=arguments.length>5&& void 0!==arguments[5]&&arguments[5],o=arguments.length>6&& void 0!==arguments[6]?arguments[6]:null,p=arguments.length>7&& void 0!==arguments[7]?arguments[7]:null;return d=B(e().mark(function d(q,r){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return q(i.x.pending()),d.abrupt("return",(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/page/").concat(c,"?incorporate=").concat(f,"&preview=").concat(g,"&reviewIncorporations=").concat(l).concat(o?"&selectedPass=".concat(o).concat(p?"&basePass=".concat(p):""):""),contentType:"application/json",type:"GET"},!0).then(function(a){var b=a.data,d=a.xhr,e=JSON.parse(b),f=e.proofread,g=e.collection_page,k=g.content,l=g.props,o=f;k=E(D({},k),{components:(0,j.jQ)(k.components)}),(null==l?void 0:l.title)&&q(n.X5.updateArticleTitle({pageId:c,title:null==l?void 0:l.title})),o||(o={content:{components:k.components||[]},title:r().author.collection.instance.details.page_titles[c]||"",summary:k.summary.description||""});var p=(0,j.jQ)(o.content.components);q(m.t.fulfilled(l)),q(N.setPage(o)),q(j.oh.load(p,!1)),q(N.updatePageETAG(d.headers.get(h.ZF))),q(i.x.updateETag(d.headers.get(h.Zq))),q(i.x.fulfilled(k)),q(N.resetBits())}).catch(function(a){var b;q({type:"author/collectionArticle/rejected",error:(null==a?void 0:null===(b=a.responseJSON)|| void 0===b?void 0:b.errorText)||s.w8I})}));case 2:case"end":return d.stop()}},d)})),function(a,b){return d.apply(this,arguments)}},savePageProofread:function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=arguments.length>4&& void 0!==arguments[4]?arguments[4]:[];return function(f,g){var i=g().author.proofread.data,m=g().author.collectionArticle.data,n=(0,q.Dn)(e),s=(0,r.TE)(e).TOC,t={title:i.page.title||"",summary:i.page.summary||"",content:{components:e,summary:E(D({},m.summary),{description:i.page.summary||""})},concepts:n,page_toc:s},u=i.page[h.Zq],x=!1===i.rejectedAny;return(0,v.p1)(function(e){var g;return f(o.n.show(p.ad,{status:"WAIT",text:"Saving"})),(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/page/").concat(c,"?incorporate=").concat(d,"&accepted_all=").concat(x),contentType:"application/json",processData:!1,type:"PUT",data:(0,l.deflate)(JSON.stringify({proofread_content:t}),{level:9}),headers:(C(g={},h.Zq,null!=e?e:""),C(g,"Content-Encoding","deflate"),g)},!0).then(function(a){var b=a.xhr;f(o.n.show(p.ad,{status:"SUCCESS",text:"Saved"})),f(N.resetBits()),f(j.oh.resetDirtyBit()),f(j.oh.resetMarkdownDirtyBit()),f(N.changePendingPageStatus({pageId:c,pending:!d})),d||f(N.updatePageETAG(b.headers.get(h.Zq)))})},u,f).catch(function(a){return!a.stopModal&&f(o.n.show(p.ad,{status:"ERROR",text:"Failed to Save. ".concat((0,w.nU)(a))}))})}},incorporateWidget:function(a){var b;return b=B(e().mark(function b(c,d){var f,g,h;return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return g=(f=d().widgets).ids.indexOf(a),h=f.entities[a],b.next=5,c(i.x.setComponent({component:h,index:g}));case 5:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},approveAuthorIncorporations:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null;return function(d,e){d(o.n.show(p.ad,{status:"WAIT",text:"Approving incorporations"}));var f=e().author.collection,g=e().author.collectionArticle.data,i=c?g[h.Zq]:f[h.Zq],j=i?C({},h.Zq,i):{};return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b).concat(c?"/page/".concat(c):""),type:"POST",headers:D({},j)},!0).then(function(){d(o.n.showOrUpdate(p.ad,{status:"SUCCESS",text:"Approved"})),d(N.changePendingPageStatus({pageId:c||H}))}).catch(function(){d(o.n.showOrUpdate(p.ad,{status:"ERROR",text:"Approve Failed"}))})}}}),O=function(a,b){return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/get-passes-info"),type:"GET"},!0)},P=function(a,b,c){return(0,k.Z)({url:"/api/proofread/".concat(a,"/collection/").concat(b,"/").concat(c,"/mark-page-complete"),type:"POST"})},Q=function(a){var b=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return function(c,d){var e,f,g,h=d().author,i=null==h?void 0:null===(e=h.collectionArticle)|| void 0===e?void 0:e.data,k=null==h?void 0:null===(f=h.proofread)|| void 0===f?void 0:null===(g=f.data)|| void 0===g?void 0:g.page,l=b?null==k?void 0:k.components:null==i?void 0:i.components,m=d().widgets,n=m.ids.indexOf(a),o=null==l?void 0:l[n];return b||c(N.setPageComponent({index:n,component:m.entities[a]})),c(j.oh.addOnExistingHash({data:o,hash:a}))}}},66158:function(a,b,c){c.d(b,{A:function(){return i}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}var g={onboardingPlanMap:{},selectedItemInToc:"",selectedCategoryInToc:""},h=(0,d.oM)({name:"author/tocMaps",initialState:g,reducers:{clear:function(){return f({},g)},clearOnboardingPlanMap:function(a){a.onboardingPlanMap={}},updateOnboardingPlanMap:function(a,b){var c=b.payload;a.onboardingPlanMap=c},addToOnboardingPlanMap:function(a,b){var c,d=b.payload,e=d.key,g=d.val;a.onboardingPlanMap[e]=f({},null!==(c=a.onboardingPlanMap[e])&& void 0!==c?c:{},g)},removeFromOnboardingPlanMap:function(a,b){var c=b.payload.key;delete a.onboardingPlanMap[c]},updateSelectedItemInToc:function(a,b){var c=b.payload;a.selectedItemInToc=c},clearSelectedItemInToc:function(a){a.selectedItemInToc=""},updateSelectedCategoryInToc:function(a,b){var c=b.payload;a.selectedCategoryInToc=c},clearSelectedCategoryInToc:function(a){a.selectedCategoryInToc=""}}});b.Z=h.reducer;var i=f({},h.actions)},51536:function(a,b,c){c.d(b,{B:function(){return v}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o="author/work",p={author:"author_work",ref:"ref_work",collab:"collab_work"},q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,i.oM)({name:o,initialState:r,reducers:n(m({},s),{delete:function(a,b){var c,d=b.payload,e=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"author";d&&a.loaded&&(a.data.work_summaries[p[e]]=null===(c=a.data.work_summaries)|| void 0===c?void 0:c[p[e]].filter(function(a){return a.id!==d}))}})});b.Z=t.reducer;var u=function(a,b,c){var d=JSON.parse(c),e=Object.keys(a).length?a:d.work_summaries;return d.work_summaries=n(m({},e),l({},"".concat(b,"_work"),d.work_summaries["".concat(b,"_work")])),d},v=n(m({},t.actions),{load:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"author",c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{};return a=k(e().mark(function a(d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d(v.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(o,"/").concat(b),type:"GET"}).then(function(a){d(v.fulfilled(u(c,b,a)))}).catch(function(a){d(v.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},loadPrivatePaths:function(a){var b,c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:{},d=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"published";return b=k(e().mark(function b(f){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return f(v.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(o,"/path/organization/").concat(a,"?filter_type=").concat(d),type:"GET"}).then(function(a){f(v.fulfilled(u(c,"private",a)))}).catch(function(a){f(v.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)})),function(a){return b.apply(this,arguments)}}})},58910:function(a,b,c){c.d(b,{R:function(){return f}});var d,e=(0,c(62958).oM)({name:"banner",initialState:{count:0,bannersHeight:0,banners:{}},reducers:{show:{reducer:function(a,b){var c,d=b.payload,e=d.bannerType,f=d.bannerProps;(null===(c=a.banners[e])|| void 0===c?void 0:c.showBanner)||!f||(a.banners[e]=f,a.count=a.count+1)},prepare:function(a,b){return{payload:{bannerType:a,bannerProps:b}}}},hide:function(a,b){var c=b.payload;a.banners[c]&&(a.banners[c].showBanner=!1,a.count=a.count-1)},forceHide:function(a,b){var c=b.payload;a.banners[c]&&(a.banners[c].forceHide=!0,a.banners[c].showBanner=!1)},setBannerHeight:function(a,b){var c=b.payload.bannerHeight;a.bannersHeight=c}}});b.Z=e.reducer;var f=e.actions},98157:function(a,b,c){c.d(b,{t:function(){return y}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(23721),k=c(62958),l=c(131),m=c(50109),n=c(83443),o=c(15703);function p(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function q(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var r=(0,f.Z)(),s=r.initialState,t=r.reducers,u=(0,k.oM)({name:"collectionArticlePreview",initialState:s,reducers:t});b.Z=u.reducer;var v,w,x=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n={authorId:a.author_id,collectionId:a.collection_id,compIds:null},p=b?null===(e=d().author.collectionArticle.data)|| void 0===e?void 0:e.components:null===(f=d().userCollectionArticle.data)|| void 0===f?void 0:f.components,q=null===(g=d().author.collection.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:h.api_keys,r=null===(i=d().author.collection.instance)|| void 0===i?void 0:null===(j=i.details)|| void 0===j?void 0:null===(k=j.docker)|| void 0===k?void 0:k.envs;if((b?!!d().author.collectionArticle.loaded:!!d().userCollectionArticle.loaded)&&(r&&r.length||q&&q.length)&&p){n.compIds=p.map(function(a){return a.content.comp_id}).filter(Boolean);var s=d().user;(null===(l=n.compIds)|| void 0===l?void 0:l.length)&&n.authorId&&n.collectionId&&(null===(m=s.info.data)|| void 0===m?void 0:m.user_id)&&!s.userApiKeys.loading&&!s.userApiKeys.loaded&&c((0,o.$6)({params:n,apiKeys:q,envKeys:r}))}},y=(v=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){q(a,b,c[b])})}return a}({},u.actions),w=(w={load:function(a){var b=a.author_id,c=a.collection_id,d=a.page_id,f=a.course_url_slug,k=void 0===f?void 0:f,o=a.page_url_slug,q=void 0===o?void 0:o,r=a.isDraft,s=a.editorPageProps,t=a.resetWidgetUserData,u=void 0===t||t,v=a.router,w=a.work_type,z=void 0===w?void 0:w,A=a.path_author_id,B=void 0===A?void 0:A,C=a.path_id,D=void 0===C?void 0:C,E=a.organization_id,F=void 0===E?void 0:E,G=a.menteeId,H=void 0===G?void 0:G,I=k?"collection/".concat(k,"/page/").concat(q,"/props"):"collection/".concat(b,"/").concat(c,"/page/").concat(d,"/props").concat(r?"/draft?editor_page_props=".concat(!!s):"");z&&(I+="?work_type=".concat(z)),!r&&(B&&D&&(I+="&path_author_id=".concat(B,"&path_id=").concat(D)),F&&(I+="&organization_id=".concat(F)),H&&(I+="&mentee_id=".concat(H)));var J,K,L={menteeId:H,organization_id:F,path_author_id:B,path_id:D};return K=(J=e().mark(function a(d,f){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d(y.pending()),u&&d(j.Vy.reset()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(I),type:"GET"}).then(function(a){var b=JSON.parse(a);if(d(y.fulfilled(b)),x(b,r,d,f),!r){var c,e,g,h,i,j={compIds:null,authorId:b.item_type===l.RIu.LESSON?b.external_author_id:b.author_id,userId:null===(c=f().user.info.data)|| void 0===c?void 0:c.user_id,pageId:b.item_type===l.RIu.LESSON?b.external_page_id:b.page_id,shotId:b.item_type===l.RIu.SHOT?b.shot_id:null,collectionId:b.item_type===l.RIu.LESSON?b.external_collection_id:b.collection_id,askForHelpData:L};j.userId&&(j.shotId&&f().edpresso.shots.loaded&&(null===(e=f().edpresso.shots.data)|| void 0===e?void 0:e.content)||f().userCollectionArticle.loaded&&(null===(g=f().userCollectionArticle.data)|| void 0===g?void 0:g.components))&&(j.compIds=j.shotId?null===(h=f().edpresso.shots.data)|| void 0===h?void 0:h.content.map(function(a){return a.content.comp_id}).filter(Boolean):(0,m.ZX)(f().userCollectionArticle.data.components),(null===(i=j.compIds)|| void 0===i?void 0:i.length)&&j.authorId&&j.userId&&j.pageId&&d((0,m.Sh)(j)))}}).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException?d(n.i6.set({notFoundPageStatus:!0})):a.status===i.Wy.accessDeniedException&&v.push(k?"/courses/".concat(k):"/collection/".concat(b,"/").concat(c)),d(y.rejected((0,h.nU)(a)))}));case 3:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=J.apply(a,b);function f(a){p(e,c,d,f,g,"next",a)}function g(a){p(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a,b){return K.apply(this,arguments)}}},w),Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(w)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(w)).forEach(function(a){Object.defineProperty(v,a,Object.getOwnPropertyDescriptor(w,a))}),v)},47829:function(a,b,c){c.d(b,{r:function(){return r}});var d=c(41344),e=c.n(d),f=c(36343),g=c(85848),h=c(62958),i=c(9661),j=c(131);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=f.s4,p=function(a,b){for(var c=a,d=0;b.filter(function(a){return a.name===c}).length;){if(++d>20){c="".concat(a,"-").concat((0,h.x0)());break}c="".concat(a,"-").concat((0,g.Z)().substr(0,6))}return c},q=(0,h.oM)({name:"dockerDetails",initialState:o,reducers:{setObject:function(a,b){return n(m({},b.payload),{loaded:!0})},setFile:function(a,b){var c=b.payload;a.container.imageName="",Object.assign(a.container,c)},removeImage:function(a){a.container=f.s4.container},updateBuildStatus:function(a,b){var c=b.payload;a.container&&(a.container.buildStatus=c)},setTrackStatus:function(a,b){var c=b.payload;a.container&&(a.container.track=void 0!==c&&c)},addJob:function(a,b){var c=b.payload;a.jobs||(a.jobs=[]),a.jobs.push(n(m({},c),{key:(0,h.x0)()}))},duplicateJob:function(a,b){var c=b.payload;a.jobs||(a.jobs=[]),a.jobs.push(n(m({},c),{key:(0,h.x0)(),name:p("".concat(c.name,"-copy"),a.jobs)}))},updateJob:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.jobs[e]=d},resetLoaded:function(a){a.loaded=!1},removeJob:function(a,b){var c=b.payload.index;a.jobs.splice(c,1)},afterFileUpload:function(a,b){var c=b.payload;a.container.imageName=c,a.container.buildStatus="PENDING",a.container.file.awaitingUpload=!1},saveEnvVariable:function(a,b){var c,d=b.payload.env,e=d.id,f=void 0===e?"":e,g=d.key,i=void 0===g?"":g,j=d.value,k=d.info,l=d.required,m=d.useAsDefault,n=d.deleted,o=d.defaultValue,p=null!==(c=null==a?void 0:a.envs)&& void 0!==c?c:[],q={id:f||(0,h.x0)(),key:i,name:i,value:void 0===j?"":j,info:void 0===k?"":k,required:void 0!==l&&l,useAsDefault:void 0===m||m,deleted:void 0!==n&&n,defaultValue:void 0===o?"":o},r=p.findIndex(function(a){return a.id===f});-1!==r?a.envs[r]=q:a.envs.push(q)},saveEnvs:function(a,b){var c=b.payload;a.envs=c.envs},removeEnvVariable:function(a,b){var c=b.payload.env,d=a.envs.findIndex(function(a){return a.id===c.id});-1!==d&&a.envs.splice(d,1)}}});b.Z=q.reducer;var r=n(m({},q.actions),{rebuildImage:function(a){return function(b){b(r.updateBuildStatus("REBUILDING"));var c=null==a?void 0:a.container;(0,i.Z)({url:null==c?void 0:c.rebuildImageUrl,type:"PUT",processData:!1}).then(function(){b(r.updateBuildStatus("PENDING"))}).catch(function(){b(r.updateBuildStatus("FAILURE"))})}},trackBuild:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return function(d,g){var h,l=null===(h=g().dockerDetails)|| void 0===h?void 0:h.container;if(l&&l.track&&(0,f.FE)(l.buildStatus)){var m,n,o=(n=(m=e().mark(function h(){var k,m,n,p,q;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=2,e.next=5,(0,i.Z)({url:l.buildStatusUrl,type:"GET"},!0);case 5:n=(p=e.sent).data,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),500===e.t0.status&&setTimeout(o,3e3),e.abrupt("return");case 13:q=JSON.parse(n).build_status,(null===(k=g().dockerDetails)|| void 0===k?void 0:null===(m=k.container)|| void 0===m?void 0:m.track)&&(0,f.FE)(q)?setTimeout(o,3e3):(0,f.FE)(q)||(d(r.setTrackStatus(!1)),d(c?a(b,r.updateBuildStatus(q),!1,j.dLO.COLLECTION,!0):a(b,r.updateBuildStatus(q))));case 15:case"end":return e.stop()}},h,null,[[2,9]])}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=m.apply(a,b);function f(a){k(e,c,d,f,g,"next",a)}function g(a){k(e,c,d,f,g,"throw",a)}f(void 0)})}),function(){return n.apply(this,arguments)});setTimeout(o,1e3)}}}})},2961:function(a,b,c){c.d(b,{h:function(){return p}});var d=c(41344),e=c.n(d),f=c(9661),g=c(62958),h=c(36343),i=c(131);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n=h.s4,o=(0,g.oM)({name:"testingDockerDetails",initialState:n,reducers:{setObject:function(a,b){return m(l({},b.payload),{loaded:!0})},setFile:function(a,b){var c=b.payload;a.container.imageName="",Object.assign(a.container,c)},removeImage:function(a){a.container=h.s4.container},updateBuildStatus:function(a,b){var c=b.payload;a.container&&(a.container.buildStatus=c)},setTrackStatus:function(a,b){var c=b.payload;a.container&&(a.container.track=void 0!==c&&c)},addTestRunner:function(a,b){var c,d=b.payload;a.testRunners=null!==(c=a.testRunners)&& void 0!==c?c:[],a.testRunners.push(m(l({},d),{id:(0,g.x0)()}))},updateTestRunner:function(a,b){var c=b.payload,d=c.payload,e=c.index;a.testRunners[e]=d},removeTestRunner:function(a,b){var c=b.payload.index;a.testRunners.splice(c,1)},resetLoaded:function(a){a.loaded=!1},afterFileUpload:function(a,b){var c=b.payload;a.container.imageName=c,a.container.buildStatus="PENDING",a.container.file.awaitingUpload=!1},saveEnvVariable:function(a,b){var c,d=b.payload.env,e=null!==(c=a.envs)&& void 0!==c?c:[],f={id:d.id||(0,g.x0)(),key:d.key||"",name:d.key||"",value:d.value||"",deleted:d.deleted||!1,defaultValue:d.defaultValue||"",useAsDefault:d.useAsDefault||!0},h=e.findIndex(function(a){return a.id===d.id});-1!==h?a.envs[h]=f:a.envs.push(f)},saveEnvs:function(a,b){var c=b.payload;a.envs=c.envs},removeEnvVariable:function(a,b){var c=b.payload.env,d=a.envs.findIndex(function(a){return a.id===c.id});-1!==d&&a.envs.splice(d,1)}}}),p=m(l({},o.actions),{rebuildImage:function(a){return function(b){b(p.updateBuildStatus("REBUILDING")),(0,f.Z)({url:a.container.rebuildImageUrl,type:"PUT",processData:!1}).then(function(){b(p.updateBuildStatus("PENDING"))}).catch(function(){b(p.updateBuildStatus("FAILURE"))})}},trackBuild:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]&&arguments[2];return function(d,g){var k=g().testingDockerDetails.container;if(k&&k.track&&(0,h.FE)(k.buildStatus)){var l,m,n=(m=(l=e().mark(function j(){var l,m,o,q;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=2,e.next=5,(0,f.Z)({url:k.buildStatusUrl,type:"GET"},!0);case 5:m=(o=e.sent).data,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(2),500===e.t0.status&&setTimeout(n,3e3),e.abrupt("return");case 13:q=JSON.parse(m).build_status,(null===(l=g().testingDockerDetails.container)|| void 0===l?void 0:l.track)&&(0,h.FE)(q)?setTimeout(n,3e3):(0,h.FE)(q)||(d(p.setTrackStatus(!1)),d(c?a(b,p.updateBuildStatus(q),!1,i.dLO.COLLECTION,!0):a(b,p.updateBuildStatus(q))));case 15:case"end":return e.stop()}},j,null,[[2,9]])}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=l.apply(a,b);function f(a){j(e,c,d,f,g,"next",a)}function g(a){j(e,c,d,f,g,"throw",a)}f(void 0)})}),function(){return m.apply(this,arguments)});setTimeout(n,1e3)}}}});b.Z=o.reducer},3183:function(a,b,c){c.d(b,{y:function(){return B}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(55132),k=c(62958),l=c(92874),m=c(72518),n=c(131),o=c(83443),p=c(99478),q=c(65114);function r(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){r(f,d,e,g,h,"next",a)}function h(a){r(f,d,e,g,h,"throw",a)}g(void 0)})}}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){t(a,b,c[b])})}return a}function v(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var w="page/editor",x=(0,f.Z)(),y=x.initialState,z=x.reducers,A=(0,k.oM)({name:w,initialState:y,reducers:v(u({},z),{updateReadTime:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.readTime=c)}})});b.Z=A.reducer;var B=v(u({},A.actions),{clear:function(){return function(a){a(p.R.reset()),a(A.actions.clear())}},load:function(a,b){var c;return c=s(e().mark(function c(d,f){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(B.pending()),c.abrupt("return",(0,g.Z)({url:"/api/".concat(w,"/").concat(a),type:"GET"},!0).then(function(){var a=s(e().mark(function a(c){var g,h,i,k,o,p,r,s,t;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=(0,j.u)(c),d(B.fulfilled(r)),(0,q.U)(r,d,f),!((s=null===(g=f().editorPages)|| void 0===g?void 0:null===(h=g.editorPage)|| void 0===h?void 0:null===(i=h.data)|| void 0===i?void 0:i.marketing_page_content)&&!b)){a.next=9;break}return a.next=8,(0,m.nA)(s,!1,n.sLn.BLOGS);case 8:s=a.sent;case 9:return a.abrupt("return",d(l.oh.load(null!==(t=null===(k=f().editorPages)|| void 0===k?void 0:null===(o=k.editorPage)|| void 0===o?void 0:null===(p=o.data)|| void 0===p?void 0:p.content)&& void 0!==t?t:s,!0,b)));case 11:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&d(o.i6.set({notFoundPageStatus:!0})),d(B.rejected((0,h.nU)(a)))}));case 2:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}}})},6163:function(a,b,c){c.d(b,{NT:function(){return B}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(55132),k=c(62958),l=c(72518),m=c(131),n=c(38669),o=c(83443),p=c(99478),q=c(65114);function r(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function s(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){r(f,d,e,g,h,"next",a)}function h(a){r(f,d,e,g,h,"throw",a)}g(void 0)})}}function t(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function u(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){t(a,b,c[b])})}return a}function v(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var w="page/url",x=(0,f.Z)(),y=x.initialState,z=x.reducers,A=(0,k.oM)({name:w,initialState:y,reducers:v(u({},z),{getReadTime:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.page_read_time=c)},updateContent:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.marketing_page_content=c)}})});b.ZP=A.reducer;var B=v(u({},A.actions),{clear:function(){return function(a){a(p.R.reset()),a(A.actions.clear())}},load:function(a,b){var c;return c=s(e().mark(function c(d,f){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(B.pending()),c.abrupt("return",(0,g.Z)({url:"/api/".concat(w,"/").concat(b,"/").concat(a),type:"GET"},!0).then(function(){var a=s(e().mark(function a(c){var g,h,i,k,o;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(k=(0,j.u)(c),d(B.fulfilled(k)),(0,q.U)(k,d,f),!((o=null===(g=f().editorPages)|| void 0===g?void 0:null===(h=g.editorPagePublished)|| void 0===h?void 0:null===(i=h.data)|| void 0===i?void 0:i.marketing_page_content)&&[n.Mq.blog,n.Mq.enterprise].includes(b))){a.next=10;break}return a.next=8,(0,l.nA)(o,!0,m.sLn.BLOGS);case 8:o=a.sent,d(B.updateContent(o));case 10:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&d(o.i6.set({notFoundPageStatus:!0})),d(B.rejected((0,h.nU)(a)))}));case 2:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}}})},14e3:function(a,b,c){c.d(b,{P:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n="edpresso/all_tags",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:q});b.Z=r.reducer;var s=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},r.actions),m=(m={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(n),type:"GET"}).then(function(a){b(s.fulfilled(JSON.parse(a)))}).catch(function(a){b(s.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},28589:function(a,b,c){c.d(b,{x:function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o="edpresso/bookmarked-shots",p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,i.oM)({name:o,initialState:q,reducers:n(m({},r),{set:function(a,b){var c,d,e,f=b.payload,g=f.isBookmarkedByReader,h=f.shot,i=null!==(e=null===(c=a.data)|| void 0===c?void 0:null===(d=c.bookmarked_shots)|| void 0===d?void 0:d.findIndex(function(a){return a.id===h.id}))&& void 0!==e?e:-1;if(a.loaded&&i>=0)a.data.bookmarked_shots[i].isBookmarkedByReader=g,g||a.data.bookmarked_shots.splice(i,1);else if(a.loaded){var k,l=n(m({},h),{isBookmarkedByReader:g});a.data.bookmarked_shots=((function(a){if(Array.isArray(a))return j(a)})(k=a.data.bookmarked_shots)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(k)||function a(b,c){if(b){if("string"==typeof b)return j(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return j(b,c)}}(k)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([l,])}}})});b.Z=s.reducer;var t=n(m({},s.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(o),type:"GET"}).then(function(a){b(t.fulfilled(JSON.parse(a)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},53058:function(a,b,c){c.d(b,{A:function(){return x}});var d=c(41344),e=c.n(d),f=c(36601),g=c(12814),h=c(58564),i=c(83443),j=c(63697),k=c(62958),l=c(9661),m=c(41590);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function r(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var s=(0,f.Z)(),t=s.initialState,u=s.reducers,v=(0,k.oM)({name:"edpresso/shotProperties",initialState:t,reducers:r(q({},u),{setBookmarkStatus:function(a,b){var c=b.payload;a.loaded&&(a.data.isBookmarkedByReader=c)},updateAttributions:function(a,b){var c=b.payload;a.data.attributions=c||[]},updateDraftViewers:function(a,b){var c=b.payload;a.data.draftViewers=c||"[]"},updateLicense:function(a,b){var c=b.payload;a.data.license=c},invertIsShotApproved:function(a,b){var c=b.payload;a.data&&(a.data.isShotApprovedForPublish=c)},setLikeStatus:function(a,b){var c=b.payload,d=c.like,e=c.shotLikes;a.loaded&&(a.data.isLikedByReader=d,a.data.shotLikes=e)}})});b.Z=v.reducer;var w=function(a,b){var c=(0,j.Z)(JSON.parse(a));return b(m.T.updateShotTags(c.tags)),c},x=r(q({},v.actions),{load:function(a){var b,c=!(arguments.length>1)|| void 0===arguments[1]||arguments[1];return b=o(e().mark(function b(d,f){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!(!f().edpresso.properties.loaded&&!f().edpresso.properties.loading)){b.next=3;break}return d(x.pending()),b.abrupt("return",(0,l.Z)({url:"/api/edpresso/shot/".concat(a,"/props?status=").concat(c?"published":"draft"),type:"GET"}).then(function(a){d(x.fulfilled(w(a,d)))}).catch(function(a){a.status===h.Wy.notFoundException&&d(i.i6.set({notFoundPageStatus:!0})),d(x.rejected((0,g.nU)(a)))}));case 3:case"end":return b.stop()}},b)})),function(a,c){return b.apply(this,arguments)}},updateShotAttribution:function(a,b){var c;return c=o(e().mark(function c(d){var f;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,l.Z)({url:"/api/edpresso/editor/shot/".concat(a,"/update-attributions"),type:"POST",data:{attributions:JSON.stringify(b)}});case 2:return f=c.sent,d(x.updateAttributions((0,j.Z)(b))),c.abrupt("return",f);case 5:case"end":return c.stop()}},c)})),function(a){return c.apply(this,arguments)}}})},41590:function(a,b,c){c.d(b,{T:function(){return J}});var d=c(41344),e=c.n(d),f=c(92401),g=c(36343),h=c(830),i=c(36601),j=c(9661),k=c(12814),l=c(58564),m=c(83443),n=c(50109),o=c(131),p=c(55132),q=c(62958),r=c(92874),s=c(47186),t=c(53058),u=c(47829),v=c(72518),w=c(99478),x=c(15703);function y(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function z(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){y(f,d,e,g,h,"next",a)}function h(a){y(f,d,e,g,h,"throw",a)}g(void 0)})}}function A(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function B(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){A(a,b,c[b])})}return a}function C(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var D="edpresso/shot",E=(0,i.Z)(),F=E.initialState,G=E.reducers,H=(0,q.oM)({name:D,initialState:F,reducers:C(B({},G),{updateReadTime:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.readTime=c)},updateShotTags:function(a,b){var c=b.payload;a.loaded&&a.data.tags!==c&&(a.data.tags=c)},updateContent:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.content=c)}})});b.Z=H.reducer;var I=function(a,b,c){var d,e,f,g={shotId:null,compIds:null};g.shotId=a.shotId;var h=null===(d=a.docker)|| void 0===d?void 0:d.envs;if(h&&h.length&&a.content){g.compIds=a.content.map(function(a){return a.content.comp_id}).filter(Boolean);var i=c().user;(null===(e=g.compIds)|| void 0===e?void 0:e.length)&&g.shotId&&(null===(f=i.info.data)|| void 0===f?void 0:f.user_id)&&!i.userApiKeys.loading&&!i.userApiKeys.loaded&&b((0,x.$6)({params:g,apiKeys:[],envKeys:h}))}},J=C(B({},H.actions),{clear:function(){return function(a){a(H.actions.clear()),a(t.A.clear()),a(w.R.reset())}},load:function(a){var b,c=a.shot_id,d=a.shot_url,g=void 0===d?void 0:d,h=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return b=z(e().mark(function a(b,d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(J.pending()),a.abrupt("return",(0,j.Z)({url:"/api/".concat(D,"/").concat(null!=c?c:"url/".concat(g)),type:"GET"},!0).then(function(){var a=z(e().mark(function a(c){var g,i,j,k,l,m,q,s,t;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(j=C(B({},(0,p.u)(c)),{tags:""}),b(J.fulfilled(j)),c&&b(J.updateETag(c.xhr.headers.get(f.Zq))),k={compIds:null,authorId:null,userId:null===(g=d().user.info.data)|| void 0===g?void 0:g.user_id,pageId:null,shotId:null},l=d().collectionArticlePreview.data,m=j.content,k.userId&&d().collectionArticlePreview.loaded&&m&&l.item_type===o.RIu.SHOT&&(k.authorId=l.author_id,k.pageId=l.page_id,k.shotId=l.shot_id,k.compIds=m.map(function(a){return a.content.comp_id}).filter(Boolean),(null===(q=k.compIds)|| void 0===q?void 0:q.length)&&k.authorId&&k.userId&&k.pageId&&b((0,n.Sh)(k))),I(j,b,d),!d().edpresso.shots.error){a.next=11;break}throw Error("SHOT_NOT_LOADED");case 11:if((s=d().edpresso.shots.data)&&h&&b(J.prepareDockerOnSetShot(s,!0)),!(!(null==s?void 0:s.shotId)&&!h)){a.next=15;break}throw Error("SHOT_CLEARED");case 15:return t=null===(i=d().edpresso.shots.data)|| void 0===i?void 0:i.content,a.next=18,(0,v.nA)(t,!h,o.sLn.SHOT);case 18:t=a.sent,b(r.oh.load(t,!0,!1,!0)),b(J.updateContent(t));case 21:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status===l.Wy.notFoundException&&b(m.i6.set({notFoundPageStatus:!0}));var c=null==a?void 0:a.message;"SHOT_CLEARED"!==c&&"SHOT_NOT_LOADED"!==c&&(0,s.u)(a),b(J.rejected((0,k.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}},prepareDockerOnSetShot:function(a,b){var c;return c=z(e().mark(function c(d,f){var i,j,k,l;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(j=(null==a?void 0:a.docker)?C(B({},a.docker),{envs:null!==(i=a.docker.envs)&& void 0!==i?i:[]}):g.s4,!b){c.next=8;break}return c.next=5,(0,h.wi)();case 5:c.t0=c.sent,c.next=9;break;case 8:c.t0={};case 9:k=c.t0,l=C(B({},j),{container:C(B({},j.container),{liveInstance:k})}),d(u.r.setObject(l));case 12:case"end":return c.stop()}},c)})),function(a,b){return c.apply(this,arguments)}}})},64642:function(a,b,c){c.d(b,{M:function(){return t}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/subscriptions/teams",initialState:p,reducers:m({},q)}),s=function(a,b,c){var d,e,f=(0,h.Z)(JSON.parse(c)),g=(null===(d=b().enterprise)|| void 0===d?void 0:null===(e=d.subscriptionsTeams)|| void 0===e?void 0:e.data)||null;return g?n(m({},g),l({},a,f[a])):l({},a,f[a])};b.Z=r.reducer;var t=n(m({},r.actions),{load:function(a,b){var c,d;return d=(c=e().mark(function c(d,g){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(t.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/subscription/").concat(b,"/teams"),type:"GET"}).then(function(a){d(t.fulfilled(s(b,g,a)))}).catch(function(a){d(t.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}})},24257:function(a,b,c){c.d(b,{M:function(){return r}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(9661),i=c(12814);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n=(0,f.Z)(),o=n.initialState,p=n.reducers,q=(0,g.oM)({name:"enterprise/discount",initialState:o,reducers:p});b.Z=q.reducer;var r=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},q.actions),m=(m={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(r.pending()),b.abrupt("return",(0,h.Z)({url:"/api/enterprise/discount/".concat(a),type:"GET"}).then(function(a){c(r.fulfilled(JSON.parse(a)))}).catch(function(a){c(r.rejected((0,i.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},1708:function(a,b,c){c.d(b,{C:function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/employee-assigned-courses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b){var c,d;return d=(c=e().mark(function c(d){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(s.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/assigned-courses/user/").concat(b),type:"GET"}).then(function(a){d(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){d(s.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},88446:function(a,b,c){c.d(b,{H:function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/employees-with-assigned-courses",initialState:p,reducers:n(m({},q),{updateAssignedCoursesCountForUser:function(a,b){var c,d=b.payload,e=d.count,f=d.userId,g=d.action,h=((null===(c=a.data)|| void 0===c?void 0:c.users)||[]).findIndex(function(a){return a.id===f});h>=0&&("increment"===g?a.data.users[h].numOfAssignedCourses+=e:"decrement"===g&&(a.data.users[h].numOfAssignedCourses-=e))}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/assigned-courses/users"),type:"GET"}).then(function(a){c(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){c(s.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},37171:function(a,b,c){c.d(b,{X:function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/sso-config",initialState:p,reducers:n(m({},q),{updateOktaFieldValues:function(a,b){var c=b.payload.updatedValue;a.data.values=c.values}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/sso-config"),type:"GET"}).then(function(a){c(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){c(s.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},85495:function(a,b,c){c.d(b,{"$":function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/subscriptions",initialState:p,reducers:n(m({},q),{add:function(a,b){var c=b.payload;a.loaded&&c&&a.data.subscriptions.push(c.subscription)},update:function(a,b){var c=b.payload;if(a.loaded&&c){var d=a.data.subscriptions.findIndex(function(a){return a.id===c.id});a.data.subscriptions[d]=c}}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a){var b,c,d=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/subscriptions").concat(d?"?active_only=true":""),type:"GET"}).then(function(a){c(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){c(s.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},32985:function(a,b,c){c.d(b,{J:function(){return t}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/organization/subscriptions/users",initialState:p,reducers:n(m({},q),{update:function(a,b){var c=b.payload,d=c.subscriptionId,e=c.users;d&&(a.data[d]=void 0===e?{}:e)}})}),s=function(a,b,c){var d,e,f=(0,h.Z)(JSON.parse(c)),g=(null===(d=b().enterprise)|| void 0===d?void 0:null===(e=d.subscriptionsUsers)|| void 0===e?void 0:e.data)||null;return g?n(m({},g),l({},a,f)):l({},a,f)};b.Z=r.reducer;var t=n(m({},r.actions),{load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]&&arguments[2],h=arguments.length>3&& void 0!==arguments[3]&&arguments[3];return d=(c=e().mark(function c(d,i){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(t.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/organization/".concat(a,"/subscription/").concat(b,"/users").concat(g?"?include_expired_trial_users=true":"?include_expired_trial_users=false","&").concat(h?"include_expired_bootcamp_users=true":"include_expired_bootcamp_users=false"),type:"GET"}).then(function(a){d(t.fulfilled(s(b,i,a)))}).catch(function(a){d(t.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}})},81023:function(a,b,c){c.d(b,{d:function(){return x}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814),k=c(58564);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function q(a){return function(a){if(Array.isArray(a))return l(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||r(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,b){if(a){if("string"==typeof a)return l(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return l(a,b)}}var s=(0,g.Z)(),t=s.initialState,u=s.reducers,v=function(a,b){var c=JSON.parse(b),d=a().enterprise.teamTrials.data,e=(null==d?void 0:d.trials)||[],f=(0,h.Z)((null==c?void 0:c.trials)||[]);return{more:null==c?void 0:c.more,cursor:null==c?void 0:c.cursor,trials:q(e).concat(q(f))}},w=(0,i.oM)({name:"enterprise/team-trial/admin-team-trials",initialState:t,reducers:p(o({},u),{updateTrial:function(a,b){var c,d,e=b.payload,f=null===(c=a.data)|| void 0===c?void 0:null===(d=c.trials)|| void 0===d?void 0:d.findIndex(function(a){return a.id===e.trial.id});f>=0&&(a.data.trials[f]=e.trial)},updateTrialStatus:function(a,b){var c,d,e=b.payload,f=null===(c=a.data)|| void 0===c?void 0:null===(d=c.trials)|| void 0===d?void 0:d.findIndex(function(a){return a.id===e.id});f>=0&&(a.data.trials[f].status=e.status,a.data.trials[f].startDate=e.startDate,a.data.trials[f].endDate=e.expirationDate)}})});b.Z=w.reducer;var x=p(o({},w.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"team-trials";return b=(a=e().mark(function a(b,g){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(x.pending()),a.abrupt("return",(0,f.Z)({url:"/api/enterprise/".concat(d).concat(c?"?cursor=".concat(c):""),type:"GET"}).then(function(a){b(x.fulfilled(v(g,a)))}).catch(function(a){a.status===k.Wy.unauthorizedException&&(0,j.xc)(),b(x.rejected((0,j.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,c){return b.apply(this,arguments)}}})},71417:function(a,b,c){c.d(b,{j:function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/time-spent/courses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null;return d=(c=e().mark(function c(d){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(s.pending()),c.abrupt("return",(0,f.Z)({url:"/api/enterprise/time-spent/subscription/".concat(g&&i?"".concat(a,"/").concat(b,"/courses"):"alltime/".concat(a,"/").concat(b,"/courses")),type:"POST",data:{start_date:g,end_date:i}}).then(function(a){d(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){d(s.rejected((0,j.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},18049:function(a,b,c){c.d(b,{U:function(){return f}});var d,e=(0,c(62958).oM)({name:"UsageStatsSelectedUser",initialState:{data:null},reducers:{setUser:function(a,b){var c=b.payload;c?a.data={id:c.id,email:c.email,name:c.name}:a.data=null}}});b.Z=e.reducer;var f=e.actions},24830:function(a,b,c){c.d(b,{G:function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/time-spent/user/user-id",initialState:p,reducers:n(m({},q),{set:function(a,b){var c=b.payload;a.data.works=c}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a,b,c){var d,g,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return g=(d=e().mark(function d(g){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return g(s.pending()),d.abrupt("return",(0,f.Z)({url:"/api/enterprise/time-spent/subscription/".concat(i&&l?"".concat(b,"/").concat(c,"/user/").concat(a,"/V2"):"alltime/".concat(b,"/").concat(c,"/user/").concat(a,"/V2")),type:"POST",data:{start_date:i,end_date:l}}).then(function(a){g(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){g(s.rejected((0,j.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){k(f,c,e,g,h,"next",a)}function h(a){k(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return g.apply(this,arguments)}}})},87552:function(a,b,c){c.d(b,{e:function(){return s}});var d=c(41344),e=c.n(d),f=c(9661),g=c(36601),h=c(63697),i=c(62958),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,g.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"enterprise/time-spent/users",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:"",m="/api/enterprise/time-spent/subscription/";return"default-team"!==l&&g&&i?m+="".concat(a,"/").concat(b,"/").concat(l,"/users/V2"):g&&i?m+="".concat(a,"/").concat(b,"/users/V2"):m+="alltime/".concat(a,"/").concat(b,"/users/V2"),d=(c=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,f.Z)({url:m,type:"POST",data:{start_date:g,end_date:i}}).then(function(a){b(s.fulfilled((0,h.Z)(JSON.parse(a))))}).catch(function(a){b(s.rejected((0,j.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},26722:function(a,b,c){c.d(b,{y:function(){return k}});var d=c(62958),e=c(9661);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g,h,i={topPicks:[]},j=(0,d.oM)({name:"featuredItems",initialState:i,reducers:{resetFilter:function(){return i},setTopPicks:function(a,b){var c=b.payload;a.topPicks=c}}});b.Z=j.reducer;var k=(g=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){f(a,b,c[b])})}return a}({},j.actions),h=(h={loadTopPicks:function(){return function(a){(0,e.Z)({url:"/api/reader/featured/?filter_type=ranked",type:"GET"}).then(JSON.parse).then(function(b){var c=b.summaries;a(k.setTopPicks(c))})}}},h),Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(h)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(h)).forEach(function(a){Object.defineProperty(g,a,Object.getOwnPropertyDescriptor(h,a))}),g)},30320:function(a,b,c){c.d(b,{i:function(){return g}});var d=c(62958),e={showGonePage:!1,transitionPageTitle:"",defaultRedirect:{},courseAlternatives:[],pageTitles:{},collectionTitle:"",isRedirectable:!1,meta:{title:null,description:null,name:null,image:null,keyword:null}},f=(0,d.oM)({name:"gonePage",initialState:e,reducers:{set:function(a,b){return b.payload},reset:function(){return e}}});b.Z=f.reducer;var g=f.actions},36601:function(a,b,c){var d=c(92401);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=function(){return{initialState:{loaded:!1},reducers:{pending:function(a){a.loading=!0},fulfilled:function(a,b){var c=b.payload;return{error:void 0,loading:!1,loaded:!0,data:function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a.data,c)}},rejected:function(a,b){return{loading:!1,loaded:!1,error:b.error}},clear:function(a){return{loaded:!1}},updateETag:function(a,b){var c,e=b.payload;a.data=null!==(c=a.data)&& void 0!==c?c:{},a.data[d.Zq]=e},updateLastModified:function(a){var b;a.data=null!==(b=a.data)&& void 0!==b?b:{},a.data.lastModified=new Date}}}};b.Z=f},24154:function(a,b,c){c.d(b,{A:function(){return f}});var d,e=(0,c(62958).oM)({name:"loader",initialState:{isLoaded:!1,isLoading:!1},reducers:{set:function(a,b){var c=b.payload;void 0!==c.isLoaded&&(a.isLoaded=c.isLoaded),void 0!==c.isLoading&&(a.isLoading=c.isLoading)}}});b.Z=e.reducer;var f=e.actions},73756:function(a,b,c){c.d(b,{n:function(){return n}});var d=c(41344),e=c.n(d),f=c(62958),g=c(66226);function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var j,k,l={showModal:!1,typeToShow:null,params:null,className:""},m=(0,f.oM)({name:"modals",initialState:l,reducers:{show:{reducer:function(a,b){var c=b.payload,d=c.typeToShow,e=c.params,f=void 0===e?null:e,g=c.className,h=void 0===g?"":g;a.showModal=!0,a.typeToShow=d,f&&(a.params=f),h&&(a.className=h)},prepare:function(a,b,c){return{payload:{typeToShow:a,params:b,className:c}}}},update:function(a,b){var c=b.payload;c&&(a.params=c)},showOrUpdate:{reducer:function(a,b){var c=b.payload,d=c.typeToShow,e=c.params,f=void 0===e?null:e;a.showModal||(a.showModal=!0,a.typeToShow=d),f&&(a.params=f)},prepare:function(a,b){return{payload:{typeToShow:a,params:b}}}},close:function(){return l}}});b.Z=m.reducer;var n=(j=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}({},m.actions),k=(k={actionWithMessages:function(a,b,c,d){var f,i;return i=(f=e().mark(function f(h){var i;return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(n.show(g.ad,{status:"WAIT",text:b})),e.prev=1,e.next=4,h(a);case 4:return i=e.sent,h(n.update({status:"SUCCESS",text:c})),e.abrupt("return",i);case 9:throw e.prev=9,e.t0=e.catch(1),h(n.update({status:"ERROR",text:d})),e.t0;case 13:case"end":return e.stop()}},f,null,[[1,9]])}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=f.apply(a,b);function g(a){h(e,c,d,g,i,"next",a)}function i(a){h(e,c,d,g,i,"throw",a)}g(void 0)})}),function(a){return i.apply(this,arguments)}}},k),Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(k)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(k)).forEach(function(a){Object.defineProperty(j,a,Object.getOwnPropertyDescriptor(k,a))}),j)},83443:function(a,b,c){c.d(b,{E3:function(){return e},i6:function(){return g}});var d=c(62958),e={notFoundPageStatus:!1,errorMessage:null},f=(0,d.oM)({name:"notFoundPage",initialState:e,reducers:{set:function(a,b){return b.payload}}});b.ZP=f.reducer;var g=f.actions},12812:function(a,b,c){c.d(b,{J:function(){return u}});var d=c(41344),e=c.n(d),f=c(62958),g=c(9661),h=c(65971),i=c(36601),j=c(12814);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var p=(0,i.Z)(),q=p.initialState,r=p.reducers,s=(0,f.oM)({name:"notifications",initialState:q,reducers:o(n({},r),{append:function(a,b){var c,d=b.payload;a.data.unread_count+=1,a.data.notifications=[d].concat(function(a){if(Array.isArray(a))return k(a)}(c=a.data.notifications)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(c)||function a(b,c){if(b){if("string"==typeof b)return k(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(b,c)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},toggleRead:function(a,b){var c=b.payload;a.data.notifications=a.data.notifications.map(function(b){return b.id===c?b.status===h.Ez.READ?(a.data.unread_count+=1,o(n({},b),{status:h.Ez.UNREAD})):(a.data.unread_count-=1,o(n({},b),{status:h.Ez.READ})):b})},markAsRead:function(a,b){var c=b.payload;a.data.notifications=a.data.notifications.map(function(b){return c.id===b.id&&(c.status===h.Ez.UNREAD&&(a.data.unread_count-=1),b.status=h.Ez.READ),b})},markAllAsRead:function(a){a.data.unread_count=0,a.data.notifications=a.data.notifications.map(function(a){return o(n({},a),{status:h.Ez.READ})})}})}),t=function(a,b){var c=a().notifications.list.data.notifications,d=a().notifications.list.data.unread_count;return c&&(b.notifications=c.concat(b.notifications.filter(function(a){return -1===c.indexOf(a)}))),d&&(b.unread_count=d),b};b.Z=s.reducer;var u=o(n({},s.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c,d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/notifications?cursor=".concat(a),type:"GET"}).then(function(b){""===a?c(u.fulfilled(JSON.parse(b))):c(u.fulfilled(t(d,JSON.parse(b))))}).catch(function(a){c(u.rejected((0,j.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return c.apply(this,arguments)}}})},56543:function(a,b,c){c.d(b,{P:function(){return g}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=(0,d.oM)({name:"overlay",initialState:{showOverlay:!1,typeToShow:null,params:null,className:""},reducers:{toggle:{reducer:function(a,b){var c=b.payload,d=c.typeToShow,e=c.params,f=void 0===e?null:e,g=c.className,h=void 0===g?"":g;a.showOverlay=!a.showOverlay,a.typeToShow=d,f&&(a.params=f),h&&(a.className=h)},prepare:function(a,b,c){return{payload:{typeToShow:a,params:b,className:c}}}},close:function(a){a.showOverlay=!1}}});b.Z=f.reducer;var g=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},f.actions)},26765:function(a,b,c){c.d(b,{D:function(){return x}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(55132),k=c(62958),l=c(92874),m=c(83443),n=c(50109);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var q,r,s="page",t=(0,f.Z)(),u=t.initialState,v=t.reducers,w=(0,k.oM)({name:s,initialState:u,reducers:v});b.Z=w.reducer;var x=(q=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}({},w.actions),r=(r={load:function(a,b,c){var d,f;return f=(d=e().mark(function d(f,k){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(x.pending()),d.abrupt("return",(0,g.Z)({url:"/api/".concat(s,"/").concat(a,"/").concat(b),type:"GET"}).then(function(a){var b=(0,j.u)(a);f(x.fulfilled(b));var c={compIds:null,authorId:null,userId:null===(d=k().user.info.data)|| void 0===d?void 0:d.user_id,pageId:null};if(c.userId&&k().pagePreview.loaded&&b.components){var d,e,g,h,i=k().pagePreview.data;c.authorId=i.author_id,c.pageId=i.id,c.compIds=(0,n.ZX)(b.components),(null===(h=c.compIds)|| void 0===h?void 0:h.length)&&c.authorId&&c.userId&&c.pageId&&f((0,n.Sh)(c))}return f(l.oh.load(null===(e=k().page)|| void 0===e?void 0:null===(g=e.data)|| void 0===g?void 0:g.components))}).catch(function(d){d.status===i.Wy.notFoundException&&f(m.i6.set({notFoundPageStatus:!0})),d.status===i.Wy.accessDeniedException&&c.push("/page/preview/".concat(a,"/").concat(b)),f(x.rejected((0,h.nU)(d)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){o(f,c,e,g,h,"next",a)}function h(a){o(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return f.apply(this,arguments)}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(r)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(r)).forEach(function(a){Object.defineProperty(q,a,Object.getOwnPropertyDescriptor(r,a))}),q)},11108:function(a,b,c){c.d(b,{E:function(){return v}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(62958),k=c(23721),l=c(83443),m=c(50109);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var p,q,r=(0,f.Z)(),s=r.initialState,t=r.reducers,u=(0,j.oM)({name:"pagePreview",initialState:s,reducers:t});b.Z=u.reducer;var v=(p=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}({},u.actions),q=(q={load:function(a,b){var c,d,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"";return d=(c=e().mark(function c(d,j){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(v.pending()),d(k.Vy.reset()),c.abrupt("return",(0,g.Z)({url:"/api/page/".concat(a,"/").concat(b,"/props").concat(f),type:"GET"}).then(function(a){var b,c,e=JSON.parse(a);d(v.fulfilled(e));var f={compIds:null,authorId:e.author_id,userId:null===(b=j().user.info.data)|| void 0===b?void 0:b.user_id,pageId:e.id};f.userId&&j().page.loaded&&j().page.data.components&&(f.compIds=(0,m.ZX)(j().page.data.components),(null===(c=f.compIds)|| void 0===c?void 0:c.length)&&f.authorId&&f.userId&&f.pageId&&d((0,m.Sh)(f)))}).catch(function(a){a.status===i.Wy.notFoundException&&d(l.i6.set({notFoundPageStatus:!0})),d(v.rejected((0,h.nU)(a)))}));case 3:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}},q),Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(q)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(q)).forEach(function(a){Object.defineProperty(p,a,Object.getOwnPropertyDescriptor(q,a))}),p)},82933:function(a,b,c){c.d(b,{W:function(){return x}});var d=c(41344),e=c.n(d),f=c(62958),g=c(50187),h=c(9661),i=c(36601),j=c(12814);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function p(a,b){if(null==a)return{};var c,d,e=q(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function q(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function r(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||s(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(a,b){if(a){if("string"==typeof a)return k(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return k(a,b)}}var t=(0,i.Z)(),u=t.initialState,v=t.reducers,w=(0,f.oM)({name:"paths/moduleCategories",initialState:u,reducers:o(n({},v),{set:function(a,b){var c=b.payload;a.data=c,a.loaded=!0},editConnectInfos:function(a,b){b.payload.forEach(function(b){var c,d=b.week_id,e=b.email,f=b.full_name,g=b.index,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:c.connects,i=h.findIndex(function(a){return a.week_id===d});if(i>=0){var j=h[i].connect_info[g-1];j.email=e,j.full_name=f}})},updateConnectStatus:function(a,b){var c,d=b.payload,e=d.weekId,f=d.id,g=d.status,h=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:c.connects,i=h.findIndex(function(a){return a.week_id===e}),j=h[i].connect_info.findIndex(function(a){return a.id===f}),k=h[i].connect_info[j];k.status=g}})});b.Z=w.reducer;var x=o(n({},w.actions),{load:function(a,b,c){var d,f,i=arguments.length>3&& void 0!==arguments[3]&&arguments[3],k=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return f=(d=e().mark(function d(f){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return f(x.pending()),d.abrupt("return",(0,h.Z)({url:"/api/".concat(c?"author":"collection","/").concat(a).concat(c?"/collection":"","/").concat(b,"/categories?update_path_item_titles=").concat(i).concat(k?"&menteeId=".concat(k):""),type:"GET"}).then(function(c){var d=JSON.parse(c),e=d.plan_title,h=d.connects,i=d.is_assigned,j=(d.plan_data,p(d,["plan_title","connects","is_assigned","plan_data"])),k=j,l="".concat(a,"_").concat(b),m=0,o=[],q=function(a,b){var c=b.pages,d=0;return null==c||c.forEach(function(b){(b.is_optional||a!==l&&o.includes(a))&&((0,g.mz)(b.type)?(o.push("".concat(b.author_id,"_").concat(b.collection_id,"_").concat(b.page_id)),d++):o.push("".concat(b.author_id,"_").concat(b.collection_id)))}),d},s=k[l];null==s||s.forEach(function(a){m+=q(l,a)});var t=!0,u=!1,v=void 0;try{for(var w,y=Object.entries(k)[Symbol.iterator]();!(t=(w=y.next()).done);t=!0){var z=r(w.value,2),A=z[0],B=z[1];if(A!==l){var C=!0,D=!1,E=void 0;try{for(var F,G=B[Symbol.iterator]();!(C=(F=G.next()).done);C=!0){var H=F.value;m+=q(A,H)}}catch(I){D=!0,E=I}finally{try{C||null==G.return||G.return()}finally{if(D)throw E}}}}}catch(J){u=!0,v=J}finally{try{t||null==y.return||y.return()}finally{if(u)throw v}}f(x.fulfilled(n({planTitle:e,is_assigned:i,connects:h,optionalItemsCount:m,optionalItems:o},j)))}).catch(function(a){f(x.rejected((0,j.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){l(f,c,e,g,h,"next",a)}function h(a){l(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return f.apply(this,arguments)}}})},99051:function(a,b,c){c.d(b,{J:function(){return s}});var d=c(41344),e=c.n(d),f=c(62958),g=c(9661),h=c(36601),i=c(131),j=c(12814);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,h.Z)(),p=o.initialState,q=o.reducers,r=(0,f.oM)({name:"paths/pathCompletion",initialState:p,reducers:n(m({},q),{updateMap:function(a,b){var c,d,e=b.payload,f=e.authorId,g=e.collectionId,h=e.key,i=e.value,j=(c=f,d=g,"CourseCompletion_".concat(c,"_").concat(d));j in a.data.maps||(a.data.maps[j]={}),a.data.maps[j][h]=i},updateProgress:function(a,b){var c=b.payload;a.data.mentee_info.progress_status=i.b58.COMPLETED,a.data.mentee_info.force_completed_by=c}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(a,b,c,d,f){var h,i;return i=(h=e().mark(function h(i){return e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(s.pending()),e.abrupt("return",(0,g.Z)({url:"/api/userdata/map/path/".concat(a,"/").concat(b).concat(f?"?organization_id=".concat(d,"&mentee_id=").concat(f):""),type:"POST",data:{categories_json_string:c}}).then(function(c){var d,e,f;i(s.fulfilled((d=a,e=b,n(m({},JSON.parse(f=c)),{pathAuthorId:Number(d),pathId:Number(e)}))))}).catch(function(a){i(s.rejected((0,j.nU)(a)))}));case 2:case"end":return e.stop()}},h)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=h.apply(a,b);function f(a){k(e,c,d,f,g,"next",a)}function g(a){k(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a){return i.apply(this,arguments)}}})},69282:function(a,b,c){c.d(b,{e:function(){return i}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}var g={workData:null,coupon:null,total_price:null,transaction_id:null,user_transaction_id:null},h=(0,d.oM)({name:"payment",initialState:g,reducers:{setWorkData:function(a,b){var c,d,e=b.payload,g=e.price,h=e.price_usd;return"preferred_subscription_id"in e&&null!==e.preferred_subscription_id&&e.preferred_subscription_id===e.subscription_plan_id&&e.b2c_trial_currency_code===e.currency_code?g=e.preferred_subscription_total_price:"preferred_subscription_credit_used"in e&&e.preferred_subscription_credit_used&&e.b2c_trial_currency_code===e.currency_code&&(g-=e.preferred_subscription_credit_used),f((c=f({},a),d=(d={workData:e,total_price:g,total_price_usd:h},d),Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c),!e.retainTransactionID&&{transaction_id:null,user_transaction_id:null})},resetAll:function(){return g},setCouponData:function(a,b){var c,d,e,f=b.payload;a.coupon=f;var g=f.price_with_coupon_usd-(null!==(c=a.credit_amount_usd)&& void 0!==c?c:0);a.total_price=f.price_with_coupon-(null!==(d=a.redeem_credit_amount)&& void 0!==d?d:0),a.discount_never_expires=f.discount_never_expires;var h=null!==(e=a.redeem_credit_amount)&& void 0!==e?e:0,i=Math.max(f.price_with_coupon-h,0);a.coupon.coupon_discount=a.workData.discounted_price-i,a.workData.discounted_price=i,a.coupon.coupon_discount_usd=a.total_price_usd-g,a.total_price_usd=g},setOriginalPrice:function(a,b){var c,d=b.payload,e=null!==(c=a.redeem_credit_amount)&& void 0!==c?c:0;a.workData.price=d.price-e,a.workData.price_usd=d.price_usd-e,a.workData.price_with_special_discount=d.price_with_special_discount-e,a.workData.price_with_special_discount_usd=d.price_with_special_discount_usd-e,a.workData.price_calc_str=""},resetCouponData:function(a,b){var c,d,e=b.payload,f=void 0===e?null:e;if(a.workData||f){a.coupon&&(a.workData.discounted_price+=a.coupon.coupon_discount),a.coupon=null;var g=null!==(c=a.redeem_credit_amount)&& void 0!==c?c:0,h=null!==(d=a.credit_amount_usd)&& void 0!==d?d:0;a.workData.price_with_special_discount&&(a.workData.price=a.workData.price_with_special_discount-g),a.workData.price_with_special_discount_usd&&(a.workData.price_usd=a.workData.price_with_special_discount_usd-g),a.total_price_usd=a.workData.price_usd-h,a.total_price=(null!=f?f:a.workData.price)-g,a.discount_never_expires=null}},setRedeemCreditData:function(a,b){var c,d,e=b.payload;a.total_price=e.newTotalPrice,a.redeem_credit_amount=e.redeemedCreditAmount,a.credit_amount_usd=e.redeemedCreditAmountUsd,a.total_price_usd=null!==(d=a.total_price_usd)&& void 0!==d?d:null===(c=a.workData)|| void 0===c?void 0:c.price_usd,a.total_price_usd&&(a.total_price_usd-=a.credit_amount_usd),a.workData&&(a.workData.discounted_price-=e.redeemedCreditAmount)},resetRedeemCreditData:function(a,b){var c=b.payload;a.total_price+=c,a.total_price_usd+=a.credit_amount_usd,a.workData&&(a.workData.discounted_price+=a.redeem_credit_amount),a.redeem_credit_amount=null,a.credit_amount_usd=null},setTransactionId:function(a,b){var c=b.payload;a.transaction_id=c},setUserTransactionId:function(a,b){var c=b.payload;a.user_transaction_id=c}}});b.Z=h.reducer;var i=h.actions},49095:function(a,b,c){c.d(b,{e:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(131);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/assigned-courses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:j.xCj.ASSIGNED;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/enterprise/assigned-courses?status=".concat(c),type:"GET"}).then(function(a){b(s.fulfilled(JSON.parse(a)))}).catch(function(a){b(s.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},19377:function(a,b,c){c.d(b,{T:function(){return t}});var d=c(41344),e=c.n(d),f=c(62958),g=c(131),h=c(9661),i=c(12814),j=c(36601);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,j.Z)(),p=o.initialState,q=o.reducers,r=(0,f.oM)({name:"reader/learnertags/path-list",initialState:p,reducers:q}),s=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c};b.Z=r.reducer;var t=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],f=arguments.length>2?arguments[2]:void 0,j=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:6;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,h.Z)({url:"/api/reader/learnertags/work-list?work_type=".concat(g.dLO.PATH,"&tags=").concat(f).concat(j?"&tags=".concat(encodeURIComponent(j)):"").concat(c?"&cursor=".concat(c):"","&page_size=").concat(l),type:"GET"}).then(function(a){b(t.fulfilled(s(d,a)))}).catch(function(a){b(t.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},42528:function(a,b,c){c.d(b,{"_":function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(131);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m=(0,f.Z)(),n=m.initialState,o=m.reducers,p=(0,i.oM)({name:"reader/learnertags/work-list",initialState:n,reducers:o});b.Z=p.reducer;var q,r,s=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c},t=(q=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},p.actions),r=(r={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],f=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:6;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/learnertags/work-list?work_type=".concat(j.dLO.COLLECTION,"&tags=").concat(f).concat(i?"&tags=".concat(encodeURIComponent(i)):"").concat(c?"&cursor=".concat(c):"","&page_size=").concat(l),type:"GET"}).then(function(a){b(t.fulfilled(s(d,a)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(r)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(r)).forEach(function(a){Object.defineProperty(q,a,Object.getOwnPropertyDescriptor(r,a))}),q)},29647:function(a,b,c){c.d(b,{aE:function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n="page/editor/all",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:m(l({},q),{delete:function(a,b){var c=b.payload;c&&a.loaded&&(a.data.pages=a.data.pages.filter(function(a){return a.id!==c}))}})});b.ZP=r.reducer;var s=function(a,b){var c=JSON.parse(b);return c.pages=a.concat(c.pages),delete c.editor_pages,c},t=m(l({},r.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],f=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:"";return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(n,"/").concat(f,"/").concat(c,"?filter_type=").concat(encodeURIComponent(i)),type:"GET"}).then(function(a){b(t.fulfilled(s(d,a)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},39995:function(a,b,c){c.d(b,{s:function(){return v}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n="reader/featured",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:q});b.Z=r.reducer;var s,t,u=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c},v=(s=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},r.actions),t=(t={load:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],d=arguments.length>2?arguments[2]:void 0,f=arguments.length>3?arguments[3]:void 0;return a=l(e().mark(function a(i){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i(v.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat("free"===d?"reader/featured_items?only_free=true":"".concat(n,"/").concat(b,"?filter_type=").concat(d)),type:"GET"}).then(function(a){i(v.fulfilled((0,j.M)(u(c,a),f)))}).catch(function(a){i(v.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},loadEarlyAccess:function(){var a,b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[];return a=l(e().mark(function a(c){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c(v.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(n,"-early-access"),type:"GET"}).then(function(a){c(v.fulfilled(u(b,a)))}).catch(function(a){c(v.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}}},t),Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(t)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(t)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(t,a))}),s)},98275:function(a,b,c){c.d(b,{z:function(){return u}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(53122),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p="reader/inprogress",q=(0,f.Z)(),r=q.initialState,s=q.reducers,t=(0,j.oM)({name:p,initialState:r,reducers:s});b.Z=t.reducer;var u=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},t.actions),o=(o={load:function(){var a;return a=l(e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(u.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(p),type:"GET"}).then(function(a){b(u.fulfilled(JSON.parse(a)))}).catch(function(a){b(u.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}},loadAll:function(){var a,b=arguments.length>0&& void 0!==arguments[0]&&arguments[0],c=arguments.length>1?arguments[1]:void 0;return a=l(e().mark(function a(d){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return d(u.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(p,"?fetch_all=true&get_all_content_types=").concat(b),type:"GET"}).then(function(a){d(u.fulfilled((0,i.M)(JSON.parse(a),c)))}).catch(function(a){d(u.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},20925:function(a,b,c){c.d(b,{k:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/latestCourses",initialState:p,reducers:q});r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/latest-works",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},38556:function(a,b,c){c.d(b,{d:function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/completedWorks",initialState:p,reducers:q});b.Z=r.reducer;var s=function(a,b){var c=JSON.parse(a);return n(m({},c),{paths:(0,j.M)(c.paths,b),collections:(0,j.M)(c.collections,b)})},t=n(m({},r.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:"false",f=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&& void 0!==arguments[3]?arguments[3]:"false";return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/all-completed-works?work_type=".concat(c,"&fetch_all_types=").concat(d,"&get_all_content_types=").concat(i),type:"GET"}).then(function(a){b(t.fulfilled(s(a,f)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},68595:function(a,b,c){c.d(b,{g:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/githubStudentPack",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/github-student-pack",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},84291:function(a,b,c){c.d(b,{F:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/inProgressPaths",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={loadAll:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]&&arguments[0],d=arguments.length>1?arguments[1]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/inprogress?work_type=path&fetch_all=true&get_all_content_types=".concat(c),type:"GET"}).then(function(a){b(s.fulfilled((0,j.M)(JSON.parse(a),d)))}).catch(function(a){b(s.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},80166:function(a,b,c){c.d(b,{C:function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m=(0,f.Z)(),n=m.initialState,o=m.reducers,p=(0,i.oM)({name:"reader/myLearnPage/latestCourses",initialState:n,reducers:o});b.Z=p.reducer;var q,r,s=function(a,b){var c=JSON.parse(b);return c.summaries=a.concat(c.summaries),c},t=(q=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},p.actions),r=(r={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:[],d=arguments.length>1?arguments[1]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/featured?filter_type=new",type:"GET"}).then(function(a){b(t.fulfilled((0,j.M)(s(c,a),d)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(r)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(r)).forEach(function(a){Object.defineProperty(q,a,Object.getOwnPropertyDescriptor(r,a))}),q)},31647:function(a,b,c){c.d(b,{V:function(){return t}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/popularCourses",initialState:p,reducers:q});b.Z=r.reducer;var s=function(a,b){var c,d=JSON.parse(a);return n(m({},d),{popular_categories:null==d?void 0:null===(c=d.popular_categories)|| void 0===c?void 0:c.map(function(a){return n(m({},a),{popular_courses:(0,j.M)(a.popular_courses,b)})})})},t=n(m({},r.actions),{load:function(){var a,b,c=!(arguments.length>0)|| void 0===arguments[0]||arguments[0],d=arguments.length>1?arguments[1]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,g.Z)({url:"/api/editorial/get-all-popular-category".concat(c?"?fetch_details=true":""),type:"GET"}).then(function(a){b(t.fulfilled(s(a,d)))}).catch(function(a){b(t.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},70429:function(a,b,c){c.d(b,{k:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/popularPaths",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:6,d=arguments.length>1?arguments[1]:void 0;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/reader/featured-paths?page_size=".concat(c),type:"GET"}).then(function(a){b(s.fulfilled((0,j.M)(JSON.parse(a),d)))}).catch(function(a){b(s.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},94847:function(a,b,c){c.d(b,{O:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/purchasedCourses",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/all-purchased-courses",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},39231:function(a,b,c){c.d(b,{A:function(){return u}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,i.oM)({name:"reader/myLearnPage/savedWorks",initialState:q,reducers:r});b.Z=s.reducer;var t=function(a,b,c){var d,e=JSON.parse(a);return b?function(a){if(Array.isArray(a))return k(a)}(d=(0,j.M)(e,c))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(d)||function a(b,c){if(b){if("string"==typeof b)return k(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(b,c)}}(d)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():o(n({},e),{collections:(0,j.M)(e.collections,c),paths:(0,j.M)(e.paths,c)})},u=o(n({},s.actions),{load:function(a){var b,c,d=arguments.length>1&& void 0!==arguments[1]&&arguments[1];return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/".concat(d?"saved-works":"all-saved-works"),type:"GET"}).then(function(b){c(u.fulfilled(t(b,d,a)))}).catch(function(a){c(u.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},56945:function(a,b,c){c.d(b,{I:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958),j=c(53122);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:"reader/myLearnPage/workRecommendations",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/course-recommendations",type:"GET"}).then(function(b){c(s.fulfilled((0,j.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},7918:function(a,b,c){c.d(b,{I:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(53122),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,j.oM)({name:"reader/owned-tracks",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/reader/owned-tracks",type:"GET"}).then(function(b){c(s.fulfilled((0,i.M)(JSON.parse(b),a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},61777:function(a,b,c){c.d(b,{c:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n="reader/saved",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:q});b.Z=r.reducer;var s=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},r.actions),m=(m={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(n),type:"GET"}).then(function(a){b(s.fulfilled(JSON.parse(a)))}).catch(function(a){b(s.rejected((0,h.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},77215:function(a,b,c){c.d(b,{W:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n=(0,f.Z)(),o=n.initialState,p=n.reducers,q=(0,i.oM)({name:"reader/edpresso/featured",initialState:o,reducers:m(l({},p),{bookmark:{reducer:function(a,b){var c,d,e,f=b.payload,g=f.isBookmarkedByReader,h=f.shotId,i=null!==(e=null==a?void 0:null===(c=a.data)|| void 0===c?void 0:null===(d=c.edpresso_shots)|| void 0===d?void 0:d.findIndex(function(a){return a.id===h}))&& void 0!==e?e:-1;a.loaded&&i>=0&&(a.data.edpresso_shots[i].isBookmarkedByReader=g)},prepare:function(a,b){return{payload:{isBookmarkedByReader:a,shotId:b}}}}})});b.Z=q.reducer;var r=function(a,b){var c=JSON.parse(b);return c.edpresso_shots=a.concat(c.edpresso_shots),c},s=m(l({},q.actions),{load:function(){var a,b,c,d=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",f=arguments.length>1&& void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&& void 0!==arguments[2]?arguments[2]:"published",k=!(arguments.length>3)|| void 0===arguments[3]||arguments[3],l=arguments.length>4&& void 0!==arguments[4]?arguments[4]:null;return a=l?"reader/shots/".concat(l):k?"edpresso/shots?status=published&cursor=".concat(d):"edpresso/shots?status=".concat(i,"&cursor=").concat(d),c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(a),type:"GET"}).then(function(a){c(s.fulfilled(r(f,a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}})},70626:function(a,b,c){c.d(b,{u:function(){return x}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(62958),k=c(60958),l=c.n(k);function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var o="reader/tracks/featured",p=(0,f.Z)(),q=p.initialState,r=p.reducers,s=(0,j.oM)({name:o,initialState:q,reducers:r});b.Z=s.reducer;var t,u,v=function(a,b,c){var d=JSON.parse(c),e=a.findIndex(function(a){return a.id===b});return a[e].summaries=d.summaries,{tracks:a}},w=function(a,b){var c=JSON.parse(b);return c.tracks=a.concat(c.tracks),c},x=(t=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}({},s.actions),u=(u={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&& void 0!==arguments[1]?arguments[1]:null,f=arguments.length>2&& void 0!==arguments[2]?arguments[2]:[],j=arguments.length>3&& void 0!==arguments[3]?arguments[3]:3,k=arguments.length>4&& void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&& void 0!==arguments[5]&&arguments[5];return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(x.pending()),a.abrupt("return",(0,g.Z)({url:"/api/".concat(d?"track/".concat(d):k?"".concat(o,"/").concat(c,"?page_size=").concat(j,"&searchString=").concat(k,"&onlyTracks=").concat(n):"".concat(o,"/").concat(c,"?page_size=").concat(j,"&onlyTracks=").concat(n)),type:"GET"}).then(function(a){b(x.fulfilled(d?v(f,d,a):w(f,a)))}).catch(function(a){b(x.rejected((0,h.nU)(a))),a.status===i.Wy.unauthorizedException&&l().push({pathname:"/login",query:{ru:"/tracks"}},"/login")}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},u),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(u)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(u)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(u,a))}),t)},12796:function(a,b,c){c.d(b,{"_":function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(62958);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n="reader/works",o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,i.oM)({name:n,initialState:p,reducers:q});b.Z=r.reducer;var s=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},r.actions),m=(m={load:function(a){var b,c;return c=(b=e().mark(function b(c){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(s.pending()),b.abrupt("return",(0,g.Z)({url:"/api/".concat(n,"/").concat(a),type:"GET"}).then(function(a){c(s.fulfilled(JSON.parse(a)))}).catch(function(a){c(s.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},56890:function(a,b,c){c.d(b,{ZP:function(){return bq},TL:function(){return bp},ix:function(){return bo}});var d=c(89500),e=c(25524),f=c(82129),g=c(27175),h=c(689),i=c(15288),j=c(26517),k=c(51536),l=c(8519),m=c(41735),n=(0,d.UY)({properties:m.ZP}),o=c(72073),p=c(1680),q=c(4379),r=c(59436),s=c(17061),t=c(66158),u=(0,d.UY)({articleSnapshot:n,collection:g.ZP,collectionArticle:h.Z,articleRevisions:l.ZP,page:i.Z,profile:j.Z,work:k.Z,catalog:o.Z,allCollaborators:p.Z,concepts:q.Z,proofread:r.ZP,profWorks:s.Z,tocMaps:t.Z}),v=c(88669),w=(0,d.UY)({catalog:v.Z}),x=c(41590),y=c(14e3),z=c(28589),A=c(53058),B=(0,d.UY)({shots:x.Z,bookmarkedShots:z.Z,allTags:y.Z,properties:A.Z}),C=c(98157),D=c(24154),E=c(73756),F=c(56543),G=c(69282),H=c(26765),I=c(11108),J=c(9151),K=c(18133),L=c(3183),M=c(6163),N=(0,d.UY)({editorPage:L.Z,editorPagePublished:M.ZP}),O=c(94296),P=c(39995),Q=c(12796),R=c(70626),S=c(77215),T=c(29647),U=c(19377),V=c(42528),W=(0,d.UY)({works:V.Z,paths:U.Z}),X=c(61777),Y=c(98275),Z=c(49095),$=c(7918),_=c(68595),aa=c(39231),ab=c(70429),ac=c(31647),ad=c(84291),ae=c(80166),af=c(38556),ag=c(94847),ah=c(56945),ai=(0,d.UY)({githubStudentPack:_.Z,savedWorks:aa.Z,popularPaths:ab.Z,popularCourses:ac.Z,inProgressPaths:ad.Z,latestCourses:ae.Z,completedWorks:af.Z,purchasedCourses:ag.Z,workRecommendations:ah.Z}),aj=(0,d.UY)({featured:P.Z,works:Q.Z,tracks:R.Z,shots:S.Z,editorPages:T.ZP,audience:W,saved:X.Z,inProgress:Y.Z,assignedWorks:Z.Z,ownedTracks:$.Z,myLearnPage:ai}),ak=c(25981),al=c(92874),am=c(50058),an=c(98751),ao=c(30133),ap=c(23721),aq=c(18277),ar=c(39077),as=c(23200),at=c(97415),au=c(73457),av=c(99478),aw=c(69177),ax=c(11460),ay=c(71327),az=c(43015),aA=c(38863),aB=(0,d.UY)({info:an.Z,learn:ao.Z,widgetsData:ap.ZP,metaData:aq.ZP,courseCompletion:ar.Z,defaultCourseLanguage:au.Z,editorPreferences:as.Z,readerPreferences:at.Z,basicProfiles:aw.Z,userApiKeys:av.Z,subscriptions:ax.Z,enterpriseEventsInfo:ay.Z,paymentMethods:az.Z,checklist:aA.Z}),aC=c(48544),aD=c(97725),aE=c(60573),aF=c(58910),aG=c(30864),aH=c(47829),aI=c(82),aJ=c(2961),aK=c(53516),aL=c(39917),aM=c(1650),aN=c(85495),aO=c(32985),aP=c(24257),aQ=c(81023),aR=c(87552),aS=c(71417),aT=c(24830),aU=c(18049),aV=(0,d.UY)({usersData:aR.Z,coursesData:aS.Z,userPerCourseData:aT.Z,usageStatsSelectedUser:aU.Z}),aW=c(64642),aX=c(88446),aY=c(1708),aZ=c(37171),a$=(0,d.UY)({subscriptions:aN.Z,subscriptionsUsers:aO.Z,discount:aP.Z,teamTrials:aQ.Z,usageData:aV,employeesWithAssignedCourses:aX.Z,employeeAssignedCourses:aY.Z,organizationSSOConfig:aZ.Z,subscriptionsTeams:aW.Z}),a_=c(30320),a0=c(83443),a1=c(58029),a2=c(82608),a3=(0,d.UY)({subscriptions:a1.Z,subscriptionUsers:a2.Z}),a4=c(53604),a5=c(94267),a6=c(21402),a7=c(77349),a8=c(21558),a9=c(63266),ba=c(94201),bb=c(97393),bc=(0,d.UY)({usersTimeSpent:a9.Z,coursesTimeSpent:ba.Z,userPerCourseTimeSpent:bb.Z}),bd=c(45771),be=c(82933),bf=c(99051),bg=(0,d.UY)({moduleCategories:be.Z,pathCompletion:bf.Z}),bh=c(40106),bi=(0,d.UY)({toggle:bh.ZP}),bj=c(26722),bk=c(12812),bl=(0,d.UY)({list:bk.Z}),bm=c(15824),bn=function(a,b){var c="CLEAR"===b.type?{modals:a.modals,userConfig:a.userConfig,subscriptionBannerState:a.subscriptionBannerState}:a;return(0,d.UY)({ajaxMode:am.Z,author:u,affiliate:w,edpresso:B,collectionArticlePreview:C.Z,loader:D.Z,modals:E.Z,overlay:F.Z,payment:G.Z,page:H.Z,pagePreview:I.Z,pageSummary:J.Z,shotSummary:K.Z,editorPages:N,editorPageSummary:O.ZP,reader:aj,subscription:aC.Z,search:ak.Z,widgets:al.ZP,user:aB,userCollectionArticle:aD.Z,trackPage:aE.Z,educativeBanner:aF.Z,dockerDetails:aH.Z,vrConnection:aI.Z,testingDockerDetails:aJ.Z,terminalWidgetStats:aG.Z,comments:f.Z,testimonials:aK.Z,widgetsWrapper:aL.Z,subscriptionBannerState:aM.ZP,enterprise:a$,gonePage:a_.Z,notFoundPage:a0.ZP,teamBuy:a3,assessment:a4.ZP,project:a5.ZP,workspace:a7.Z,cloudLab:a6.ZP,userConfig:a8.ZP,usageStats:bc,userSuggestions:bd.ZP,paths:bg,sidebar:bi,featuredItems:bj.Z,notifications:bl,taxonomyTour:bm.Z})(c,b)},bo=e.v9,bp=function(){return(0,e.I0)()},bq=bn},25981:function(a,b,c){c.d(b,{R:function(){return k}});var d=c(62958),e=c(9661);function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var g,h,i={searchString:"",isResetable:!0,filter:"all"},j=(0,d.oM)({name:"search",initialState:i,reducers:{search:function(a,b){var c=b.payload,d=c.searchString,e=c.resetable;a.isResetable=e,a.searchString=d},finishSearch:function(a){a.isResetable=!0,a.searchString=""},setFilter:function(a,b){var c=b.payload;a.filter=c},resetFilter:function(){return i}},extraReducers:{"@@router/LOCATION_CHANGE":function(a){if(a.isResetable)return i}}});b.Z=j.reducer;var k=(g=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){f(a,b,c[b])})}return a}({},j.actions),h=(h={searchFeaturedWorks:function(a,b){var c=arguments.length>2&& void 0!==arguments[2]?arguments[2]:function(){},d=arguments.length>3&& void 0!==arguments[3]&&arguments[3];(0,e.Z)({url:"/api/reader/featured_items?search_string=".concat(encodeURIComponent(a)).concat(d?"&only_courses=true":""),type:"GET"}).then(b).catch(function(){return c()})},getLearnerConcept:function(a,b,c){(0,e.Z)({url:"/api/reader/learner-tags/landing-page-details/".concat(a),type:"GET"}).then(b).catch(function(){return c()})}},h),Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(h)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(h)).forEach(function(a){Object.defineProperty(g,a,Object.getOwnPropertyDescriptor(h,a))}),g)},40106:function(a,b,c){c.d(b,{XP:function(){return i},mQ:function(){return d}});var d,e,f=c(62958);(e=d||(d={}))[e.LEGACY=1]="LEGACY",e[e.ENTERPRISE=2]="ENTERPRISE",e[e.LESSON=3]="LESSON",e[e.LESSON_EDITOR=4]="LESSON_EDITOR",e[e.ASSESSMENT_EDITOR=5]="ASSESSMENT_EDITOR",e[e.CLOUDLAB=6]="CLOUDLAB",e[e.PLAN=7]="PLAN",e[e.PROJECT=8]="PROJECT",e[e.PROOF_READ=9]="PROOF_READ";var g={sidebarCollapsed:!1,sidebarType:d.LEGACY},h=(0,f.oM)({name:"sidebarCollapsed",initialState:g,reducers:{collapse:function(a,b){var c=b.payload;a.sidebarCollapsed=c},setSidebarType:function(a,b){var c=b.payload;a.sidebarType=c},toggle:function(a){a.sidebarCollapsed=!a.sidebarCollapsed}}});b.ZP=h.reducer;var i=h.actions},48544:function(a,b,c){c.d(b,{T:function(){return e}});var d=(0,c(62958).oM)({name:"subscriptionBar",initialState:{},reducers:{toggle:function(a,b){var c=b.payload;a.hide=c}}});b.Z=d.reducer;var e=d.actions},1650:function(a,b,c){c.d(b,{"$h":function(){return h},IC:function(){return i},dH:function(){return g}});var d,e=(0,c(62958).oM)({name:"subscriptionBanner",initialState:{showBanner:!1,showAnnouncementBanner:!0,hideUpgradeBanner:!1},reducers:{changeBannerState:function(a,b){var c=b.payload;a.showBanner=c},changeAnnouncementBannerState:function(a,b){var c=b.payload;a.showAnnouncementBanner=c},hideUpgradeBanner:function(a,b){var c=b.payload;a.hideUpgradeBanner=c}}});b.ZP=e.reducer;var f=e.actions,g=f.changeBannerState,h=f.changeAnnouncementBannerState,i=f.hideUpgradeBanner},15824:function(a,b,c){c.d(b,{L:function(){return e}});var d=(0,c(62958).oM)({name:"taxonomyTour",initialState:{isTourOpen:!1},reducers:{toggle:function(a,b){var c=b.payload;a.isTourOpen=c}}});b.Z=d.reducer;var e=d.actions},58029:function(a,b,c){c.d(b,{E:function(){return u}});var d=c(41344),e=c.n(d),f=c(9661),g=c(12814),h=c(36601),i=c(63697),j=c(58564),k=c(62958);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p="enterprise/teams/subscription",q=(0,h.Z)(),r=q.initialState,s=q.reducers,t=(0,k.oM)({name:p,initialState:r,reducers:s});b.Z=t.reducer;var u=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},t.actions),o=(o={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(u.pending()),a.abrupt("return",(0,f.Z)({url:"/api/".concat(p),type:"GET"}).then(function(a){b(u.fulfilled({subscriptions:(0,i.Z)(JSON.parse(a))}))}).catch(function(a){a.status===j.Wy.unauthorizedException&&(0,g.xc)(),b(u.rejected((0,g.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},82608:function(a,b,c){c.d(b,{t:function(){return u}});var d=c(41344),e=c.n(d),f=c(62958),g=c(9661),h=c(12814),i=c(58564),j=c(36601),k=c(63697);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var p=(0,j.Z)(),q=p.initialState,r=p.reducers,s=(0,f.oM)({name:"enterprise/teams/subscription/users",initialState:q,reducers:o(n({},r),{updateTeamBuySubscriptionUsers:function(a,b){var c=b.payload,d=(null==c?void 0:c.users)||{},e=(null==c?void 0:c.subscriptionId)||null;e&&(a.data[e]=d)}})}),t=function(a,b,c){var d,e,f=(0,k.Z)(JSON.parse(c)),g=(null===(d=b().enterprise)|| void 0===d?void 0:null===(e=d.subscriptionsUsers)|| void 0===e?void 0:e.data)||null;return g?o(n({},g),m({},a,f)):m({},a,f)};b.Z=s.reducer;var u=o(n({},s.actions),{load:function(a){var b,c;return c=(b=e().mark(function b(c,d){return e().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return c(u.pending()),b.abrupt("return",(0,g.Z)({url:"/api/enterprise/teams/subscription/".concat(a,"/users"),type:"GET"}).then(function(b){c(u.fulfilled(t(a,d,b)))}).catch(function(a){a.status===i.Wy.unauthorizedException&&(0,h.xc)(),c(u.rejected((0,h.nU)(a)))}));case 2:case"end":return b.stop()}},b)}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b){return c.apply(this,arguments)}}})},30864:function(a,b,c){c.d(b,{x:function(){return f}});var d,e=(0,c(62958).oM)({name:"terminalWidgetStats",initialState:{activeTermID:null},reducers:{connect:function(a,b){return{activeTermID:b.payload}}}});b.Z=e.reducer;var f=e.actions},53516:function(a,b,c){c.d(b,{N:function(){return t}});var d=c(41344),e=c.n(d),f=c(131),g=c(36601),h=c(9661),i=c(12814),j=c(62958);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m=(0,g.Z)(),n=m.initialState,o=m.reducers,p=(0,j.oM)({name:"testimonials",initialState:n,reducers:o});b.Z=p.reducer;var q,r,s=function(a){var b=JSON.parse(a),c=new DOMParser;return b.map(function(a){if(a.testimonial_type===f.Sfh.TWEET){var b=c.parseFromString(a.text,"text/html");a.text=b.getElementsByTagName("p")[0].innerHTML}return a.processedText="".concat(a.author_name.bold()," - ").concat(a.text.replace(/<\/?[^>]+(>|$)/g,"")),a})},t=(q=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},p.actions),r=(r={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(t.pending()),a.abrupt("return",(0,h.Z)({url:"/api/get-testimonial",type:"GET"}).then(function(a){b(t.fulfilled(s(a)))}).catch(function(a){b(t.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},r),Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(r)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(r)).forEach(function(a){Object.defineProperty(q,a,Object.getOwnPropertyDescriptor(r,a))}),q)},60573:function(a,b,c){c.d(b,{N:function(){return v}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(60958),i=c.n(h),j=c(58564),k=c(9661),l=c(12814),m=c(83443);function n(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var p,q,r=(0,f.Z)(),s=r.initialState,t=r.reducers,u=(0,g.oM)({name:"trackPage",initialState:s,reducers:t});b.Z=u.reducer;var v=(p=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){o(a,b,c[b])})}return a}({},u.actions),q=(q={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:"";return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(v.pending()),a.abrupt("return",(0,k.Z)({url:"/api/track/".concat(c),type:"GET"}).then(function(a){b(v.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===j.Wy.unauthorizedException?i().push({pathname:"/login",query:{ru:"/track/".concat(c)}},"/login"):a.status===j.Wy.notFoundException&&b(m.i6.set({notFoundPageStatus:!0})),b(v.rejected((0,l.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){n(f,d,e,g,h,"next",a)}function h(a){n(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},q),Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(q)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(q)).forEach(function(a){Object.defineProperty(p,a,Object.getOwnPropertyDescriptor(q,a))}),p)},94201:function(a,b,c){c.d(b,{F:function(){return u}});var d=c(41344),e=c.n(d),f=c(9661),g=c(12814),h=c(58564),i=c(36601),j=c(63697),k=c(62958);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p="time-spent/access/courses",q=(0,i.Z)(),r=q.initialState,s=q.reducers,t=(0,k.oM)({name:p,initialState:r,reducers:s});b.Z=t.reducer;var u=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},t.actions),o=(o={load:function(a,b){var c,d;return d=(c=e().mark(function c(d){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(u.pending()),c.abrupt("return",(0,f.Z)({url:"/api/".concat(p),type:"POST",data:{start_date:a,end_date:b}}).then(function(a){d(u.fulfilled((0,j.Z)(JSON.parse(a))))}).catch(function(a){a.status===h.Wy.unauthorizedException&&(0,g.xc)(),d(u.rejected((0,g.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},97393:function(a,b,c){c.d(b,{V:function(){return t}});var d=c(41344),e=c.n(d),f=c(9661),g=c(12814),h=c(58564),i=c(36601),j=c(63697),k=c(62958);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p=(0,i.Z)(),q=p.initialState,r=p.reducers,s=(0,k.oM)({name:"time-spent/access/user/user-id",initialState:q,reducers:r});b.Z=s.reducer;var t=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},s.actions),o=(o={load:function(a,b,c){var d,i;return i=(d=e().mark(function d(i){return e().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return i(t.pending()),d.abrupt("return",(0,f.Z)({url:"/api/time-spent/access/user/".concat(a),type:"POST",data:{start_date:b,end_date:c}}).then(function(a){i(t.fulfilled((0,j.Z)(JSON.parse(a))))}).catch(function(a){a.status===h.Wy.unauthorizedException&&(0,g.xc)(),i(t.rejected((0,g.nU)(a)))}));case 2:case"end":return d.stop()}},d)}),function(){var a=this,b=arguments;return new Promise(function(c,e){var f=d.apply(a,b);function g(a){l(f,c,e,g,h,"next",a)}function h(a){l(f,c,e,g,h,"throw",a)}g(void 0)})}),function(a){return i.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},63266:function(a,b,c){c.d(b,{s:function(){return u}});var d=c(41344),e=c.n(d),f=c(9661),g=c(12814),h=c(58564),i=c(36601),j=c(63697),k=c(62958);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var n,o,p="time-spent/access/users",q=(0,i.Z)(),r=q.initialState,s=q.reducers,t=(0,k.oM)({name:p,initialState:r,reducers:s});b.Z=t.reducer;var u=(n=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}({},t.actions),o=(o={load:function(a,b){var c,d;return d=(c=e().mark(function c(d){return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return d(u.pending()),c.abrupt("return",(0,f.Z)({url:"/api/".concat(p),type:"POST",data:{start_date:a,end_date:b}}).then(function(a){d(u.fulfilled((0,j.Z)(JSON.parse(a))))}).catch(function(a){a.status===h.Wy.unauthorizedException&&(0,g.xc)(),d(u.rejected((0,g.nU)(a)))}));case 2:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return d.apply(this,arguments)}}},o),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))}),n)},69177:function(a,b,c){c.d(b,{F:function(){return r}});var d=c(36601),e=c(63697),f=c(62958),g=c(9661),h=c(12814);function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}function k(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var l=(0,d.Z)(),m=l.initialState,n=l.reducers,o=(0,f.oM)({name:"user/basicProfiles",initialState:m,reducers:n}),p=function(a,b,c){var d=b().user.basicProfiles.data||{},f=(0,e.Z)(JSON.parse(c));return f.profileSlug="/profile/view/".concat(a),k(j({},d),i({},a,f))},q={};b.Z=o.reducer;var r=k(j({},o.actions),{clear:function(){return function(a){a(o.actions.clear()),q={}}},load:function(a){return function(b,c){return a in q||(q[a]=(0,g.Z)({url:"/api/author/profile/".concat(a,"?basic_info=true"),type:"GET"}).then(function(d){b(r.fulfilled(p(a,c,d)))}).catch(function(a){b(r.rejected((0,h.nU)(a)))})),q[a]}}})},38863:function(a,b,c){c.d(b,{u:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(62958),i=c(12814);function j(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function m(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}function n(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,h.oM)({name:"user/checklist",initialState:p,reducers:n(m({},q),{setChecklist:function(a,b){a.data=b.payload},setUserSelectedChecklist:function(a,b){a.data.selected_checklist=b.payload},setChecklistCompletionMap:function(a,b){Object.entries(b.payload).forEach(function(b){var c,d,e=(d=2,function(a){if(Array.isArray(a))return a}(c=b)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(c,d)||function a(b,c){if(b){if("string"==typeof b)return j(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return j(b,c)}}(c,d)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=e[0],g=e[1];g&&(a.data.checklist_completion_map[f]=g)})},setChooseChecklist:function(a,b){b.payload||(a.data.choose_checklist=b.payload)}})});b.Z=r.reducer;var s=n(m({},r.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,g.Z)({url:"/api/user/checklist",type:"GET"}).then(function(a){b(s.fulfilled(JSON.parse(a)))}).catch(function(a){b(s.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},39077:function(a,b,c){c.d(b,{x:function(){return n}});var d=c(41344),e=c.n(d),f=c(8654),g=c(62958);function h(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function i(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function j(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){i(a,b,c[b])})}return a}var k,l,m=(0,g.oM)({name:"user/courseCompletion",initialState:{},reducers:{set:function(a,b){return j({},a,b.payload)},setAll:function(a,b){return b.payload},reset:function(a){}}});b.Z=m.reducer;var n=(k=j({},m.actions),l=(l={load:function(a,b){var c,d,g=arguments.length>2&& void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;return d=(c=e().mark(function c(d,h){var k,l,m;return e().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(b){c.next=2;break}return c.abrupt("return");case 2:return k=a.filter(function(a){return"collection"===a.doc_type}).map(function(a){return{map_name:"CourseCompletion_".concat(a.author_id,"_").concat(a.id),map_keys:null}}),c.next=5,(0,f.Dt)(k);case 5:m=j({},g,JSON.parse(l=c.sent)),"function"==typeof i?i(m):d(n.setAll(m));case 8:case"end":return c.stop()}},c)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){h(f,d,e,g,i,"next",a)}function i(a){h(f,d,e,g,i,"throw",a)}g(void 0)})}),function(a,b){return d.apply(this,arguments)}}},l),Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(l)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(l)).forEach(function(a){Object.defineProperty(k,a,Object.getOwnPropertyDescriptor(l,a))}),k)},73457:function(a,b,c){c.d(b,{o:function(){return f}});var d,e=(0,c(62958).oM)({name:"user/defaultCourseLanguage",initialState:{},reducers:{set:function(a,b){return b.payload.data}}});b.Z=e.reducer;var f=e.actions},23200:function(a,b,c){c.d(b,{D:function(){return g}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=(0,d.oM)({name:"user/editorPreferences",initialState:{clipboardCopySource:"",showClipboardAnnouncement:!0,loaded:!1,loading:!1},reducers:{set:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a,b.payload)},setLoaded:function(a,b){var c=b.payload;a.loaded=c,a.loading=!c}}});b.Z=f.reducer;var g=f.actions},71327:function(a,b,c){c.d(b,{s:function(){return r}});var d=c(41344),e=c.n(d),f=c(62958),g=c(36601),h=c(9661),i=c(12814);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var l,m,n=(0,g.Z)(),o=n.initialState,p=n.reducers,q=(0,f.oM)({name:"user/enterpriseEventsInfo",initialState:o,reducers:p});b.Z=q.reducer;var r=(l=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}({},q.actions),m=(m={load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(r.pending()),a.abrupt("return",(0,h.Z)({url:"/api/enterprise/events-info",type:"GET"}).then(function(a){return b(r.fulfilled(JSON.parse(a)))}).catch(function(a){b(r.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},m),Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(m)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(m)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(m,a))}),l)},98751:function(a,b,c){c.d(b,{V:function(){return x}});var d=c(41344),e=c.n(d),f=c(34938),g=c(36601),h=c(21558),i=c(62958),j=c(18224),k=c(58910),l=c(131),m=c(77953),n=c(9661);function o(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function q(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){p(a,b,c[b])})}return a}function r(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var s=function(a){var b=Number(m.rV("active_organization_id"));if(b){var c=a.data.enterprise.organizations.find(function(a){return a.organization_id===b});if(c){a.data.enterprise.active_organization_id=c.organization_id;return}m.cl("active_organization_id")}if(a.data.enterprise.organizations){var d=a.data.enterprise.organizations[0];if(d){m.LS("active_organization_id",d.organization_id),a.data.enterprise.active_organization_id=d.organization_id;return}}a.data.enterprise.active_organization_id=null},t=(0,g.Z)(),u=t.initialState,v=t.reducers,w=(0,i.oM)({name:"user/info",initialState:u,reducers:r(q({},v),{update:function(a,b){var c,d,e,f;a.data=b.payload,a.loaded=!0,a.loading=!1,dataLayer.push({event:"userChanged",userId:b.payload.user_id,signupDate:(null===(c=a.data)|| void 0===c?void 0:c.sign_up_date)?new Date(null===(d=a.data)|| void 0===d?void 0:d.sign_up_date).toISOString():null,ownsFreeCourses:null===(e=a.data)|| void 0===e?void 0:e.owns_free_courses,ownsPaidCourses:null===(f=a.data)|| void 0===f?void 0:f.owns_paid_courses}),s(a)},freeTrialAvailed:function(a,b){a.data&&(a.data.has_active_b2c_trial=!0,a.data.has_availed_b2c_trial=!0,a.data.preferred_subscription_id=b.payload.preferred_subscription_id,a.data.preferred_subscription_price=b.payload.preferred_subscription_price)},freeTrialCancelled:function(a,b){a.data&&b.payload===l.BFt&&(a.data.has_active_b2c_trial=!1)},userSubscriptionBought:function(a){a.data&&(a.data.is_user_subscribed=!0)},teamSubscriptionBought:function(a){a.data&&(a.data.is_team_buy_admin=!0)},setIsTeamTrialAdmin:function(a){a.data&&(a.data.is_team_trial_admin=!0)},setUserThemeAction:function(a,b){a.data.user_theme=b.payload},setUserNavigationAction:function(a,b){a.data.enterprise.enable_new_nav_b2b=b.payload},setInProgressLab:function(a,b){a.data.in_progress_lab=b.payload},setEnterpriseSidebarState:function(a,b){a.data.enterprise.enterpriseSidebarState=b.payload},setUserLoggedOut:function(a){a.loggedOut=!0},setShowOnboardingQuestionnaireFlag:function(a){a.data.show_onboarding_questionnaire=!1},setShowTaxonomyTour:function(a){a.data.viewed_taxonomy_tour=!0},setHideCustomizeFontModalTour:function(a){a.data.viewed_customize_fonts_modal=!0},clearAndSetLoggedOut:function(a){return{loaded:!1,loggedOut:!0}},setUserMentorStatus:function(a,b){var c=b.payload.orgId,d=a.data.enterprise.organizations.findIndex(function(a){return a.organization_id===Number(c)});a.data.enterprise.organizations[d].is_mentor=b.payload.status},setConfluenceIntegrationStatus:function(a,b){var c=b.payload.orgId,d=a.data.enterprise.organizations.findIndex(function(a){return a.organization_id===Number(c)});a.data.enterprise.organizations[d].is_confluence_integration_enabled=b.payload.status},setUserSlackStatus:function(a,b){var c=b.payload,d=c.orgId,e=c.slackStatus,f=a.data.enterprise.organizations.findIndex(function(a){return a.organization_id===Number(d)});a.data.enterprise.organizations[f].is_slack_authorized=e},setUserOnboardingTutorialStatus:function(a,b){var c=b.payload;a.data.enterprise=r(q({},a.data.enterprise),{user_onboarding_tutorial_status:r(q({},a.data.enterprise.user_onboarding_tutorial_status),p({},c,!0))})},decrementOnboardingSeats:function(a,b){var c,d,e=b.payload,f=e.numOfSeatsToDecrement,g=e.orgId,h=null===(c=a.data)|| void 0===c?void 0:null===(d=c.enterprise)|| void 0===d?void 0:d.organizations.findIndex(function(a){return a.organization_id===g});h>=0&&(a.data.enterprise.organizations[h].free_onboarding_seats-=f)},setupActiveOrganization:function(a){s(a)},updateActiveOrganization:function(a,b){var c,d,e=b.payload;(null===(d=null===(c=a.data)|| void 0===c?void 0:c.enterprise.organizations)|| void 0===d?void 0:d.find(function(a){return a.organization_id===e}))&&(a.data.enterprise.active_organization_id=e,m.LS("active_organization_id",e))}})});b.Z=w.reducer;var x=r(q({},w.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b,c){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(x.pending()),a.abrupt("return",(0,n.Z)({url:"/api/user/info",type:"GET"}).then(function(a){b(x.fulfilled(JSON.parse(a))),(null===(d=c().user.info)|| void 0===d?void 0:null===(e=d.data)|| void 0===e?void 0:e.status)===401?(b(x.rejected()),document.documentElement.style.removeProperty("--loggedout-false"),document.documentElement.style.setProperty("--loggedout-true","none"),b(x.clearAndSetLoggedOut())):dataLayer.push({event:"userChanged",userId:null===(p=c().user.info.data)|| void 0===p?void 0:p.user_id,signupDate:(null===(q=c().user.info.data)|| void 0===q?void 0:q.sign_up_date)?new Date(null===(r=c().user.info.data)|| void 0===r?void 0:r.sign_up_date).toISOString():null,ownsFreeCourses:null===(s=c().user.info.data)|| void 0===s?void 0:s.owns_free_courses,ownsPaidCourses:null===(t=c().user.info.data)|| void 0===t?void 0:t.owns_paid_courses});var d,e,g,i,l,m,n,o,p,q,r,s,t,u=null===(g=c().user.info.data)|| void 0===g?void 0:null===(i=g.bannerDetails)|| void 0===i?void 0:i[j.Z.GITHUB_STATUS_BANNER];u&&b(k.R.show(j.Z.GITHUB_STATUS_BANNER,u)),(null===(l=c().user.info)|| void 0===l?void 0:null===(m=l.data)|| void 0===m?void 0:m.admin)&&b(h.V5.updateLanguages()),b((0,f.F)()),(null===(n=c().user.info)|| void 0===n?void 0:null===(o=n.data)|| void 0===o?void 0:o.enterprise)&&b(x.setupActiveOrganization())}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){o(f,d,e,g,h,"next",a)}function h(a){o(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,c){return b.apply(this,arguments)}}})},30133:function(a,b,c){c.d(b,{G:function(){return s}});var d=c(41344),e=c.n(d),f=c(36601),g=c(62958),h=c(9661),i=c(12814),j=c(58564);function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function l(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var m,n,o=(0,f.Z)(),p=o.initialState,q=o.reducers,r=(0,g.oM)({name:"user/learn",initialState:p,reducers:q});b.Z=r.reducer;var s=(m=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){l(a,b,c[b])})}return a}({},r.actions),n=(n={load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]&&arguments[0];return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(s.pending()),a.abrupt("return",(0,h.Z)({url:"/api/user/info/learn?get_all_content_types=".concat(c),type:"GET"}).then(function(a){return b(s.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===j.Wy.unauthorizedException&&(0,i.xc)(),b(s.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){k(f,d,e,g,h,"next",a)}function h(a){k(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}},n),Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(n)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(n)).forEach(function(a){Object.defineProperty(m,a,Object.getOwnPropertyDescriptor(n,a))}),m)},18277:function(a,b,c){c.d(b,{Ex:function(){return g},LZ:function(){return e}});var d=c(62958),e=function(){return"UserMetaData"},f=(0,d.oM)({name:"metaData",initialState:{},reducers:{set:function(a,b){var c=b.payload;a.githubToken=c}}});b.ZP=f.reducer;var g=f.actions},43015:function(a,b,c){c.d(b,{V:function(){return u}});var d=c(41344),e=c.n(d),f=c(62958),g=c(36601),h=c(9661),i=c(12814),j=c(69146),k=c(58564);function l(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var q=(0,g.Z)(),r=q.initialState,s=q.reducers,t=(0,f.oM)({name:"user/paymentMethods",initialState:r,reducers:p(o({},s),{delete:function(a,b){a.data.payment_methods=a.data.payment_methods.filter(function(a){return a.token!==b.payload.token})},add:function(a,b){var c;a.data.payment_methods=[b.payload.paymentMethod,].concat(function(a){if(Array.isArray(a))return l(a)}(c=a.data.payment_methods)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(c)||function a(b,c){if(b){if("string"==typeof b)return l(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return l(b,c)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},updatePrimaryPaymentMethod:function(a,b){a.data.payment_methods=a.data.payment_methods.map(function(a){return a.token===b.payload.token?(a.is_primary=!0,a.currency_code_for_next_charge=b.payload.currency_code_for_next_charge,a.price_to_be_charged=b.payload.price_to_be_charged):a.is_primary=!1,a})}})});b.Z=t.reducer;var u=p(o({},t.actions),{load:function(){var a,b,c=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,d=arguments.length>1&& void 0!==arguments[1]&&arguments[1],f={};return c&&(f.org_id=c),f.get_associated_transactions=d,b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(u.pending()),a.abrupt("return",(0,h.Z)({url:"/api/braintree/payment-method".concat((0,j.N)(f)),type:"GET"}).then(function(a){return b(u.fulfilled(JSON.parse(a)))}).catch(function(a){a.status===k.Wy.unauthorizedException&&(0,i.xc)(),b(u.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){m(f,d,e,g,h,"next",a)}function h(a){m(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},97415:function(a,b,c){c.d(b,{o:function(){return g}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f=(0,d.oM)({name:"user/readerPreferences",initialState:{themes:null},reducers:{set:function(a,b){return function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a,b.payload)}}});b.Z=f.reducer;var g=f.actions},11460:function(a,b,c){c.d(b,{s:function(){return r}});var d=c(41344),e=c.n(d),f=c(62958),g=c(36601),h=c(9661),i=c(12814);function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){k(a,b,c[b])})}return a}function m(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var n=(0,g.Z)(),o=n.initialState,p=n.reducers,q=(0,f.oM)({name:"user/subscriptions",initialState:o,reducers:m(l({},p),{update:function(a,b){a.data=b.payload,a.loaded=!0,a.loading=!1}})});b.Z=q.reducer;var r=m(l({},q.actions),{load:function(){var a,b;return b=(a=e().mark(function a(b){return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(r.pending()),a.abrupt("return",(0,h.Z)({url:"/api/user/info/subscriptions",type:"GET"}).then(function(a){return b(r.fulfilled(JSON.parse(a)))}).catch(function(a){b(r.rejected((0,i.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){j(f,d,e,g,h,"next",a)}function h(a){j(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return b.apply(this,arguments)}}})},99478:function(a,b,c){c.d(b,{R:function(){return h}});var d=c(62958),e={loading:!1,loaded:!1,keys:{}},f=function(a,b,c){return Object.keys(b).forEach(function(d){a.hasOwnProperty(d)&&"UPDATE"===c?a[d]!==b[d]&&(a[d]=b[d].toString()):a[d]=b[d].toString()})},g=(0,d.oM)({name:"user",initialState:e,reducers:{pending:function(a){a.loading=!0,a.loaded=!1},rejected:function(a){a.loading=!1,a.loaded=!1},fulfilled:function(a,b){var c=b.payload,d=c.keys,e=c.action;f(a.keys,void 0===d?{}:d,void 0===e?"UPDATE":e),a.loading=!1,a.loaded=!0},saveRequest:function(a){a.loading=!0,a.loaded=!1},saveFailure:function(a){a.loading=!1,a.loaded=!1},saveSuccess:function(a,b){var c=b.payload,d=c.keys,e=c.action;f(a.keys,void 0===d?{}:d,void 0===e?"UPDATE":e),a.loading=!1,a.loaded=!0},reset:function(){return e}}});b.Z=g.reducer;var h=g.actions},23721:function(a,b,c){c.d(b,{LZ:function(){return s},Vy:function(){return t},XU:function(){return o},iU:function(){return p},vW:function(){return q}});var d=c(62958),e=c(131),f=c(5714),g=c.n(f),h=c(46845),i=c.n(h);function j(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function k(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){j(a,b,c[b])})}return a}function l(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var m={loading:!1,savingWidget:null,resettingWidget:null,snapshots:{},copiedWidget:null},n=(0,d.oM)({name:"widgetsData",initialState:m,reducers:{pending:function(a){a.loading=!0},rejected:function(a){a.loading=!1,a.snapshots={}},fulfilled:function(a,b){var c=b.payload;a.loading=!1,a.snapshots=c},saveRequest:function(a,b){var c=b.payload;a.savingWidget=c.reset?null:c.compId,a.resettingWidget=c.reset?c.compId:null},saveFailure:function(a){a.savingWidget=null,a.resettingWidget=null},saveSuccess:function(a,b){var c=b.payload;a.savingWidget=null,a.resettingWidget=null,a.snapshots=k({},a.snapshots,c)},copy:function(a,b){var c=b.payload;a.copiedWidget=c},reset:function(){return m}}}),o=function(a){return a.widgetsData.snapshots},p=function(a){return a.widgetsData.savingWidget},q=function(a){return a.widgetsData.resettingWidget},r=function(a,b){var c={index:0,data:l(k({},a.find(function(a){return b===a.hash})),{mode:"view",comp_id:null,iteration:void 0,hash:void 0}),parentHash:"0"};return i().AES.encrypt(JSON.stringify(c),e.Y47).toString()},s=function(a){var b=a.userId,c=a.collectionId,d=a.pageId,e=a.shotId,f=a.editorPageId,g=a.authorId,h=a.compId,i="WidgetUserData";return e?"".concat(i,"_").concat(b,"_").concat(e,"_").concat(h):f?"".concat(i,"_").concat(b,"_").concat(f,"_").concat(h):c?"".concat(i,"_").concat(b,"_").concat(g,"_").concat(c,"_").concat(d,"_").concat(h):"".concat(i,"_").concat(b,"_").concat(g,"_").concat(d,"_").concat(h)};b.ZP=n.reducer;var t=l(k({},n.actions),{copyWidget:function(a,b,c){return function(d){var e=r(b,c);if(a){var f=a.target.nodeName.toLowerCase();if(window.getSelection().toString()||"textarea"===f||!c)return;a.clipboardData.setData("text/plain",e),a.preventDefault()}else g()(e);d(t.copy(e))}}})},97725:function(a,b,c){c.d(b,{m:function(){return B}});var d=c(41344),e=c.n(d),f=c(36601),g=c(9661),h=c(12814),i=c(58564),j=c(55132),k=c(62958),l=c(92874),m=c(83443),n=c(72518),o=c(47186),p=c(131),q=c(50109),r=c(41154);function s(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function t(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){s(f,d,e,g,h,"next",a)}function h(a){s(f,d,e,g,h,"throw",a)}g(void 0)})}}function u(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function v(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){u(a,b,c[b])})}return a}function w(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var x=(0,f.Z)(),y=x.initialState,z=x.reducers,A=(0,k.oM)({name:"userCollectionArticle",initialState:y,reducers:z});b.Z=A.reducer;var B=w(v({},A.actions),{load:function(a){var b,c=a.author_id,d=a.collection_id,f=a.page_id,k=a.work_type,s=a.router,u=void 0===s?null:s,x=a.organization_id,y=void 0===x?null:x;return b=t(e().mark(function a(b,s){var x;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:x="collection/".concat(c,"/").concat(d,"/page/").concat(f),k&&(x+="?work_type=".concat(k)),b(B.pending()),(0,g.Z)({url:"/api/".concat(x),type:"GET"}).then(function(){var a=t(e().mark(function a(c){var d,f,g,h,i,k,m,o,t,x,z,A,C,D;return e().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(m=(0,j.u)(c),o=(0,r.U)(m,b,s),b(B.fulfilled(w(v({},m),{components:null!=o?o:m.components}))),t=v({compIds:null,authorId:null,userId:null===(d=s().user.info.data)|| void 0===d?void 0:d.user_id,pageId:null,shotId:null,collectionId:null},y?{askForHelpData:{menteeId:u.query.menteeId,organization_id:y,path_author_id:u.query.path_author_id,path_id:u.query.path_id}}:{}),t.userId&&s().collectionArticlePreview.loaded&&m.components&&(z=s().collectionArticlePreview.data,t.authorId=z.item_type===p.RIu.LESSON?z.external_author_id:z.author_id,t.collectionId=z.item_type===p.RIu.LESSON?z.external_collection_id:z.collection_id,t.pageId=z.item_type===p.RIu.LESSON?z.external_page_id:z.page_id,z.item_type===p.RIu.SHOT&&(t.shotId=z.shot_id),t.compIds=(0,q.ZX)(m.components),(null===(x=t.compIds)|| void 0===x?void 0:x.length)&&t.authorId&&t.userId&&t.pageId&&b((0,q.Sh)(t))),A=s().author,C=null==A?void 0:null===(f=A.collection)|| void 0===f?void 0:null===(g=f.instance)|| void 0===g?void 0:null===(h=g.details)|| void 0===h?void 0:h.is_private,D=null===(i=s().userCollectionArticle)|| void 0===i?void 0:null===(k=i.data)|| void 0===k?void 0:k.components,C){a.next=13;break}return a.next=12,(0,n.nA)(D);case 12:D=a.sent;case 13:return a.abrupt("return",b(l.oh.load(D)));case 14:case"end":return a.stop()}},a)}));return function(b){return a.apply(this,arguments)}}()).catch(function(a){a.status&&!a.responseJSON&&(0,o.u)(Error("Content blocked by third party, for ".concat(k," from ").concat(x))),a.status===i.Wy.unauthorizedException?(0,h.xc)():a.status===i.Wy.notFoundException&&b(m.i6.set({notFoundPageStatus:!0})),b(B.rejected((0,h.nU)(a)))});case 4:case"end":return a.stop()}},a)})),function(a,c){return b.apply(this,arguments)}}})},21558:function(a,b,c){c.d(b,{V5:function(){return u},"_r":function(){return e}});var d,e,f=c(41344),g=c.n(f),h=c(62958),i=c(9661),j=c(12814),k=c(36601);function l(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){m(a,b,c[b])})}return a}function o(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}(d=e||(e={}))[d.USER=6e3]="USER",d[d.TEAM=6001]="TEAM",d[d.EXTERNAL=6002]="EXTERNAL",d[d.ENTERPRISE=6003]="ENTERPRISE",d[d.ENTERPRISE_PLUS=6004]="ENTERPRISE_PLUS",d[d.ENTERPRISE_TEAM=6005]="ENTERPRISE_TEAM";var p=(0,k.Z)(),q=p.initialState,r=p.reducers,s=(0,h.oM)({name:"userConfig",initialState:q,reducers:o(n({},r),{updateLanguages:function(a){a.data&&(a.data.languages=a.data.admin_languages)}})});b.ZP=s.reducer;var t=function(a){var b=JSON.parse(a),c=b.languages,d=c.admin_languages,e=c.public_languages,f=Object.keys(d).sort().reduce(function(a,b){return a[b]=d[b],a},{}),g=Object.keys(e).sort().reduce(function(a,b){return a[b]=e[b],a},{});return o(n({},b),{languages:g,admin_languages:f})},u=o(n({},s.actions),{load:function(){var a,b;return b=(a=g().mark(function a(b,c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return b(u.pending()),a.abrupt("return",(0,i.Z)({url:"/api/userdata/user_config",type:"GET"}).then(function(a){var d,e;b(u.fulfilled(t(a))),(null===(d=c().user.info)|| void 0===d?void 0:null===(e=d.data)|| void 0===e?void 0:e.admin)&&b(u.updateLanguages())}).catch(function(a){b(u.rejected((0,j.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var b=this,c=arguments;return new Promise(function(d,e){var f=a.apply(b,c);function g(a){l(f,d,e,g,h,"next",a)}function h(a){l(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,c){return b.apply(this,arguments)}}})},45771:function(a,b,c){c.d(b,{gN:function(){return y},hv:function(){return e},sW:function(){return d}});var d,e,f=c(41344),g=c.n(f),h=c(62958),i=c(36601),j=c(9661),k=c(12814),l=c(69146);function m(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}function p(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}var q,r,s="user-suggestion";(q=d||(d={})).EDPRESSO="EDPRESSO",(r=e||(e={})).UPVOTE="UPVOTE",r.FLAG="FLAG",r.UNFLAG="UNFLAG",r.DOWNVOTE="DOWNVOTE";var t=(0,i.Z)(),u=t.initialState,v=t.reducers,w=(0,h.oM)({name:s,initialState:u,reducers:p(o({},v),{flag:function(a,b){var c=b.payload,d=c.id,e=c.flagged,f=a.data.user_suggestions.findIndex(function(a){return a.id===d});-1!==f&&(a.data.user_suggestions[f].flagged=e)},upvote:function(a,b){var c=b.payload,d=c.id,e=c.upvoted,f=a.data.user_suggestions.findIndex(function(a){return a.id===d});if(-1!==f){a.data.user_suggestions[f].upvoted=e;var g=a.data.user_suggestions[f].upvotes;a.data.user_suggestions[f].upvotes=e?g+1:g-1}},add:function(a,b){var c=b.payload;a.data.user_suggestions.unshift(c)}})}),x=function(a,b){var c=JSON.parse(b),d=a.map(function(a){return a.id}),e=c.user_suggestions.filter(function(a){return!d.includes(a.id)});return c.user_suggestions=a.concat(e),c},y=p(o({},w.actions),{load:function(a,b,c){var d=arguments.length>3&& void 0!==arguments[3]&&arguments[3],e=arguments.length>4&& void 0!==arguments[4]&&arguments[4],f={suggestion_type:String(a),admin:d,is_trash:e};c&&(f.cursor=c);var h,i,n=(0,l.N)(f);return i=(h=g().mark(function a(c){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return c(y.pending()),a.abrupt("return",(0,j.Z)({url:"/api/".concat(s).concat(n),type:"GET"}).then(function(a){c(y.fulfilled(x(b,a)))}).catch(function(a){c(y.rejected((0,k.nU)(a)))}));case 2:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(c,d){var e=h.apply(a,b);function f(a){m(e,c,d,f,g,"next",a)}function g(a){m(e,c,d,f,g,"throw",a)}f(void 0)})}),function(a){return i.apply(this,arguments)}}});b.ZP=w.reducer},82:function(a,b,c){c.d(b,{j:function(){return h}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f={connectionObject:null,isConnected:!1},g=(0,d.oM)({name:"vrConnection",initialState:f,reducers:{connect:function(a,b){var c=b.payload,d=c.connectionObject,e=c.isConnected;a.connectionObject=d,a.isConnected=e},disconnect:function(a){a.connectionObject=f.connectionObject,a.isConnected=f.isConnected}}});b.Z=g.reducer;var h=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},g.actions)},92874:function(a,b,c){c.d(b,{jQ:function(){return q},nJ:function(){return r},oh:function(){return p},pB:function(){return m}});var d=c(62958),e=c(131),f=c(70649);function g(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function i(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){h(a,b,c[b])})}return a}function j(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function k(a,b){if(a){if("string"==typeof a)return g(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return g(a,b)}}var l={ids:[],entities:{},markdownDirty:!1,recentlyUsedWidgets:e.bRE,selectedHash:e.KQV,cleared:!0,loadedAll:!1},m={type:"MarkdownEditor",content:{version:"2.0",text:"",mdHtml:"",cursorPosition:{line:0,ch:0}}},n={type:"SlateHTML",content:{html:"<p></p>"}},o=(0,d.oM)({name:"widgets",initialState:l,reducers:{clear:function(){return l},addAll:function(a,b){var c=b.payload,d=c.widgets,e=c.dirty,f=void 0!==e&&e;a.ids=(void 0===d?[]:d).map(function(b,c){return a.entities[c]=j(i({},b),{iteration:0,hash:c}),a.dirty=a.dirty||f,c}),a.viewerDirtyComps={},a.loadedAll=!0},clean:function(){return l},add:function(a,b){var c=b.payload,d=c.data,e=c.index,f=c.dirty;if(!a.entities[d.hash]){var h,l,m,n,o=null!==(m=d.hash)&& void 0!==m?m:(l=Math).max.apply(l,function(a){if(Array.isArray(a))return g(a)}(h=a.ids.length?a.ids:[0])||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(h)||k(h)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())+1;0!==a.ids.length&&d.hash||"SlateHTML"===d.type||(a.selectedHash=o),a.ids.splice((null!==(n=null!=e?e:a.selectedHash)&& void 0!==n?n:9999999)+1,0,o),a.entities[o]=j(i({},d),{iteration:0,hash:o}),a.dirty=a.dirty|| void 0===f||f}},bumpVersion:function(a){var b,c=a.entities[a.selectedHash];c&&(c.saveVersion=(null!==(b=c.saveVersion)&& void 0!==b?b:0)+1)},selectActive:function(a,b){var c=b.payload;a.selectedHash!==c&&(o.caseReducers.bumpVersion(a),a.selectedHash=c)},editToggle:function(a,b){var c=b.payload;a.selectedHash===c?(o.caseReducers.bumpVersion(a),a.selectedHash=void 0):a.selectedHash=c},remove:function(a,b){var c=b.payload;a.ids=a.ids.filter(function(a){return a!==c}),delete a.entities[c],a.dirty=!0,a.markdownDirty=!0},moveUp:function(a,b){var c=b.payload,d=a.ids.indexOf(c);if(-1!==d){var e,f,g=(e=a.ids.splice(d,1),f=1,function(a){if(Array.isArray(a))return a}(e)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(e,f)||k(e,f)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];a.ids.splice(d-1,0,g),a.dirty=!0,a.markdownDirty=!0}},addOnExistingHash:function(a,b){var c=b.payload,d=c.data,e=c.hash,f=a.entities[e];a.entities[e]=j(i({},d),{iteration:f.iteration,saveVersion:f.saveVersion,hash:e}),a.dirty=!0},updateContentState:{reducer:function(a,b){var c,e=b.payload,f=e.hash,g=e.contentUpdater,h=e.cb,j=void 0===h?function(){}:h,k=a.entities[f];k&&("function"==typeof g?k.content=null!==(c=g(k.content))&& void 0!==c?c:k.content:k.content=i({},k.content,g),k.contentID=(0,d.x0)(),null==j||j(),k.iteration++,a.dirty=!0,["MarkdownEditor","Columns"].includes(k.type)&&(a.markdownDirty=!0))},prepare:function(a,b,c){return{payload:{hash:a,contentUpdater:b,cb:c}}}},setDirtyBit:function(a){a.dirty=!0},setMarkdownDirtyBit:function(a){a.markdownDirty=!0},addViewerDirtyComp:function(a,b){var c=b.payload;a.viewerDirtyComps[c]=!0},resetDirtyBit:function(a){a.dirty=!1},resetMarkdownDirtyBit:function(a){a.markdownDirty=!1},removeViewerDirtyComp:function(a,b){var c=b.payload;delete a.viewerDirtyComps[c]},setRecentlyUsedWidgets:function(a,b){var c=b.payload.type,d=a.recentlyUsedWidgets,e=d.findIndex(function(a){return a===c});e>=0?(d.splice(e,1),d.unshift(c)):(d.pop(),d.unshift(c)),a.recentlyUsedWidgets=d},initRecentlyUsedWidgets:function(a,b){var c=b.payload.widgets;a.recentlyUsedWidgets=c,a.cleared=!1}}});b.ZP=o.reducer;var p=j(i({},o.actions),{moveDown:function(a){return function(b,c){var d=c().widgets.ids.indexOf(a)+1,e=c().widgets.ids[d];b(p.moveUp(e))}},load:function(a,b,c,d){return function(g,h){var i,j,k,l,o,q,s,t,u,v,w,x,y,z,A,B,C,D=null===(i=h().author)|| void 0===i?void 0:null===(j=i.collection)|| void 0===j?void 0:null===(k=j.instance)|| void 0===k?void 0:k.details,E=(null==D?void 0:D.is_plan)||(null==D?void 0:D.is_parent_plan),F=(null==D?void 0:D.is_standalone_module)&&!(null==D?void 0:D.is_global),G=null===(l=h().user)|| void 0===l?void 0:null===(o=l.info)|| void 0===o?void 0:null===(q=o.data)|| void 0===q?void 0:q.email,H=(null==G?void 0:G.endsWith("@educative.io"))&&!e.cUq.includes(G),I=(null===(t=null===(s=h().user)|| void 0===s?void 0:s.info.data)|| void 0===t?void 0:t.is_user_subscribed)&&(0,f.mg)(null===(u=h().user)|| void 0===u?void 0:u.info.data,"is_editor_enabled")&&(F||E)||d||H||(null===(v=h().userConfig.data)|| void 0===v?void 0:v.constants[e.zj2.ENABLE_NEW_EDITOR_B2C])==="true"&&!(null===(w=h().user)|| void 0===w?void 0:null===(x=w.info)|| void 0===x?void 0:null===(y=x.data)|| void 0===y?void 0:y.organization_id)||(null===(z=h().userConfig.data)|| void 0===z?void 0:z.constants[e.zj2.ENABLE_NEW_EDITOR_B2B])==="true"&&(null===(A=h().user)|| void 0===A?void 0:null===(B=A.info)|| void 0===B?void 0:null===(C=B.data)|| void 0===C?void 0:C.organization_id);if(!(null==a?void 0:a.length)&&b&&!c)return g(I?p.add({data:n,dirty:!1}):p.add({data:m}));var J=r(a,b);g(p.addAll({widgets:J,dirty:!1}))}},areViewerCompsDirty:function(){return function(a,b){var c;return Boolean(Object.keys(null!==(c=b().widgets.viewerDirtyComps)&& void 0!==c?c:{}).length)}}}),q=function(a){if(!a)return[];var b={},c={};return a.map(function(a){var b;return(null===(b=a.content)|| void 0===b?void 0:b.comp_id)&&(c[a.content.comp_id]=a.content.comp_id in c),a}).map(function(a){var d;if(null===(d=a.content)|| void 0===d?void 0:d.comp_id){var e=a.content.comp_id;if(b[e]=e in b?b[e]+1:1,c[e]||b[e]>1)return j(i({},a),{content:j(i({},a.content),{comp_id:"".concat(e,"-").concat(b[e])})})}return a})},r=function(a,b){var c;return null===(c=q(a))|| void 0===c?void 0:c.filter(function(a){var b,c;return!("TabbedCode"===a.type&&!(null===(b=a.content)|| void 0===b?void 0:null===(c=b.codeContents)|| void 0===c?void 0:c.length))}).map(function(a){var c,d;return b&&"WebpackBin"===a.type&&(null===(c=a.content)|| void 0===c?void 0:null===(d=c.dockerJob)|| void 0===d?void 0:d.android)?j(i({},a),{type:"Android"}):a})}},39917:function(a,b,c){c.d(b,{m:function(){return f}});var d,e=(0,c(62958).oM)({name:"widgetsWrapper",initialState:{},reducers:{set:function(a,b){return b.payload}}});b.Z=e.reducer;var f=e.actions},77349:function(a,b,c){c.d(b,{J:function(){return h}});var d=c(62958);function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var f={usercode:{newFile:null,requestedFile:null,saveFile:null,removedFile:null},testfiles:{newFile:null,requestedFile:null,saveFile:null,removedFile:null}},g=(0,d.oM)({name:"workspace",initialState:f,reducers:{openFile:function(a,b){var c=b.payload;a[c.dirName].newFile=c.newFile},clearOpenFile:function(a,b){var c=b.payload;a[c.dirName].newFile=f[c.dirName].newFile},requestFile:function(a,b){var c=b.payload;a[c.dirName].requestedFile=c.requestedFile},clearRequestFile:function(a,b){var c=b.payload;a[c.dirName].requestedFile=f[c.dirName].requestedFile},saveFileContent:function(a,b){var c=b.payload;a[c.dirName].saveFile=c.saveFile},clearSaveFileContent:function(a,b){var c=b.payload;a[c.dirName].saveFile=f[c.dirName].saveFile},removeFile:function(a,b){var c=b.payload;a[c.dirName].removedFile=c.removedFile},clearRemoveFile:function(a,b){var c=b.payload;a[c.dirName].removedFile=f[c.dirName].removedFile},reset:function(a,b){var c,d,g=b.payload;return c=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}({},a),d=null!=(d=e({},g.dirName,f[g.dirName]))?d:{},Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(d)).forEach(function(a){Object.defineProperty(c,a,Object.getOwnPropertyDescriptor(d,a))}),c}}});b.Z=g.reducer;var h=g.actions}}])
//# sourceMappingURL=reduxStore-87c27000cf78298f.js.map