"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97141],{97141:function(a,b,c){c.r(b),c.d(b,{default:function(){return al},getWorkToTotalLessonsMapping:function(){return ah},sanitizePathCompletionMaps:function(){return aj}});var d=c(20348),e=c(46367),f=c.n(e),g=c(60958),h=c(89703),i=c(17335),j=c(54825),k=c(76472),l=c(93705),m=c(9706),n=c(82172),o=c(20770),p=c(30623),q=c(3710),r=c(57698),s=c(131),t=c(32733),u=c(56890),v=c(30031),w=c(50187),x=c(73756),y=c(66226),z=c(30732),A=c(35483),B=c(22760),C=c(33157),D=c(90806),E=c(68467),F=c(83318);function G(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var H=function(a){var b=a.index;return(0,d.jsx)("div",{className:"bg-gray-100 border border-gray-500 border-solid dark:bg-gray-A400 flex flex-shrink-0 items-center justify-center rounded-full",style:{letterSpacing:"0.25px",width:"30px"},children:b+1})},I=function(a){var b=a.completionTime,c=void 0===b?null:b;if(!c)return(0,d.jsx)(d.Fragment,{});var e=c.split(" "),f=parseInt(null==e?void 0:e[0]),g=parseInt(null==e?void 0:e[2]);return(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(C.Z,{className:"fill-primary dark:fill-primary-lightP1 mr-2 flex-shrink-0"}),(0,d.jsxs)("span",{className:"text-sm font-normal",children:["Est. Completion Time: ",!isNaN(f)&&f>0&&"".concat(f," hours")," ",!isNaN(g)&&g>0&&"".concat(g," minutes")]})]})},J=function(a){var b=a.index,c=a.parentWorkType,e=a.title;return c===s.dLO.PLAN?(0,d.jsxs)("div",{className:"flex font-semibold items-start space-x-2 text-xl",children:[(0,d.jsx)(H,{index:b}),(0,d.jsx)("p",{className:"m-0",children:e})]}):(0,d.jsx)("p",{className:"font-bold m-0 text-base bg-gray-50 dark:bg-dark-90",style:{letterSpacing:"0.5px"},children:"".concat(b+1,". ").concat(e)})},K=function(a){var b=a.dataTestid,c=a.invertVisibleStatus,e=a.visible,f=a.visibleMapKey,g=function(a){a.preventDefault(),c(f)},h=e?r.Z:q.Z;return(0,d.jsx)(h,{className:"cursor-pointer dark:text-dark-contrastText flex-shrink-0 hover:bg-gray-100 dark:hover:text-primary-light dark:hover:bg-gray-A400 h-6 rounded-full select-none text-black w-6","data-testid":b,onClick:g})},L=function(a,b,c,d){var e,f;return a&&(!!(null===(e=a["".concat(b,"_").concat(c)])|| void 0===e?void 0:e[d])||!!(null===(f=a["".concat(b,"_").concat(c)])|| void 0===f?void 0:f.ALL_DONE))},M=function(a){var b=a.currentUrl,c=a.markAsCompleted,e=a.level,g=a.redirectUrl,h=a.title,i=a.isOptional,j=a.isStandaloneAssessment,k=a.isStandAloneProject,l=a.checklistLength,m=k||j,o=b===g;return(0,d.jsx)(f(),{href:g,passHref:!0,children:(0,d.jsx)("a",{className:"".concat(o?"bg-gray-200 dark:bg-gray-A400 ":"".concat(m?"bg-gray-100 dark:bg-dark-80 ":""),"dark:visited:text-dark-contrastText flex items-center leading-6 p-2 select-none space-x-2 visited:text-black ").concat(m?"py-4 my-1":""),style:{letterSpacing:"0.15px",paddingLeft:"".concat(32+24*e,"px")},children:(0,d.jsxs)("div",{className:"flex w-full",children:[(0,d.jsx)("div",{className:"".concat(m?"mt-px":"mt-1"),children:(0,d.jsx)(n.Circle,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){G(a,b,c[b])})}return a}({},c?{background:"bg-primary-success",border:"border-gray-600 border-solid border",size:"14px"}:{border:"border-gray-500 dark:border-gray-900 border",background:"border border-solid bg-white ".concat(o?"dark:bg-gray-900":"dark:bg-dark-90"),size:"14px"}))}),(0,d.jsxs)("div",{className:"flex justify-between w-full h-full items-center ml-2",children:[m?(0,d.jsxs)("div",{className:"flex flex-col -mt-px",children:[(0,d.jsxs)("span",{className:"flex",children:[j?(0,d.jsx)(z.default,{className:"h-4 w-4 fill-current text-black dark:text-dark-contrastText"}):(0,d.jsx)(B.Z,{className:"h-4 w-4 fill-current text-black dark:text-dark-contrastText"}),(0,d.jsx)("p",{className:"font-sans leading-5 m-0 ml-2 text-gray-A400 dark:text-dark-contrastText font-bold text-xs uppercase",style:{letterSpacing:"2.5px"},children:j?"Assessment":"Project"})]}),(0,d.jsx)("p",{className:"break-words font-bold leading-6 m-0 mt-2 text-base",style:{letterSpacing:"0.5px"},children:h})]}):(0,d.jsx)("p",{className:"break-words leading-6 m-0 text-sm",style:{letterSpacing:"0.15px"},children:h||s.Va9}),(0,d.jsxs)("div",{className:"flex gap-x-1",children:[!m&&i&&(0,d.jsx)("div",{className:"flex items-center justify-center bg-gray-100 dark:bg-dark-90 p-1 h-6 w-16 rounded-sm font-semibold text-gray-A200 dark:text-gray-700 text-xs tracking-wide border border-solid dark:border-gray-A200 ".concat(o?"bg-gray-200 dark:bg-dark-70 border-dark-contrastText":"bg-gray-100 dark:bg-dark-90 border-gray-200"),children:"Optional"}),!!l&&(0,d.jsx)(F.Z,{overlay:"This task has ".concat(l," subtask").concat(l>1?"s":""),position:s.ZJ9,overlayParentClasses:"ml-2",parentClasses:"h-6",trigger:"hover",children:(0,d.jsxs)("div",{className:"flex items-center justify-center text-gray-800 caption-text",children:[(0,d.jsx)(E.Z,{className:"fill-current mr-1 ml-2"}),l]})})]})]})]})})})},N=function(a){var b,c,e,f=a.completionMaps,g=a.assessmentProjectMaps,h=a.currentUrl,i=a.invertVisibleStatus,j=a.level,k=a.moduleAuthorId,l=a.moduleId,m=a.planAuthorId,n=a.planId,o=a.redirectUrl,p=a.visibleMap,q=a.title,r=a.workToTotalLessonsMap,v=a.isOptional,x=a.isParentOptional,y=a.isPath,z=a.estimatedTime,B=a.urlSlug,C=(0,u.ix)(function(a){return a.paths.moduleCategories.data||{}}),D=(C.planTitle,function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(C,["planTitle"])),E="".concat(k,"_").concat(l),F=D[E]||[],G=F.filter(function(a){return a.id!==t.s}),H=p[E];return(0,d.jsxs)("div",{className:"flex flex-col my-1",children:[(0,d.jsx)(O,{completionPercentage:Math.round(100*(Number(!!(null===(b=f[E])|| void 0===b?void 0:b.ALL_DONE))||Object.keys(null!==(c=f[E])&& void 0!==c?c:{}).filter(function(a){return!isNaN(Number(a))}).length/(r[E]||1))),currentUrl:h,hasContent:F.some(function(a){return!!a.pages.length}),invertVisibleStatus:i,level:j,moduleMapKey:E,moduleVisible:H,redirectUrl:o,title:q,isOptional:v||x,estimatedTime:z}),(0,d.jsx)("div",{className:"flex flex-col",children:!!H&&G.map(function(a,b){return(0,w.gA)(a.type)&&a.type!==s.j1J.COLLECTION_CATEGORY?(0,d.jsx)(P,{authorId:k,collectionId:l,completionMaps:f,assessmentProjectMaps:g,currentUrl:h,invertVisibleStatus:i,level:j,planAuthorId:m,planId:n,taskContent:{authorId:String(a.author_id),collectionId:String(a.collection_id),id:String(a.id),pageId:String(a.page_id),title:a.title,type:a.type,isParentOptional:v||x},visibleMap:p,workToTotalLessonsMap:r,workType:s.dLO.MODULE,isPath:y,urlSlug:B}):(0,d.jsx)(R,{authorId:k,categoryContent:{authorId:null,collectionId:null,id:null,pageId:null,pages:a.pages.map(function(a){return{authorId:a.author_id?String(a.author_id):null,collectionId:a.collection_id?String(a.collection_id):null,id:String(a.id),pageId:a.page_id?String(a.page_id):null,title:null!==(e=(0,A.hL)(F,a))&& void 0!==e?e:a.title,type:(0,w.gA)(a.type)?a.type:s.qen.COLLECTION_LESSON,isOptional:a.is_optional,isParentOptional:v||x,checklist_length:a.checklist_length}}),title:a.title,type:(0,w.gA)(a.type)?a.type:s.j1J.COLLECTION_CATEGORY},collectionId:l,completionMaps:f,currentUrl:h,index:b,invertVisibleStatus:i,level:j,parentWorkType:s.dLO.MODULE,planAuthorId:m,planId:n,visibleMap:p,workToTotalLessonsMap:r,isPath:y,urlSlug:B},a.id)})})]})},O=function(a){var b=a.completionPercentage,c=a.currentUrl,e=a.hasContent,g=a.invertVisibleStatus,h=a.level,i=a.moduleMapKey,j=a.moduleVisible,k=a.redirectUrl,m=a.title,o=a.isOptional,p=a.estimatedTime;return(0,d.jsx)(f(),{href:k,passHref:!0,children:(0,d.jsxs)("a",{className:"".concat(c===k?"bg-gray-200 dark:bg-dark-70 ":"bg-gray-100 dark:bg-dark-80 ","dark:visited:text-dark-contrastText dark:active:text-dark-contrastText flex flex-col justify-start p-4 space-y-2 visited:text-black ").concat(j&&"mb-2"),style:{paddingLeft:"".concat(32+24*h,"px")},children:[(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)(n.Learn,{height:"14px",width:"14px"}),(0,d.jsx)("p",{className:"font-bold leading-5 m-0 ml-2 text-xs",style:{letterSpacing:"2.5px"},children:"MODULE"})]}),(0,d.jsxs)("div",{className:"flex items-start justify-between",children:[(0,d.jsx)("p",{className:"font-bold m-0 mr-4 text-base",style:{letterSpacing:"0.5px"},children:m}),e&&(0,d.jsx)(K,{dataTestid:i,invertVisibleStatus:g,visible:j,visibleMapKey:i})]}),(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("div",{className:"flex items-center",children:b>0||0===b&&!p?(0,d.jsxs)(d.Fragment,{children:[b<100?(0,d.jsx)(l.Z,{counterClockwise:!0,progress:b,radius:10,strokeWidth:4}):(0,d.jsx)("div",{className:"rounded-full bg-success-dark w-6 h-6 flex items-center justify-center",children:(0,d.jsx)(D.Z,{width:"16px",height:"16px",fill:"white"})}),(0,d.jsx)("p",{className:"dark:text-dark-contrastText leading-6 m-0 ml-2 text-black text-sm",style:{letterSpacing:"0.15px"},children:"".concat(b<100?b+"% completed":"Completed")})]}):(0,d.jsx)(I,{completionTime:p})}),o&&(0,d.jsx)("div",{className:"flex items-center justify-center bg-gray-100 dark:bg-dark-90 p-1 h-6 w-16 rounded-sm font-semibold text-gray-A200 dark:text-gray-700 text-xs tracking-wide border border-solid dark:border-gray-A200 ".concat(c===k?"bg-gray-200 dark:bg-dark-70 border-dark-contrastText":"bg-gray-100 dark:bg-dark-90 border-gray-200"),children:"Optional"})]})]})})},P=function(a){var b,c,e,f,g,h=a.authorId,i=a.collectionId,j=a.completionMaps,l=a.assessmentProjectMaps,m=a.currentUrl,n=a.invertVisibleStatus,o=a.level,p=a.planAuthorId,q=a.planId,r=a.taskContent,t=a.visibleMap,u=a.workToTotalLessonsMap,x=a.workType,y=a.isPath,z=a.urlSlug,A=(0,w.FW)(r.type),B=r.type===s.RIu.STANDALONE_ASSESSMENT,C=r.type===s.RIu.PATH_EXTERNAL_ASSESSMENT,D=r.type===s.RIu.STANDALONE_PROJECT,E=r.type===s.RIu.PATH_EXTERNAL_PROJECT,F=r.type===s.j1J.PROJECT,G=r.type===s.j1J.ASSESSMENT,H=D||B,I=E||C||F||G,J=A?(0,v.Z)(r.authorId,r.collectionId,r.url_slug,!1,s.dLO.MODULE,p,q):(0,k.Z)(h,i,(0,w.nM)(r.type)&&r.id,(0,w.mz)(r.type)&&r.id,null,!1,z,!1,x,x===s.dLO.MODULE&&p,x===s.dLO.MODULE&&q).viewUrl.href;return A?(0,d.jsx)(N,{completionMaps:j,assessmentProjectMaps:l,currentUrl:m,invertVisibleStatus:n,level:o+1,moduleAuthorId:r.authorId,moduleId:r.collectionId,planAuthorId:p,planId:q,redirectUrl:J,visibleMap:t,title:r.title,workToTotalLessonsMap:u,isOptional:r.isOptional,isParentOptional:r.isParentOptional,isPath:y,estimatedTime:r.estimatedTime,urlSlug:r.url_slug}):(0,d.jsx)(M,{currentUrl:m,markAsCompleted:H||I?(b=l,c=r.authorId,e=r.collectionId,f=r.pageId.toString(),b&&b["".concat(c,"_").concat(e,"_").concat(f)]===s.QVI.COMPLETED):L(j,h,i,r.id),level:o,redirectUrl:H?(0,k.Z)(r.authorId,r.collectionId,B?r.pageId:null,null,D?r.pageId:null,!1,null,!1,s.dLO.MODULE,h,i).viewUrl.href:I?(g=x===s.dLO.PATH,(0,k.Z)(g?p:h,g?q:i,C||G?r.id:null,null,E||F?r.id:null,!1,null,!1,g?s.dLO.PATH:s.dLO.MODULE,g?null:p,g?null:q).viewUrl.href):J,title:r.title,isOptional:r.isOptional,isStandaloneAssessment:B||C||G,isStandAloneProject:D||E||F,checklistLength:r.checklist_length})},Q=function(a){var b=a.connectData,c=a.is_plan_assigned,e=a.organizationId,f=a.planAuthorId,g=a.planId,h=(0,u.TL)(),i=null==b?void 0:b.connect_info.filter(function(a){return a.status===s.BMk.PENDING}),j=null==i?void 0:i.map(function(a){return{image:a.contact_image_url,name:a.full_name}});return b&&(0,d.jsxs)("div",{className:"flex pl-6 pr-4 py-4 bg-gray-100 dark:bg-dark-80 border-gray-200 dark:border-gray-A700 border-solid border-0 border-b border-t cursor-pointer my-1",onClick:function(){h(x.n.show(y.L0,{orgId:e,authorId:f,planId:g,data:b,disabled:!c},"w-full h-full sm:h-44 sm:-mt-52 sm:w-120"))},children:[(0,d.jsx)(p.Z,{className:"text-primary dark:text-primary-lightP1"}),(0,d.jsxs)("div",{className:"flex flex-col flex-grow pl-2",children:[(0,d.jsx)("h6",{className:"m-0 text-gray-A400 dark:text-dark-contrastText",children:"Connects This Week"}),(null==i?void 0:i.length)?(0,d.jsxs)("div",{className:"flex justify-between flex-grow mt-3 text-base",children:[(0,d.jsxs)("div",{children:[i.length," connects to go "]}),(0,d.jsx)(m.Z,{users:j})]}):(0,d.jsxs)("div",{className:"flex justify-start mt-3 text-primary-success",children:[(0,d.jsx)(o.Z,{className:"fill-current"}),(0,d.jsx)("p",{className:"text-base m-0 ml-2",children:"Completed"})]})]})]})},R=function(a){var b=a.authorId,c=a.categoryContent,e=a.connectData,f=a.is_plan_assigned,g=a.collectionId,h=a.completionMaps,i=a.assessmentProjectMaps,j=a.currentUrl,k=a.index,l=a.invertVisibleStatus,m=a.level,n=a.parentWorkType,o=a.organizationId,p=a.planAuthorId,q=a.planId,r=a.visibleMap,t=a.workToTotalLessonsMap,u=a.isPath,v=a.urlSlug,w="".concat(b,"_").concat(g,"_").concat(k),x=r[w],y=!c.title||c.title===s.V4B;return n!==s.dLO.PATH?(0,d.jsxs)("div",{className:"flex flex-col",children:[!y&&(0,d.jsxs)("div",{className:"flex items-center justify-between p-4",style:{paddingLeft:"".concat(n===s.dLO.PLAN?24+16*m:32+24*m,"px")},children:[(0,d.jsx)(J,{index:k,parentWorkType:n,title:c.title}),(!!c.pages.length||e)&&(0,d.jsx)(K,{dataTestid:w,invertVisibleStatus:function(a){return l(a)},visible:x,visibleMapKey:w})]}),(x||y)&&(0,d.jsxs)(d.Fragment,{children:[e&&(0,d.jsx)(Q,{connectData:e,is_plan_assigned:void 0!==f&&f,organizationId:o,planAuthorId:p,planId:q}),c.pages.map(function(a,c){return(0,d.jsx)(P,{authorId:b,collectionId:g,completionMaps:h,assessmentProjectMaps:i,currentUrl:j,invertVisibleStatus:function(a){return l(a)},level:m,planAuthorId:p,planId:q,taskContent:a,visibleMap:r,workToTotalLessonsMap:t,workType:n,isPath:u,urlSlug:v},a.id)})]})]}):(0,d.jsx)("div",{className:"flex flex-col",children:(0,d.jsx)(P,{authorId:b,collectionId:g,completionMaps:h,assessmentProjectMaps:i,currentUrl:j,invertVisibleStatus:function(a){return l(a)},level:n===s.dLO.PLAN?m+1:m,planAuthorId:p,planId:q,taskContent:c,visibleMap:r,workToTotalLessonsMap:t,workType:n,isPath:u,urlSlug:v},c.id)})},S=R,T=c(82933),U=c(99051),V=c(9914),W=c(75653),X=c(59213),Y=c(40106);function Z(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function $(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){$(a,b,c[b])})}return a}function aa(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function ab(a,b){if(null==a)return{};var c,d,e=ac(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function ac(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function ad(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(i){h=!0,d=i}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||ae(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(a,b){if(a){if("string"==typeof a)return Z(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Z(a,b)}}var af=function(a){var b=a.planLink;return(0,d.jsx)(f(),{href:b,passHref:!0,children:(0,d.jsxs)("a",{className:"dark:hover:bg-gray-A400 flex flex-row font-bold hover:bg-gray-buttonHover items-center m-0 p-4 pl-6 select-none w-full",style:{letterSpacing:"0.35px"},children:[(0,d.jsx)(j.Z,{className:"text-gray-500 fill-current mr-4"}),(0,d.jsx)("span",{children:"Back to Path Home"})]})})},ag=function(a){var b=a.completionPercentage,c=void 0===b?0:b;return(0,d.jsxs)("div",{className:"flex flex-col px-6 space-y-1 mt-3.5 !mb-4",children:[(0,d.jsx)("p",{className:"font-semibold leading-5 m-0 text-xs",style:{letterSpacing:"0.5px"},children:"".concat(Math.round(c),"% completed")}),(0,d.jsx)(W.Z,{percentCompleted:c})]})},ah=function(a){a.planTitle,a.connects,a.is_assigned,a.optionalItems,a.optionalItemsCount;var b=ab(a,["planTitle","connects","is_assigned","optionalItems","optionalItemsCount"]);return Object.entries(null!=b?b:{}).reduce(function(a,b){var c,d,e=ad(b,2),f=e[0],g=e[1];return aa(_({},a),$({},f,null!==(d=null===(c=null==g?void 0:g.filter(function(a){return(!(0,w.gA)(a.type)||a.type===s.j1J.COLLECTION_CATEGORY)&&a.id!==t.s}))|| void 0===c?void 0:c.reduce(function(a,b){var c;return a+(null===(c=b.pages)|| void 0===c?void 0:c.filter(function(a){return!(0,w.gA)(a.type)||(0,w.mz)(a.type)}).length)},0))&& void 0!==d?d:0))},{})},ai=function(a){var b=a.planLink,c=a.planTitle;return(0,d.jsx)(f(),{href:b,passHref:!0,children:(0,d.jsx)("a",{className:"block dark:hover:text-primary-light font-semibold hover:text-primary m-0 px-6 select-none text-xl",style:{letterSpacing:"0.25px"},children:c})})},aj=function(a,b,c,d,e){var f={},g=0,h=null!=e?e:0;a&&b&&(f=Object.entries(a).reduce(function(a,e){var f=ad(e,2),i=f[0],j=f[1],k=ad(i.split("_"),3),l=k[1],m=k[2],n="".concat(l,"_").concat(m),o=b[n],p=!j.ALL_DONE;return(null==d?void 0:d.includes(n))||0!==h||(g+=Number(!p)*c[n]),a[n]=Object.entries(j).reduce(function(a,b){var c,e,f=ad(b,2),i=f[0],j=f[1],k=Number(i),l=(c=k,!!(null==(e=o)?void 0:e.filter(function(a){return!(0,w.gA)(a.type)||a.type===s.j1J.COLLECTION_CATEGORY}).find(function(a){return a.pages.find(function(a){return String(a.id)===String(c)})})));return j&&l&&(0!==h||p&&0===h)&&!((null==d?void 0:d.includes(n))||(null==d?void 0:d.includes("".concat(n,"_").concat(i))))&&g++,(isNaN(k)||l)&&j&&(a[i]=j),a},{}),a},{}));var i=Object.values(c).reduce(function(a,b){return a+b},0)-h;return{sanitizedMaps:f,completionPercentage:i?100*g/i:0}},ak=function(a){var b;return a&&1===a.length&&a[0].type===s.j1J.COLLECTION_CATEGORY&&"__default"===a[0].title?null===(b=a[0])|| void 0===b?void 0:b.pages:a},al=function(a){var b,c,e,f,j=a.isParentPlan,k=a.isPlan,l=a.planAuthorId,m=a.planId,n=a.pathSlug,o=a.moduleAuthorId,p=a.moduleCollectionId,q=a.pageId,r=(0,u.TL)(),x=(0,g.useRouter)(),y=ad(h.useState({showSidebarCaret:!1,stateUpdatedOnNavigation:!1}),2),z=y[0],A=y[1],B=(0,u.ix)(function(a){return a.paths.moduleCategories.data||{}}),C=B.planTitle,D=B.connects,E=B.is_assigned,F=B.optionalItems,G=B.optionalItemsCount,H=ab(B,["planTitle","connects","is_assigned","optionalItems","optionalItemsCount"]),I=(0,u.ix)(function(a){return a.paths.moduleCategories.loaded}),J=(0,u.ix)(function(a){return a.paths.moduleCategories.loading}),K=(0,u.ix)(function(a){return a.paths.pathCompletion.data}),L=(0,u.ix)(function(a){return a.paths.pathCompletion.loaded}),M=(0,u.ix)(function(a){return a.paths.pathCompletion.loading}),N=(0,u.ix)(function(a){return a.user.info.data}),O=(0,u.ix)(function(a){return!!a.user.info.loaded||a.user.info.loggedOut}),P=(0,u.ix)(function(a){var b,c;return null===(b=a.author.collection.instance)|| void 0===b?void 0:null===(c=b.details)|| void 0===c?void 0:c.organization_id}),Q=x.asPath.split("?")[0],R=I&&!J,W=L&&!M,Z=H||{},ac=k||j?Z["".concat(l,"_").concat(m)]:ak(Z["".concat(l,"_").concat(m)]),ae=(0,v.Z)(l,m,null,!1,j?s.dLO.PLAN:s.dLO.PATH),al=ah(Z),am=aj(null==K?void 0:K.maps,Z,al,F,G);h.useEffect(function(){A(function(a){return aa(_({},a),{showSidebarCaret:!0})})},[]),h.useEffect(function(){R||r(T.W.load(l,m,!1,!0))},[R]),h.useEffect(function(){!W&&R&&O&&(null==N?void 0:N.user_id)&&r(U.J.load(l,m,JSON.stringify(ac),null,null))},[W,R,O]),h.useEffect(function(){if(R){var a=document.querySelector('[href="'.concat(Q,'"]'));if(a){var b=a.getBoundingClientRect();b.top+b.height>window.innerHeight&&a.scrollIntoView()}}},[R,z.stateUpdatedOnNavigation]);var an=function(){return x.query.courseUrlSlug?"".concat(o||l,"/").concat(p||m).concat(q?"/".concat(q):""):Q};return h.useEffect(function(){R&&A(function(a){return aa(_({},a,Object.entries(Z).reduce(function(a,b){var c=ad(b,2),d=c[0];return _({},a,c[1].reduce(function(a,b,c){var e;return aa(_({},a),($(e={},d,an().includes(d.replace("_","/"))),$(e,"".concat(d,"_").concat(c),b.pages.some(function(a){return an().includes((0,w.FW)(a.type)||(0,w.g6)(a.type)||(0,w.qq)(a.type)?"".concat(a.author_id,"/").concat(a.collection_id):"".concat(d.replace("_","/"),"/").concat(a.id))})),e))},{}))},{})),{stateUpdatedOnNavigation:!a.stateUpdatedOnNavigation})})},[R,Q]),(0,d.jsx)(X.Z,{sidebarClass:"ed-grid-sidebar2",className:"bg-gray-50 dark:bg-dark-90 flex flex-col",mainSidebar:!1,sidebarType:Y.mQ.PLAN,children:(0,d.jsxs)("div",{className:"scrollbar overflow-y-auto flex flex-col",children:[(0,d.jsx)(af,{planLink:ae}),(0,d.jsx)(V.Z,{className:"w-full"}),R?(0,d.jsxs)("div",{className:"no-scrollbar py-4",children:[(0,d.jsx)(ai,{planLink:ae,planTitle:C}),(0,d.jsx)(ag,{completionPercentage:am.completionPercentage}),null===(b=null==ac?void 0:ac.filter(function(a){return a.id!==t.s}))|| void 0===b?void 0:b.map(function(a,b){return(0,d.jsx)(S,{authorId:l,categoryContent:{authorId:j?null:a.author_id,collectionId:j?null:a.collection_id,id:j?null:a.id,pageId:String(a.page_id),pages:j||a.type===s.j1J.COLLECTION_CATEGORY?a.pages.map(function(a){return{authorId:String(a.author_id),collectionId:String(a.collection_id),id:String(a.id),pageId:a.page_id?String(a.page_id):null,title:null!==(c=a.instance_page_title)&& void 0!==c?c:a.title,type:a.type,isOptional:a.is_optional,checklist_length:null!==(e=null==a?void 0:a.checklist_length)&& void 0!==e?e:null,url_slug:a.course_url_slug,estimatedTime:a.estimatedTime}}):null,title:a.title,type:a.type,estimatedTime:null!==(f=a.estimatedTime)&& void 0!==f?f:null,url_slug:a.course_url_slug},connectData:null==D?void 0:D.find(function(b){return b.week_id===a.id}),is_plan_assigned:E,organizationId:P,collectionId:m,completionMaps:am.sanitizedMaps,assessmentProjectMaps:null==K?void 0:K.assessment_project_maps,currentUrl:Q,index:b,invertVisibleStatus:function(a){return A(function(b){return aa(_({},b),$({},a,!b[a]))})},level:0,parentWorkType:j||k?s.dLO.PLAN:s.dLO.PATH,planAuthorId:l,planId:m,visibleMap:z,workToTotalLessonsMap:al,isPath:!j,urlSlug:n},a.id)})]}):(0,d.jsx)(i.Z,{className:"mt-4"})]})})}},93705:function(a,b,c){var d=c(20348),e=function(a,b,c,d){var e=c/d*(d-b);return a?-1*e:e},f=function(a){var b,c,f,g=a.radius,h=void 0===g?100:g,i=a.progress,j=void 0===i?0:i,k=a.steps,l=a.rotate,m=a.strokeWidth,n=void 0===m?2:m,o=a.strokeColor,p=a.trackStrokeColor,q=a.counterClockwise,r=void 0!==q&&q,s=a.children,t=void 0===s?null:s,u=2*h+n,v=2*Math.PI*h;return(0,d.jsxs)("div",{className:"flex justify-center relative",style:{width:"".concat(u,"px"),height:"".concat(u,"px")},children:[(0,d.jsxs)("svg",{className:"absolute",width:u,height:u,viewBox:"0 0 ".concat(u," ").concat(u),style:{transform:"rotate(".concat(void 0===l?-90:l,"deg)")},children:[(0,d.jsx)("circle",{cx:u/2,cy:u/2,r:h,fill:"none",className:"".concat(void 0===p?"text-gray-300 dark:text-gray-900":p," stroke-current"),strokeWidth:n,strokeDasharray:"".concat(v,", ").concat(v)}),(0,d.jsx)("circle",{cx:u/2,cy:u/2,r:h,fill:"none",className:"".concat(void 0===o?"text-primary-success":o," stroke-current"),strokeWidth:n,strokeDasharray:(b=r,c=j,f=v,b?"".concat(f*((c||100)/100),", ").concat(f):"".concat(f,", ").concat(f)),strokeDashoffset:e(r,j,v,void 0===k?100:k),strokeLinecap:"square"})]}),t&&(0,d.jsx)("span",{className:"font-semibold text-2xl leading-9",children:t})]})};b.Z=f},9706:function(a,b,c){var d=c(20348),e=c(42802),f=function(a){var b=a.users,c=a.enableTeamMemberProfileLink,f=void 0!==c&&c,g=a.maxThreshold,h=void 0===g?3:g,i=b.length>h?b.slice(0,h-1):b,j=b.length-i.length;return b?(0,d.jsxs)("div",{className:"flex",children:[i.map(function(a,b){var c;return(0,d.jsx)("div",{className:"flex w-8 h-8 ".concat(b?"-ml-2.5":""),style:{zIndex:1*b},children:(0,d.jsx)(e.Z,{size:32,image:a.image,name:a.name,id:null===(c=a.id)|| void 0===c?void 0:c.toString(),className:"border-2 border-solid border-white dark:border-dark",isLetterAvatar:!0,enableTeamMemberProfileLink:f})})}),b.length>h&&(0,d.jsx)("div",{className:"flex w-8 h-8 -ml-2.5",style:{zIndex:2},children:(0,d.jsx)("div",{className:"flex items-center justify-center rounded-full flex-shrink-0 bg-primary dark:bg-dark-60 border-2 border-solid border-primary-lightP1 ",style:{width:32,height:32},children:(0,d.jsxs)("p",{className:"m-0 capitalize text-white dark:text-dark-contrastText",style:{fontSize:12,lineHeight:"32px"},children:["+",j]})})})]}):null};b.Z=f},68467:function(a,b,c){var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({width:24,height:24,viewBox:"0 0 24 24",stroke:"currentColor",className:"fill-current",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=f.createElement("g",{clipPath:"url(#clip0_86_9282)"},f.createElement("path",{d:"M22 7h-9v2h9V7Zm0 8h-9v2h9v-2ZM5.5 11 2 7.5 3.4 6l2.1 2L9.8 4l1.4 1.4L5.5 11Zm0 8L2 15.5 3.4 14l2.1 2L9.8 12l1.4 1.4L5.5 19Z",fill:"current"}))),e||(e=f.createElement("defs",null,f.createElement("clipPath",{id:"clip0_86_9282"},f.createElement("path",{d:"M0 0h24v24H0z"})))))};b.Z=h},90806:function(a,b,c){var d,e=c(89703);function f(){return(f=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var g=function(a){return e.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"current",xmlns:"http://www.w3.org/2000/svg"},a),d||(d=e.createElement("path",{d:"m8.795 15.875-4.17-4.17-1.42 1.41 5.59 5.59 12-12-1.41-1.41-10.59 10.58Z"})))};b.Z=g}}])
//# sourceMappingURL=97141-af8cc7f7e2a2288a.js.map