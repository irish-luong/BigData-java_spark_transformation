(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71875],{47088:function(a,b,c){"use strict";c.d(b,{Dx:function(){return o},bU:function(){return p},dF:function(){return q}});var d=c(20348),e=c(39158),f=c(131);function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function i(){var a=h(["\n      margin-bottom: -28px;\n    "]);return i=function(){return a},a}function j(){var a=h(["\n    .snapshot-enter {\n      opacity: 0.5 !important;\n      height: 0;\n    }\n\n    .snapshot-enter.snapshot-enter-active {\n      opacity: 1 !important;\n      height: ","px;\n      transition: 0.5s ease-in;\n    }\n\n    .snapshot-exit {\n      opacity: 1 !important;\n      height: ","px;\n    }\n\n    .snapshot-exit.snapshot-exit-active {\n      opacity: 0.5 !important;\n      height: 0;\n      transition: 0.5s ease-in;\n    }\n  "]);return j=function(){return a},a}function k(){var a=h(["\n  margin-top: 7px;\n\n  ","\n\n  ","\n"]);return k=function(){return a},a}function l(){var a=h(["\n  svg {\n    margin-bottom: -2px;\n  }\n"]);return l=function(){return a},a}function m(){var a=h(["\n  display: block;\n  margin-left: 21px;\n"]);return m=function(){return a},a}var n=e.ZP.div.withConfig({componentId:"sc-dcac9d97-0"})(k(),function(a){return a.isFirst&&a.isExpanded&&(0,e.iv)(i())},function(a){return(0,e.iv)(j(),f.zbW*a.totalSnapshots,f.zbW*a.totalSnapshots)}),o=function(a){var b,c,e=a.children,f=function(a,b){if(null==a)return{};var c,d,e=function a(b,c){if(null==b)return{};var d,e,f={},g=Object.keys(b);for(e=0;e<g.length;e++)d=g[e],c.indexOf(d)>=0||(f[d]=b[d]);return f}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["children"]);return(0,d.jsx)("div",(b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){g(a,b,c[b])})}return a}({className:"cursor-pointer w-max hover:text-primary dark:hover:text-primary-light"},f),c=(c={children:e},c),Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b))},p=e.ZP.span.withConfig({componentId:"sc-dcac9d97-1"})(l()),q=e.ZP.span.withConfig({componentId:"sc-dcac9d97-2"})(m());b.ZP=n},65279:function(a,b,c){"use strict";c.d(b,{Z:function(){return aP}});var d,e,f,g,h,i,j=c(41344),k=c.n(j),l=c(20348),m=c(51840),n=c(30980),o=c(39290),p=c(28961),q=c(89703),r=c(25524),s=c(89500),t=c(55157);function u(){return(u=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var v=function(a){return q.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-plus-circle"},a),d||(d=q.createElement("circle",{cx:12,cy:12,r:10})),e||(e=q.createElement("line",{x1:12,y1:8,x2:12,y2:16})),f||(f=q.createElement("line",{x1:8,y1:12,x2:16,y2:12})))};function w(){return(w=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var x=function(a){return q.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-minus-circle"},a),g||(g=q.createElement("circle",{cx:12,cy:12,r:10})),h||(h=q.createElement("line",{x1:8,y1:12,x2:16,y2:12})))},y=c(69327),z=c(57567),A=c(47088),B=c(82336),C=c.n(B),D=function(a){return(0,l.jsx)("span",{className:"cursor-pointer text-primary dark:text-primary-light hover:underline no-underline",onClick:function(b){b.stopPropagation(),a.clickHandler()},title:a.description,children:a.text})},E=D,F=c(17920),G=c(86758),H=c(10090);function I(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function J(a){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function K(a,b){return(K=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function L(a){return function(a){if(Array.isArray(a))return I(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||M(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(a,b){if(a){if("string"==typeof a)return I(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return I(a,b)}}var N=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&K(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=J(b);if(c){var h=J(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(a){var b;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),(b=d.call(this,a)).snapshotClick=function(){var a=b.props,c=a.onSnapshotChange,d=a.snapshotKey,e=a.selected;e||c({key:d})},b.updateTitle=function(a){var c=b.props.index;b.props.saveTitle(a,c,b.state.internalTitle).then(function(a){a||b.setState({editRevisionName:!1,internalTitle:b.props.title})})},b.handleInputSubmit=function(a){a.keyCode===C().codes.enter&&b.updateTitle(a),a.keyCode===C().codes.esc&&b.setState({editRevisionName:!1,internalTitle:b.props.title})},b.handleInternalTitleChange=function(a){b.setState({internalTitle:a.target.value})},b.state={editRevisionName:!1,isNamedRevision:null!==a.title&&""!==a.title,internalTitle:a.title,focusInput:q.createRef(),dropDownOpen:!1},b}var f=e.prototype;return f.componentDidUpdate=function(a,b){a.title!==this.props.title&&this.setState({internalTitle:this.props.title,editRevisionName:!1,isNamedRevision:null!==this.props.title})},f.menuOptions=function(){var a=this,b=[],c=this.props,d=c.restoreSnapshot,e=c.snapshotKey,f=c.selected,g=this.state,h=g.editRevisionName,i=g.isNamedRevision,j=g.focusInput;b=h?L(b).concat([{title:"Submit Title",clickEvent:this.updateTitle},]):i?L(b).concat([{title:"Edit Revision Name",clickEvent:function(){a.setState({editRevisionName:!0},function(){j.current.focus()})}},]):L(b).concat([{title:"Name This Revision",clickEvent:function(){a.setState({editRevisionName:!0},function(){j.current.focus()})}},]),d&&(b=L(b).concat([{title:"Restore This Verison",clickEvent:function(){d(f?null:e)}},]));var k=b.map(function(a){var b=a.title,c=a.clickEvent;return(0,l.jsx)("li",{className:"hover:bg-gray-100 dark:hover:bg-dark-80 w-full h-12 pt-4 pl-3",onClick:c,children:b},b)});return k},f.render=function(){var a=this,b=this.props,c=b.createdTime,d=b.isDisabled,e=b.authorName,f=b.authorId,g=b.onCollaboratorClick,h=b.index,i=b.isLast,j=b.revisionId,k=this.state,m=k.editRevisionName,n=k.internalTitle,o=k.isNamedRevision,p=k.focusInput,q=k.dropDownOpen,r="revision_".concat(j,"_snapshot_").concat(h+1);return(0,l.jsxs)("div",{className:"flex -mt-4",children:[(0,l.jsx)("div",{"data-testid":"snapshot",onClick:this.snapshotClick,className:"mb-6 pl-3 cursor-pointer w-64 mr-2 hover:text-primary dark:hover:text-primary-light border-l-0 ".concat(d?"text-gray-800 dark:text-gray-600":""),children:(0,l.jsxs)("div",{className:"font-normal",children:[m&&(0,l.jsx)("input",{type:"text",value:n,onChange:this.handleInternalTitleChange,onKeyDown:this.handleInputSubmit,onBlur:this.updateTitle,placeholder:"Title",maxLength:20,ref:p,className:"outline-none mt-2 rounded border-primary"}),!m&&o&&(0,l.jsx)("div",{children:(0,l.jsx)("h6",{children:n})}),(0,l.jsx)("div",{className:"flex",children:(0,l.jsxs)("span",{id:r,className:"font-normal",children:[(0,l.jsx)(F.Z,{format:"ddd, MMM D, YYYY",timestamp:c}),"\xa0",(0,l.jsx)("span",{className:"ml-auto",children:(0,l.jsx)(F.Z,{format:"h:mm a",timestamp:c})})]})}),e?(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:"font-normal",children:(0,l.jsx)(E,{clickHandler:function(){g(f)},description:"Only show ".concat(e,"'s"),text:e})})}):null]})}),(0,l.jsx)("div",{children:(0,l.jsxs)(G.zx,{onRootClose:function(){a.setState({dropDownOpen:!1})},children:[(0,l.jsx)("button",{className:"hover:bg-gray-100 dark:hover:bg-dark-90 dark:bg-dark border-none rounded-none w-12 h-12 ".concat(q?"shadow-inner bg-gray-100 dark:bg-dark-90":"bg-transparent"),onClick:function(){a.setState({dropDownOpen:!q})},children:(0,l.jsx)(H.Z,{className:"text-black dark:text-dark-contrastText"})}),(0,l.jsx)("ul",{className:"relative",children:(0,l.jsx)("div",{className:"bg-white shadow-md dark:bg-dark-90 border-none rounded-none py-0 w-40 list-none absolute left-auto right-0 ".concat(i?"bottom-12":"bottom-auto"," ").concat(q?"flex":"tailwind-hidden"),children:(0,l.jsx)("div",{className:"text-xs w-full font-semibold tracking-wide cursor-pointer",children:this.menuOptions()})})})]})})]})},e}(q.Component),O=c(8519),P=c(2143);function Q(){return(Q=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var R=function(a){return q.createElement("svg",Q({width:12,height:12,xmlns:"http://www.w3.org/2000/svg"},a),i||(i=q.createElement("circle",{cx:140.5,cy:357,r:5,transform:"translate(-135 -351)",stroke:"#000"})))};function S(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function T(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function U(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function V(a){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function W(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){U(a,b,c[b])})}return a}function X(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function Y(a,b){return(Y=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var Z=function(a){var b,c=a.author,d=c.articleRevisions,e=c.collection,f=(0,P.H)(d.data).firstSnapshot;return{store:{revisions:d.data,firstSnapshot:f,isCollaborativePage:null!==(b=null==e?void 0:e.use_collaborative_editor)&& void 0!==b&&b}}},$=function(a){return{actions:X(W({},(0,s.DE)({loadArticleSnapshots:O.zD,updateTitle:O._F,saveTitle:O.hh},a)),{dispatch:a})}},_=(0,r.$j)(Z,$),aa=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&Y(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=V(b);if(c){var h=V(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:S(d)});function e(){!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.loadMore=function(){var b=a.props,c=b.actions,d=b.authorId,e=b.collectionId,f=b.pageId,g=b.revisionId,h=b.collaboratorWhitelist,i=b.documentType;c.loadArticleSnapshots(d,e,f,i,g,h)},a.getCurrentRevision=function(){var c,d,e;return null!==(b=null===(c=a.props.store)|| void 0===c?void 0:null===(d=c.revisions)|| void 0===d?void 0:null===(e=d.revisions)|| void 0===e?void 0:e[a.props.revisionId])&& void 0!==b?b:null},a.handleTitleChange=function(b,c){var d,e=a.props.actions,f=a.getCurrentRevision(),g=(null==f?void 0:null===(d=f.snapshots)|| void 0===d?void 0:d.map(function(a,d){return d===c?X(W({},a),{title:b}):a}))||null;e.updateTitle({snapshots:g,revisionId:a.props.revisionId})};var a,b,c,f,g=S(a);return a.handleTitleUpdate=(f=(c=k().mark(function a(b,c,d){var e,f,h,i,j,l;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return f=(e=g.props).actions,h=e.store.isCollaborativePage,j=null==(i=g.getCurrentRevision())?void 0:i.snapshots,a.next=5,f.saveTitle(j[c].key,d,!h).then(function(a){a&&g.handleTitleChange(d,c)});case 5:return l=a.sent,a.abrupt("return",l);case 7:case"end":return a.stop()}},a)}),function(){var a=this,b=arguments;return new Promise(function(d,e){var f=c.apply(a,b);function g(a){T(f,d,e,g,h,"next",a)}function h(a){T(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a,b,c){return f.apply(this,arguments)}),a}var f=e.prototype;return f.componentDidMount=function(){var a=this.getCurrentRevision();if(!a||!a.snapshots){var b=this.props,c=b.actions,d=b.authorId,e=b.collectionId,f=b.pageId,g=b.revisionId,h=b.collaboratorWhitelist,i=b.documentType;c.loadArticleSnapshots(d,e,f,i,g,h)}},f.render=function(){var a=this,b=this.props,c=b.revisionId,d=b.selectedSnapshot,e=b.onSnapshotChange,f=b.isFirstRevision,g=b.onCollaboratorClick,h=b.store.isCollaborativePage,i=this.getCurrentRevision(),j=null==i?void 0:i.snapshots,k=null==i?void 0:i.hasMore,m=function(b,i){var k,m;return(0,l.jsxs)("div",{className:"border-0 border-black border-l border-solid dark:border-gray-A100 flex flex-nowrap items-start justify-start last:border-transparent mr-4 overflow-visible py-3",children:[(0,l.jsx)("div",{className:"flex-shrink-0 -ml-1.5 -mt-4 w-4",children:(0,l.jsx)(R,{className:"".concat(d.key===b.key?"text-black dark:text-dark-contrastText":"text-white dark:text-gray-900"," fill-current")})}),(0,l.jsx)(N,{createdTime:b.created,snapshotKey:b.key,authorId:b.updated_by_id,authorName:b.updated_by,selected:d.key===b.key,isDisabled:0===i&&f,onSnapshotChange:e,onCollaboratorClick:g,title:b.title,saveTitle:a.handleTitleUpdate,index:i,restoreSnapshot:(null===(k=a.props.store)|| void 0===k?void 0:null===(m=k.firstSnapshot)|| void 0===m?void 0:m.key)!==b.key||h?a.props.restoreSnapshot:null,isLast:i===j.length-1&&0!==i,revisionId:c},b.key)]},i)};return j?0===j.length?(0,l.jsx)("div",{className:"text-sm ml-10 italic text-gray-800 dark:text-gray-600",style:{marginTop:"5px"},children:"(No snapshots)"}):(0,l.jsx)("div",{className:"flex-auto overflow-y-auto max-h-full list-none px-0 pb-0 pt-6",style:{overflowY:this.props.transitionCompleted?"visible":"auto",margin:"3px 15px 0px 10px"},children:(0,l.jsxs)("div",{className:"flex flex-col flex-shrink-0 mb-4",id:"revision_".concat(c,"_snapshots"),children:[j.map(m),k&&(0,l.jsx)("div",{className:"mb-4 ml-4",children:(0,l.jsx)("button",{className:"outlined-default py-2 m-2",onClick:this.loadMore,children:"Show More"})})]})}):(0,l.jsx)("div",{id:"revision_".concat(c,"_snapshots"),className:"flex-auto overflow-y-auto max-h-full list-none pb-2 pt-0 m-0",style:{paddingLeft:"22px"},children:(0,l.jsx)("div",{className:"mt-2.5",children:(0,l.jsx)(t.Z,{size:30})})})},e}(q.Component),ab=_(aa),ac=c(55606);function ad(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ae(a){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function af(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ad(a,b,c[b])})}return a}function ag(a,b){return b=null!=b?b:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))}),a}function ah(a,b){return(ah=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var ai=function(a){return{store:{revisions:a.author.articleRevisions.data}}},aj=(0,r.$j)(ai),ak=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ah(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=ae(b);if(c){var h=ae(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(a){var b,c;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),(b=d.call(this,a)).toggleExpand=function(){b.state.expanded?b.setState({transitionCompleted:!1},function(){b.setState(function(a){return ag(af({},a),{expanded:!1})})}):b.setState(function(a){return ag(af({},a),{expanded:!0})})},b.getSnapshotsListLength=function(){var a,d,e,f;return null!==(c=null===(a=b.props.store.revisions)|| void 0===a?void 0:null===(d=a.revisions)|| void 0===d?void 0:null===(e=d[b.props.revisionId])|| void 0===e?void 0:null===(f=e.snapshots)|| void 0===f?void 0:f.length)&& void 0!==c?c:0},b.state={expanded:!!a.expand,transitionCompleted:!!a.expand},b}return e.prototype.render=function(){var a=this,b=this.props,c=b.authorId,d=b.collectionId,e=b.pageId,f=b.revisionId,g=b.selectedSnapshot,h=b.isFirstRevision,i=b.lastSavedTime,j=b.isDraft,k=b.selected,m=b.onSnapshotChange,n=b.onRevisionChange,o=b.onCollaboratorClick,p=b.collaboratorWhitelist,q=b.restoreSnapshot,r=b.documentType,s=this.state.expanded,t=null;t=s?(0,l.jsx)(x,{className:"w-4 h-4"}):(0,l.jsx)(v,{className:"w-4 h-4"});var u=(0,l.jsxs)(A.Dx,{onClick:this.toggleExpand,id:"revision_".concat(f),children:[(0,l.jsx)(A.bU,{selected:k,id:ac.env.REACT_APP_STANDALONE&&j&&k?"selenium-revision_loaded":"",children:(0,l.jsxs)("p",{className:"text-base",children:[t," ",j?"Draft":"Published"," Revision"]})}),(0,l.jsx)(A.dF,{children:(0,l.jsxs)("span",{className:"font-normal",children:[j?"Saved ":"Published "," ",(0,l.jsx)(F.Z,{timestamp:i,relative:!0,filter:function(a){return a.toLowerCase()},interval:60})]})})]});return(0,l.jsxs)(A.ZP,{totalSnapshots:this.getSnapshotsListLength(),isFirst:h,isExpanded:s,children:[u,(0,l.jsx)(y.Z,{children:s&&(0,l.jsx)(z.Z,{classNames:"snapshot",timeout:500,onEntered:function(){return a.setState({transitionCompleted:!0})},children:(0,l.jsx)(ab,ag(af({},{authorId:c,pageId:e,revisionId:f,collectionId:d,selectedSnapshot:g,isFirstRevision:h,onSnapshotChange:function(a){m(a),n({id:f})},onCollaboratorClick:o,collaboratorWhitelist:p,restoreSnapshot:q,documentType:r}),{transitionCompleted:this.state.transitionCompleted}))})})]})},e}(q.Component);ak.defaultProps={isDraft:!1,expand:!1};var al=aj(ak),am=c(60958);function an(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ao(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ap(a){return(ap=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aq(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ao(a,b,c[b])})}return a}function ar(a,b){return(ar=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var as=function(a){return{store:{revisions:a.author.articleRevisions.data}}},at=function(a){var b,c;return{actions:(b=aq({},(0,s.DE)({loadArticleRevisions:O.zD,clearArticleRevisions:O.ZH},a)),c={dispatch:a},c=null!=c?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b)}},au=(0,r.$j)(as,at),av=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&ar(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=ap(b);if(c){var h=ap(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.loadMore=function(){var b=a.props,c=b.actions,d=b.authorId,e=b.collectionId,f=b.pageId,g=b.documentType;c.loadArticleRevisions(d,e,f,g)},a}var f=e.prototype;return f.componentDidMount=function(){var a=this.props,b=a.actions,c=a.authorId,d=a.collectionId,e=a.pageId,f=a.documentType;c&&d&&e&&f&&b.loadArticleRevisions(c,d,e,f)},f.componentDidUpdate=function(a){var b=this.props,c=b.store,d=b.actions,e=b.authorId,f=b.collectionId,g=b.pageId,h=b.documentType;(this.props.router.query.pageId!==a.router.query.pageId||c.revisions&&a.pageId&&g&&a.pageId!==g)&&d.clearArticleRevisions(),!c.revisions&&a.pageId!==g&&g&&d.loadArticleRevisions(e,f,g,h)},f.componentWillUnmount=function(){this.props.actions.clearArticleRevisions()},f.render=function(){var a=this.props,b=a.authorId,c=a.collectionId,d=a.pageId,e=a.selectedRevision,f=a.store.revisions,g=a.selectedSnapshot,h=a.onRevisionChange,i=a.onSnapshotChange,j=a.onCollaboratorClick,k=a.collaboratorWhitelist,m=a.restoreSnapshot,n=a.documentType,o=null==f?void 0:f.revisions;if(!o)return(0,l.jsx)(t.Z,{size:50});var p,q=null==f?void 0:f.hasMore,r=((function(a){if(Array.isArray(a))return an(a)})(p=Object.keys(o))||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(p)||function a(b,c){if(b){if("string"==typeof b)return an(b,c);var d=Object.prototype.toString.call(b).slice(8,-1);if("Object"===d&&b.constructor&&(d=b.constructor.name),"Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return an(b,c)}}(p)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort(function(a,b){return b-a});return(0,l.jsxs)("div",{className:"flex-auto overflow-y-auto max-h-full list-none pb-2 pt-0 pl-4 mx-0",style:{marginTop:"15px",marginBottom:"25px"},children:[r.map(function(a,f){var p=o[a],q={authorId:b,pageId:d,collectionId:c,documentType:n,onRevisionChange:h,selectedSnapshot:g,onSnapshotChange:i,key:a,revisionId:p.revisionId,lastSavedTime:p.lastModified,isDraft:p.isDraft,expand:0===f,isFirstRevision:0===f,selected:parseInt(e.id,10)===parseInt(a,10),onCollaboratorClick:j,collaboratorWhitelist:k,restoreSnapshot:m};return(0,l.jsx)(al,aq({},q))}),q&&(0,l.jsx)("button",{className:"outlined-default py-2 m-2 ml-4",onClick:this.loadMore,children:"Show More Revisions"})]})},e}(q.Component),aw=(0,am.withRouter)(au(av)),ax=c(131),ay=c(32210),az=c(1680),aA=c(41735),aB=c(53604),aC=c(689),aD=c(94267),aE=c(73756),aF=c(92874),aG=c(14409);function aH(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(j){c(j);return}h.done?b(i):Promise.resolve(i).then(d,e)}function aI(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aJ(a){return(aJ=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aK(a,b){return(aK=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var aL=function(a){var b,c,d,e,f=a.author,g=f.articleRevisions,h=f.allCollaborators,i=f.collection,j=a.user,k=g.data,l=(0,P.H)(k),m=l.firstSnapshot,n=l.firstRevision;return{store:{collaborators:h.data||{},shouldLoadCollaborators:!h.loading&&!h.loaded,firstSnapshot:m,firstRevision:n,selectedSnapshot:(null===(b=g.data)|| void 0===b?void 0:b.selectedSnapshot)||{key:null},selectedRevision:(null===(c=g.data)|| void 0===c?void 0:c.selectedRevision)||{key:null},authorId:j.info.loaded&&!j.info.loading?j.info.data.user_id:null,collectionDetails:null==i?void 0:null===(d=i.instance)|| void 0===d?void 0:d.details,isCollaborativePage:null!==(e=null==i?void 0:i.use_collaborative_editor)&& void 0!==e&&e}}},aM=function(a){var b,c;return{actions:(b=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){aI(a,b,c[b])})}return a}({},(0,s.DE)({loadAllCollaborators:az.H.load,clearAllCollaborators:az.H.clear,loadSnapshotProperties:aA.zD,clearSnapshotProperties:aA.ZH,loadCollectionArticle:aC.x.load,restoreCollectionArticle:n.Zx,loadArticleRevisions:O.zD,clearArticleRevisions:O.ZH,clearWidgets:aF.oh.clear,selectedSnapshotChanged:O.yB,selectedRevisionChanged:O.Tk,loadQuestionSnapshot:aB.Ol.loadQuestionSnapshot,clearRestoredQuestion:aB.Ol.clearRestoredQuestion,loadComponentSnapshot:aD.Dr.loadComponentSnapshot,clearRestoredComponent:aD.Dr.clearRestoredComponent,closeModal:aE.n.close,restoreCollaborativeCollectionArticle:n.ku},a)),c={dispatch:a},c=null!=c?c:{},Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(c)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(c)).forEach(function(a){Object.defineProperty(b,a,Object.getOwnPropertyDescriptor(c,a))}),b)}},aN=(0,r.$j)(aL,aM,null,{forwardRef:!0}),aO=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&aK(a,b)}(e,a);var b,c,d=(b=e,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=aJ(b);if(c){var h=aJ(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function e(){var a,b,c;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,e),a=d.apply(this,arguments),a.state={collaboratorTags:[]},a.selectedSnapshotChanged=function(b){var c=a.props,d=c.actions,e=c.authorId,f=c.collectionId,g=c.pageId,h=c.documentType;h===ax.qen.ASSESSMENT_QUESTION?d.clearRestoredQuestion():h===ax.qen.PROJECT_COMPONENT?d.clearRestoredComponent():d.clearWidgets(),d.selectedSnapshotChanged(b),h===ax.qen.COLLECTION_LESSON?d.loadCollectionArticle(e,f,g,b.key):h===ax.qen.ASSESSMENT_QUESTION?d.loadQuestionSnapshot(e,f,g,b.key):h===ax.qen.PROJECT_COMPONENT&&d.loadComponentSnapshot(e,f,b.key),d.loadSnapshotProperties(e,f,b.key)},a.selectedRevisionChanged=function(b){a.props.actions.selectedRevisionChanged(b)},a.isOnboardingContext=function(){var b,c=null===(b=a.props.store)|| void 0===b?void 0:b.collectionDetails,d=(null==c?void 0:c.is_parent_plan)||(null==c?void 0:c.is_plan),e=!(null==c?void 0:c.is_global)&&(null==c?void 0:c.is_standalone_module),f=null==c?void 0:c.is_template;return d||e||f},a.restoreSelected=function(){var b=arguments.length>0&& void 0!==arguments[0]?arguments[0]:null,c=a.props,d=c.actions,e=c.authorId,f=c.collectionId,g=c.pageId,h=c.store,i=c.router,j=c.documentType,k=c.workType,l=c.userToken,m=h.firstSnapshot,n=h.selectedSnapshot;(null==h?void 0:h.isCollaborativePage)?d.restoreCollaborativeCollectionArticle(e,f,g,b||n.key,l,h.authorId,!1,j):(m.key!==n.key||b)&&d.restoreCollectionArticle(i,e,f,i.query.assessmentId||i.query.projectId,g,b||n.key,j,k,a.isOnboardingContext())},a.closeSidebar=function(){var b=a.props,c=b.authorId,d=b.collectionId,e=b.pageId,f=b.router,g=b.store.isCollaborativePage,h=f.query,i=h.planAuthorId,j=h.planId,k=h.moduleAuthorId,l=h.moduleId;if(g)a.props.actions.closeModal();else if(i&&j)k&&l?f.push("/plan/".concat(i,"/").concat(j,"/module/").concat(c,"/").concat(d,"/").concat(e,"/edit")):f.push("/plan/".concat(c,"/").concat(d,"/page/").concat(e,"/edit"));else if(a.props.documentType===ax.qen.ASSESSMENT_QUESTION){var m=f.query.assessment_id,n=f.query.question_id,o=f.query.assessment_type===ax.Q5R.ENTERPRISE_ASSESSMENT;f.push("".concat(o?"/enterprise":"","/assessmenteditor/").concat(c,"/").concat(d,"/").concat(m,"/").concat(n))}else a.props.documentType===ax.qen.PROJECT_COMPONENT?a.props.setCloseSidebar():f.push("/pageeditor/".concat(c,"/").concat(d,"/").concat(e))},a.onFilterChange=function(b){var c=a.props,d=c.actions,e=c.authorId,f=c.collectionId,g=c.pageId,h=c.documentType;b=b.length?[b[b.length-1]]:[],ay.equals(a.state.collaboratorTags,b)||a.setState({collaboratorTags:b},function(){d.clearArticleRevisions(),d.loadArticleRevisions(e,f,g,h)})},a.getUser=(c=(b=k().mark(function a(b){var c;return k().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.t0=JSON,a.next=4,(0,m.Au)(b,!0);case 4:return a.t1=a.sent,a.abrupt("return",a.t0.parse.call(a.t0,a.t1));case 8:return a.prev=8,a.t2=a.catch(0),a.abrupt("return",{error:(null===a.t2|| void 0===a.t2?void 0:null===(c=a.t2.responseJSON)|| void 0===c?void 0:c.errorText)||"Failed to retrieve user details."});case 12:case"end":return a.stop()}},a,null,[[0,8]])}),function(){var a=this,c=arguments;return new Promise(function(d,e){var f=b.apply(a,c);function g(a){aH(f,d,e,g,h,"next",a)}function h(a){aH(f,d,e,g,h,"throw",a)}g(void 0)})}),function(a){return c.apply(this,arguments)}),a.setSingleFilter=function(b){a.getUser(b).then(function(a){return[a]}).then(a.onFilterChange)},a}var f=e.prototype;return f.componentDidUpdate=function(a){var b=this.props,c=b.authorId,d=b.collectionId,e=b.store,f=e.firstSnapshot,g=e.firstRevision,h=e.shouldLoadCollaborators,i=e.isCollaborativePage,j=b.actions;!a.store.firstSnapshot&&f&&(j.selectedSnapshotChanged(f),j.selectedRevisionChanged(g)),(this.props.router.query.pageId!==a.router.query.pageId||this.props.pageId&&a.pageId&&this.props.pageId!==a.pageId)&&(j.clearSnapshotProperties(),i&&j.closeModal());var k=function(a,b){return a!==b&&!(isNaN(a)&&isNaN(b))};h&&c&&d&&j.loadAllCollaborators(c,d,!0),k(a.authorId,c)&&k(a.collectionId,d)&&j.clearAllCollaborators()},f.componentWillUnmount=function(){var a=this.props.actions,b=a.clearSnapshotProperties,c=a.clearAllCollaborators;b(),c()},f.render=function(){var a=this.onFilterChange,b=this.getUser,c=this.setSingleFilter,d=this.state.collaboratorTags,e=this.props,f=e.authorId,g=e.collectionId,h=e.pageId,i=e.store,j=e.documentType,k=i.selectedSnapshot,m=i.selectedRevision,n=i.collaborators,q=(0,l.jsxs)(aG.c,{children:[(0,l.jsx)(p.Z,{className:"w-6 h-6",onClick:this.closeSidebar}),(0,l.jsx)("h4",{className:"text-center m-2",children:"Version History"})]}),r=d.map(function(a){return a.author_id}),s=Object.values(n).map(function(a){var b=a.full_name,c=a.email;return{name:b,email:c}});return(0,l.jsxs)(aG.Z,{className:"bg-white dark:bg-dark border-0 border-l border-solid border-gray-300 dark:border-dark-70",assessmentMode:j===ax.qen.ASSESSMENT_QUESTION,children:[q,(0,l.jsx)(o.Z,{onChange:a,tags:d,maxTags:64,getUser:b,customPlaceholder:"Filter by collaborator",borderless:!0,suggestions:s,type:ax.QlC.COLLABORATOR}),(0,l.jsx)(aw,{authorId:f,collectionId:g,pageId:h,documentType:j,onSnapshotChange:this.selectedSnapshotChanged,selectedRevision:m,selectedSnapshot:k,onRevisionChange:this.selectedRevisionChanged,collaboratorWhitelist:r,onCollaboratorClick:c,restoreSnapshot:this.restoreSelected})]})},e}(q.Component),aP=(0,am.withRouter)(aN(aO))},14409:function(a,b,c){"use strict";c.d(b,{c:function(){return p}});var d=c(20348),e=c(39158),f=c(35405),g=c.n(f),h=c(95929),i=c(84355),j=c(33822);function k(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function l(){var a=k(["\n          height: calc(100vh - ","px);\n          padding-bottom: 0px;\n          margin-top: ","px;\n        "]);return l=function(){return a},a}function m(){var a=k(["\n          height: 100%;\n          padding-bottom: 100px;\n          margin: 0;\n        "]);return m=function(){return a},a}function n(){var a=k(["\n  display: flex;\n  flex-direction: column;\n  flex: 0 1 375px;\n  overflow: hidden;\n  transition: 0.5s;\n  position: fixed;\n  z-index: 200;\n  padding: 0;\n  right: 0;\n  max-height: 100%;\n  width: ",";\n\n  ",";\n\n  @media (max-width: ",") {\n    display: none;\n  }\n"]);return n=function(){return a},a}var o=e.ZP.nav.withConfig({componentId:"sc-74fd14f8-0"})(n(),h.oU,function(a){return a.assessmentMode?(0,e.iv)(l(),j.jw,j.jw):(0,e.iv)(m())},i.ai.pixels),p=function(a){var b=a.children;return(0,d.jsx)("div",{className:"flex items-center justify-center bg-gray-100 dark:bg-dark-90 ".concat(g()["version-history-title-container"]),children:b})};b.Z=o},17920:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(20348),e=c(89703),f=c(29313);function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function h(a,b){return(h=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var i=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&h(a,b)}(i,a);var b,c,e=(b=i,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,h=g(b);if(c){var i=g(this).constructor;f=Reflect.construct(h,arguments,i)}else f=h.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function i(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),a=e.apply(this,arguments),a.state={timestampString:null},a.convertDateToString=function(){var b=a.props,c=b.timestamp,d=b.format,e=b.relative,g=b.calendarFormat,h=b.filter,i=b.daysToAdd,j=b.advanced,k=(0,f.ZP)(c,d,e,g,h,!1,i,j);a.setState({timestampString:k})},a.render=function(){return(0,d.jsx)("span",{children:"".concat(a.props.preText).concat(a.state.timestampString)})},a}var j=i.prototype;return j.componentDidMount=function(){this.convertDateToString(),this.setRefreshTimer()},j.componentDidUpdate=function(a){(this.props.timestamp!==a.timestamp||this.props.format!==a.format||this.props.calendarFormat!==a.calendarFormat||this.props.relative!==a.relative)&&this.convertDateToString(),this.props.interval!==a.interval&&(a.interval>0&&clearInterval(this.intervalId),this.setRefreshTimer())},j.componentWillUnmount=function(){this.resetRefreshTimer()},j.setRefreshTimer=function(){this.props.interval>0&&(this.intervalId=setInterval(this.convertDateToString,1e3*this.props.interval))},j.resetRefreshTimer=function(){this.props.interval>0&&clearInterval(this.intervalId)},i}(e.Component);i.defaultProps={format:null,interval:0,relative:!1,calendarFormat:{sameDay:"[today at] h:mm a",lastDay:"[yesterday at] h:mm a",lastWeek:"[last] dddd [at] h:mm a",sameElse:"MM/DD/YYYY [at] h:mm a",nextDay:"[tomorrow at] h:mm a"},filter:null,daysToAdd:0,preText:"",advanced:!1}},78069:function(a,b,c){"use strict";c.d(b,{Z:function(){return i}});var d=c(20348),e=c(89703),f=c(55606);function g(a){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function h(a,b){return(h=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}var i=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&h(a,b)}(i,a);var b,c,e=(b=i,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,h=g(b);if(c){var i=g(this).constructor;f=Reflect.construct(h,arguments,i)}else f=h.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function i(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,i),a=e.apply(this,arguments),a.state={hidden:!1},a}var j=i.prototype;return j.handleClose=function(){this.setState({hidden:!0})},j.render=function(){return(0,d.jsx)("div",{id:f.env.REACT_APP_STANDALONE?"selenium-alert":null,className:"py-0 px-4 h-full flex items-center justify-center text-center dark:bg-transparent ".concat(this.props.transparentBackground?"":"bg-white"," ").concat(this.props.danger?"text-error dark:text-error-light":this.props.success?"text-success dark:text-success-light":"text-black dark:text-dark-contrastText"),children:this.props.children})},i}(e.Component)},39290:function(a,b,c){"use strict";c.d(b,{Z:function(){return s}});var d=c(20348),e=c(89703),f=c(83318),g=c(42802),h=c(28961),i=c(131),j=function(a){var b=a.removeTag,c=a.data;return(0,d.jsxs)(f.Z,{backgroundColor:"bg-white border-white dark:bg-dark-90 dark:border-dark-90",padding:"px-4 py-2",parentClasses:"bg-gray-100 cursor-pointer dark:bg-dark-80 dark:hover:bg-dark-70 dark:text-dark-contrastText duration-200 flex hover:bg-primary-lightP2 items-center px-3 py-1 rounded space-x-4 text-black transition whitespace-nowrap",position:i.xRW,overlayParentClasses:"z-[200]",overlay:(0,d.jsxs)("div",{className:"flex h-20 items-center justify-center space-x-3 w-60",children:[(0,d.jsx)(g.Z,{image:c.profile_image_serving_url,name:c.full_name,size:50}),(0,d.jsx)("p",{className:"dark:text-gray-400 font-normal m-0 text-black",children:c.full_name})]}),children:[(0,d.jsx)("span",{children:c.full_name}),(0,d.jsx)(h.Z,{className:"dark:hover:text-primary-light h-3 hover:text-primary w-3",onClick:function(){return b(c)}})]})},k=j,l=c(18456);function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a,b){return(p=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function q(a){return function(a){if(Array.isArray(a))return m(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||r(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(a,b){if(a){if("string"==typeof a)return m(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return m(a,b)}}var s=function(a){!function(a,b){if("function"!=typeof b&&null!==b)throw TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&p(a,b)}(f,a);var b,c,e=(b=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}(),function(){var a,d,e,f,g=o(b);if(c){var h=o(this).constructor;f=Reflect.construct(g,arguments,h)}else f=g.apply(this,arguments);return d=this,(e=f)&&("object"==(a=e,a&&"undefined"!=typeof Symbol&&a.constructor===Symbol?"symbol":typeof a)||"function"==typeof e)?e:function(a){if(void 0===a)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return a}(d)});function f(){var a;return!function(a,b){if(!(a instanceof b))throw TypeError("Cannot call a class as a function")}(this,f),a=e.apply(this,arguments),a.state={value:"",error:null,loading:!1},a.sortedSuggestions=[],a.updateSortedSuggestions=function(){var b=q(a.props.suggestions).sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0});a.sortedSuggestions=b.map(function(a,c){var d,e,f=a.name,g=c>0&&b[c-1].name===f,h=c<b.length-1&&b[c+1].name===f;return d=function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){n(a,b,c[b])})}return a}({},a),e=(e={emailRequired:g||h},e),Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(e)):(function(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);c.push.apply(c,d)}return c})(Object(e)).forEach(function(a){Object.defineProperty(d,a,Object.getOwnPropertyDescriptor(e,a))}),d})},a.resolveSuggestion=function(b){var c,d,e,f,g,h,i,j=null;return{result:(null==(d=(c=b).match(/\((\S+)\)/))?void 0:d[1])||(e=b,g=(f=a.props).suggestions,h=f.type,i=g.filter(function(a){return a.name===e}),i.length>1?(j="Ambiguous reference to collaborator ".concat(e),null):0===i.length?(j="No ".concat(h||"collaborator"," named ").concat(e),null):i[0].email),error:j}},a.addTag=function(){var b=a.state.value;if((b=b.trim().replace(",",""))&&!a.isEmail(b)){var c=a.resolveSuggestion(b),d=c.result,e=c.error;if(e){a.setState({value:"",error:e});return}b=d}if(b&&a.isValid(b)){var f=a.props,g=f.getUser,h=f.onChange,i=f.tags,j=f.type;a.setState({value:"",loading:!0}),g(b,j).then(function(b){a.setState({loading:!1});var c=b.error;c?a.setState({error:c}):h(q(i).concat([b]))})}},a.handleKeyUp=function(b){["Enter","Tab",","].includes(b.key)&&(b.preventDefault(),a.addTag())},a.handleChange=function(b){a.setState({value:b.target.value,error:null})},a.handleDelete=function(b){var c=a.props.tags,d=a.props.onChange;c=c.filter(function(a){return a.email!==b.email}),a.setState({error:null}),d(c)},a.isEmail=function(a){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},a.hasMaxTags=function(){var b=a.props,c=b.maxTags,d=b.tags;return d.length>=c},a}var g=f.prototype;return g.componentDidMount=function(){this.updateSortedSuggestions()},g.componentDidUpdate=function(a){this.updateSortedSuggestions()},g.isValid=function(a){var b=null;return this.isInList(a)&&(b="".concat(a," has already been added.")),this.isEmail(a)||(b="".concat(a," is not a valid email address.")),!b||(this.setState({value:"",error:b}),!1)},g.isInList=function(a){return this.props.tags.some(function(b){return b.email===a})},g.getSuggestedEmails=function(){var a=this;return this.sortedSuggestions.filter(function(b){var c=b.email;return!a.isInList(c)}).map(function(a){var b=a.name,c=a.email,e=a.emailRequired?"".concat(b," (").concat(c,")"):"".concat(b);return(0,d.jsx)("option",{value:e},c)})},g.render=function(){var a=this,b=this.state,c=b.value,e=b.error,f=b.loading,g=this.props,h=g.maxTags,j=g.tags,m=g.customPlaceholder,n=g.borderless,o=g.type,p=g.viewOnly,q=g.collectionType,r=m||"Add ".concat(o,"s to this ").concat((0,i.eiC)(q)," by entering emails");return p?r="":this.hasMaxTags()?r="Maximum ".concat(h," ").concat(o,"s are allowed"):e?r=e:f&&(r="Adding ".concat(o,"...")),(0,d.jsxs)(l.ZP,{className:"border-gray-200 dark:border-gray-A200 dark:hover:border-gray-A100 dark:focus:border-gray-A100 hover:border-gray-300 dark:hover:border-gray-A100 focus:border-gray-300 dark:focus:border-gray-A100 ".concat(n?"border-0 border-b rounded-none":"border border-solid "),children:[(0,d.jsx)(l.aV,{children:j.map(function(b){return(0,d.jsx)("li",{children:(0,d.jsx)(k,{data:b,removeTag:a.handleDelete},b.email)},b.email)})}),(0,d.jsx)(l.II,{className:"bg-white dark:bg-dark ".concat(e?"placeholder-error":"placeholder-gray-500"),type:"text",name:"".concat(o,"tags"),disabled:this.hasMaxTags(),placeholder:r,onChange:this.handleChange,onKeyUp:this.handleKeyUp,onFocus:this.addTag,onBlur:this.addTag,value:c,list:"email_suggestions",autoComplete:"off"}),(0,d.jsx)("datalist",{id:"email_suggestions",children:this.getSuggestedEmails()})]})},f}(e.Component);s.defaultProps={suggestions:[],collectionType:i.dLO.COLLECTION}},75779:function(a,b,c){"use strict";c.d(b,{Z:function(){return l}});var d,e=c(20348),f=c(17335),g=c(78069),h=c(89703);function i(){return(i=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a){return h.createElement("svg",i({width:1792,height:1792,viewBox:"0 0 1792 1792"},a),d||(d=h.createElement("path",{d:"M1490 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"})))},k=c(25128),l=function(a){var b=null,c=a.className?"b-status-control ".concat(a.className):"b-status-control",d="ERROR_INFO"===a.statusData.status?"border-secondary-darkN1 dark:border-secondary":"border-error dark:border-error-light",h="ERROR_INFO"===a.statusData.status?"text-secondary-darkN1 dark:text-secondary":"text-error dark:text-error-light";return"ERROR"===a.statusData.status||"ERROR_INFO"===a.statusData.status?b=a.startIcon?(0,e.jsx)("div",{className:"p-2 px-0 flex border border-solid ".concat(d),children:(0,e.jsxs)(g.Z,{danger:!0,collapseBottom:!0,transparentBackground:a.transparentBackground,children:[(0,e.jsx)(k.Z,{className:"w-5 h-5 mr-2 fill-current flex-shrink-0 self-start ".concat(h)}),(0,e.jsx)("span",{className:"text-left ".concat(h),dangerouslySetInnerHTML:{__html:a.statusData.text}})]})}):(0,e.jsx)(g.Z,{danger:!0,collapseBottom:!0,transparentBackground:a.transparentBackground,children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:a.statusData.text}})}):"SUCCESS"===a.statusData.status?b=(0,e.jsx)(g.Z,{success:!0,collapseBottom:!0,transparentBackground:a.transparentBackground,children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:a.statusData.text}})}):"WAIT"===a.statusData.status&&(b=(0,e.jsx)(f.Z,{content:a.statusData.text,isExecution:a.isExecution})),(0,e.jsxs)("div",{className:"relative ".concat(c," body-small"),children:[b,b&&a.closeIcon&&(0,e.jsx)("i",{onClick:function(){return a.onCloseIconClick()},children:(0,e.jsx)(j,{className:"absolute top-2.5 right-2.5 cursor-pointer opacity-60 hover:opacity-100",style:{width:"14px",height:"14px"}})})]})}},18456:function(a,b,c){"use strict";c.d(b,{II:function(){return x},JW:function(){return u},Vp:function(){return t},aV:function(){return w},bp:function(){return v}});var d=c(20348),e=c(28961),f=c(39158),g=c(84355),h=c(28573);function i(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function j(){var a=i(["\n      border-bottom-left-radius: 0;\n      border-bottom-right-radius: 0;\n      margin-bottom: 0px;\n    "]);return j=function(){return a},a}function k(){var a=i(["\n      padding: 0px;\n      margin-top: 0px;\n      border-top: none;\n      border-radius: 0;\n    "]);return k=function(){return a},a}function l(){var a=i(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: inherit;\n\n  width: 100%;\n  min-height: 47px;\n\n  padding: 2px 10px;\n  margin-bottom: 10px;\n\n  transition: 0.2s;\n  border-radius: ",";\n\n  @media (max-width: ",") {\n    border-radius: ",";\n    flex-direction: column;\n    justify-content: center;\n  }\n\n  ","\n\n  ","\n"]);return l=function(){return a},a}function m(){var a=i(["\n  display: flex;\n  align-items: center;\n\n  white-space: nowrap;\n\n  border-radius: ",";\n  padding: 5px 11px;\n  transition: 0.2s;\n  cursor: pointer;\n"]);return m=function(){return a},a}function n(){var a=i(["\n  display: contents;\n"]);return n=function(){return a},a}function o(){var a=i(["\n  border: none;\n  border-radius: 0px;\n  margin-right: 0px;\n"]);return o=function(){return a},a}function p(){var a=i(["\n      display: block;\n\n      li {\n        margin: 0;\n      }\n    "]);return p=function(){return a},a}function q(){var a=i(["\n  margin: 0;\n  padding: 0;\n  list-style: none;\n  width: 100%;\n\n  display: inline-flex;\n  flex-wrap: wrap;\n  align-items: center;\n  flex-shrink: 0;\n\n  li {\n    margin: 5px 10px 5px 0;\n  }\n\n  ","\n"]);return q=function(){return a},a}function r(){var a=i(["\n  width: 100%;\n  border-radius: ",";\n  border: none;\n  outline: none;\n\n  padding: 5px 5px 5px 15px;\n\n  @media (max-width: ",") {\n    padding: 5px 5px 5px 5px;\n  }\n"]);return r=function(){return a},a}var s=f.ZP.div.withConfig({componentId:"sc-961d6a3-0"})(l(),h.Bn,g.Mq.pixels,h.Bn,function(a){return a.adjustSuggestions&&(0,f.iv)(j())},function(a){return a.suggestions&&(0,f.iv)(k())}),t=f.ZP.span.withConfig({componentId:"sc-961d6a3-1"})(m(),h._q),u=f.ZP.span.attrs(function(){return{children:(0,d.jsx)(e.Z,{className:"w-3 h-3 transition duration-200 hover:text-primary dark:hover:text-primary-light ml-5"})}}).withConfig({componentId:"sc-961d6a3-2"})(n()),v=(0,f.ZP)(t).withConfig({componentId:"sc-961d6a3-3"})(o()),w=f.ZP.ul.withConfig({componentId:"sc-961d6a3-4"})(q(),function(a){return a.suggestions&&(0,f.iv)(p())}),x=f.ZP.input.withConfig({componentId:"sc-961d6a3-5"})(r(),h.zG,g.Mq.pixels);b.ZP=s},35405:function(a){a.exports={"version-history-title-container":"VersionHistorySidebar_version-history-title-container__U8kcb",dark:"dark"}},25128:function(a,b,c){"use strict";var d,e,f=c(89703);function g(){return(g=Object.assign?Object.assign.bind():function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=function(a){return f.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 0 24 24",width:24},a),d||(d=f.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"})),e||(e=f.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm1-5a10 10 0 100 20 10 10 0 000-20zm0 18a8 8 0 110-16 8 8 0 010 16z"})))};b.Z=h}}])
//# sourceMappingURL=71875-38818c49fb9094cc.js.map